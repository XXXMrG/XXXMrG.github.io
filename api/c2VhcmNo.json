[{"title":"DP ä¹‹æœ€é•¿å…¬å…±å­åºåˆ—å’Œæœ€é•¿å…¬å…±å­ä¸²","date":"2019-09-05T11:31:23.000Z","updated":"2019-09-05T13:57:32.672Z","content":"ä¸¤ä¸ªé—®é¢˜éƒ½æ˜¯å…¸å‹çš„ dp é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æ•´ä½“çš„æœ€ä¼˜è§£ä¾èµ–äºå­é—®é¢˜çš„æœ€ä¼˜è§£ï¼ŒåŒæ—¶å­é—®é¢˜æ±‚è§£çš„è¿‡ç¨‹ä¸­å­˜åœ¨ç€é—®é¢˜é‡å ï¼Œæ„å‘³ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿å­˜ç»“æœçš„æ–¹å¼æ¥ç”¨ç©ºé—´æ¢æ—¶é—´ã€‚æœ€é•¿å…¬å…±å­ä¸²ï¼ˆLongest Common Substringï¼‰ä¸æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLongest Common Subsequenceï¼‰çš„åŒºåˆ«ï¼š å­ä¸²è¦æ±‚åœ¨åŸå­—ç¬¦ä¸²ä¸­æ˜¯è¿ç»­çš„ï¼Œè€Œå­åºåˆ—åˆ™åªéœ€ä¿æŒç›¸å¯¹é¡ºåºï¼Œå¹¶ä¸è¦æ±‚è¿ç»­ã€‚\nLongest Common Subsequenceé—®é¢˜æè¿°ï¼šç»™å®šä¸¤ä¸ªåºåˆ—ï¼šX[1â€¦m]å’ŒY[1â€¦n]ï¼Œæ±‚åœ¨ä¸¤ä¸ªåºåˆ—ä¸­åŒæ—¶å‡ºç°çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦ã€‚å‡è®¾ X å’Œ Y çš„åºåˆ—å¦‚ä¸‹ï¼š12X[1...m] = &#123;A, B, C, B, D, A, B&#125;Y[1...n] = &#123;B, D, C, A, B, A&#125;\nå¯ä»¥çœ‹å‡ºï¼ŒX å’Œ Y çš„æœ€é•¿å…¬å…±å­åºåˆ—æœ‰ â€œBDABâ€ã€â€œBCABâ€ã€â€œBCBAâ€ï¼Œå³é•¿åº¦ä¸º4ã€‚æˆ‘ä»¬å°†å­é—®é¢˜åˆ†è§£ä¸º m å’Œ n é€’å¢çš„è¿‡ç¨‹ï¼Œå­é—®é¢˜çš„è§£åˆ†åˆ«æ˜¯ä»¥ç¬¬ m ä¸ªå­—ç¬¦å’Œç¬¬ n ä¸ªå­—ç¬¦ä¸ºç»“å°¾çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦ï¼Œé€’æ¨å…¬å¼å¦‚ä¸‹ã€‚\n\nå¦‚æœå½“å‰æŒ‡é’ˆæŒ‡å‘çš„ä¸¤ä¸ªå­—ç¬¦ç›¸ç­‰åˆ™åœ¨å­é—®é¢˜çš„åŸºç¡€ä¸Šå¢åŠ ä¸€ï¼Œå¦‚æœä¸ç›¸ç­‰ï¼Œå°±å‘å‰æ‰¾æœ€å¤§å€¼ä½œä¸ºæ­¤å¤„çš„è§£ã€‚åˆ™æœ€åçš„æ•°ç»„å…ƒç´ å³ä¸ºæœ€ä¼˜è§£ã€‚\n\n123456789101112131415161718192021222324252627282930313233343536373839/**** @param &#123;string&#125; s1* @param &#123;string&#125; s2* æœ€é•¿å­åºåˆ— å¯ä»¥ä¸è¿ç»­*/const LCS = (s1, s2) =&gt; &#123;  const m = s1.length + 1  const n = s2.length + 1  let dp = makeArray(m, n)  for (let i = 0; i &lt; m; i++) &#123;    for (let j = 0; j &lt; n; j++) &#123;      if (i === 0 || j === 0) &#123;        dp[i][j] = 0      &#125; else if (s1[i-1] === s2[j-1]) &#123;        // cur char equal means value plus        dp[i][j] = dp[i - 1][j - 1] + 1      &#125; else &#123;        // not equal means use front value        dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1])      &#125;    &#125;  &#125;  return dp[m - 1][n - 1]&#125;const makeArray = (m, n) =&gt; &#123;  let a = []  for (let i = 0; i &lt; m; i++) &#123;    a.push([])    for (let j = 0; j &lt; n; j++) &#123;      a[i].push([])    &#125;  &#125;  return a&#125;const res = LCS('abcde', 'def')console.log(res)\nLongest Common Substringé—®é¢˜æè¿°ï¼šç»™å®šä¸¤ä¸ªåºåˆ—ï¼šX[1â€¦m]å’ŒY[1â€¦n]ï¼Œæ±‚åœ¨ä¸¤ä¸ªåºåˆ—ä¸­åŒæ—¶å‡ºç°çš„æœ€é•¿å­ä¸²ï¼ˆè¦æ±‚è¿ç»­ï¼‰çš„é•¿åº¦ã€‚å‡è®¾ X å’Œ Y çš„åºåˆ—å¦‚ä¸‹ï¼š12X[1...m] = &#123;A, B, C, B, D, A, B&#125;Y[1...n] = &#123;B, D, C, A, B, A&#125;\nå¯ä»¥çœ‹å‡ºï¼ŒX å’Œ Y çš„æœ€é•¿å…¬å…±å­ä¸²æœ‰ â€œBDâ€ï¼Œå³é•¿åº¦ä¸º2ã€‚\nè¦æ±‚è¿ç»­å®é™…ä¸Šæ˜¯ä¸Šä¸€ä¸ªé—®é¢˜çš„ç®€åŒ–ï¼Œæ„å‘³ç€å½“å­é—®é¢˜å‡ºç°ä¸ç¬¦åˆæ¡ä»¶çš„æ—¶å€™ï¼Œé‚£ä¹ˆæ­¤å¤„çš„è§£å°±ç½®ä¸º 0ï¼Œä¹Ÿå°±æ˜¯é‡æ–°å¼€å§‹ä¸€ä¸ªå­åºåˆ—ï¼Œå› æ­¤è¿™æ ·é—®é¢˜ä¾èµ–çš„å­é—®é¢˜æ•°å®é™…ä¸Šä¹Ÿå˜å°‘äº†ï¼Œæ–°çš„é—®é¢˜çš„å€¼åªä¾èµ–ä¸Šä¸€å±‚çš„è§£ï¼Œå½“ä¸ç¬¦åˆç›¸ç­‰æ¡ä»¶çš„æ—¶å€™ï¼Œé—®é¢˜çš„è§£æ˜¯ 0ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ç©ºé—´ä½¿ç”¨ï¼Œå°† m  n çš„æ•°ç»„ç©ºé—´ç¼©å‡ä¸º m  2 æˆ–è€…æ˜¯ n * 2 ï¼ˆæ ¹æ®ä½ å¤–å±‚å¾ªç¯æ¥å®šï¼‰ï¼Œè¿™é‡Œéœ€è¦ä¸€ç‚¹æŠ€å·§ï¼Œç”¨å–ä½™è¿ç®—æ¥ä¿å­˜æœ€åä¸¤è¡Œæ•°æ®ã€‚\n12345678910111213141516171819202122232425262728293031/**** @param &#123;string&#125; s1* @param &#123;string&#125; s2*/const LCS = (s1, s2) =&gt; &#123;  const m = s1.length  const n = s2.length  let maxGol = 0  let dp = [[], []]  for (let i = 0; i &lt; m; i++) &#123;    // just use to line to save the dp value    let cur = (i + 2) % 2    let pre = (i + 1) % 2    for (let j = 0; j &lt; n; j++) &#123;      if (s1[i] === s2[j]) &#123;        if (i === 0 || j === 0) &#123;          dp[cur][j] = 1        &#125; else &#123;          dp[cur][j] = dp[pre][j-1] + 1        &#125;      &#125; else &#123;        dp[cur][j] = 0      &#125;      maxGol = Math.max(dp[cur][j], maxGol)    &#125;  &#125;  return maxGol&#125;const res = LCS('abcdxexxxf', 'def')console.log(res)\nReferenceLeetcode-Longest Common Substring(æœ€é•¿å…¬å…±å­å­—ç¬¦ä¸²) - class0åŸºç¡€ - åšå®¢å›­LeetCode-DPç®—æ³• | æœ€é•¿å…¬å…±å­åºåˆ—å’Œæœ€é•¿å…¬å…±å­ä¸²åŒºåˆ« - ä¸œå—é£çš„åšå®¢ - CSDNåšå®¢ã€åŠ¨æ€è§„åˆ’ã€‘Dynamic Programming - ç¥å¥•çš„ä¸“æ  - CSDNåšå®¢\n","thumbnail":"https://i.loli.net/2019/09/05/afINlDJcPYseSd6.png","color":"#111","plink":"https://xkeith.space/post/dp-lcs/"},{"title":"å¦‚ä½•ä¼˜é›…çš„åœ¨ Material UI ä¸­ä½¿ç”¨ form","date":"2019-09-01T11:31:23.000Z","updated":"2019-09-05T13:44:36.303Z","content":"ä½ å¯èƒ½æƒ³é—®æˆ‘ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ antd ï¼ŸMaterial UI å¯èƒ½åœ¨å›½å†…çš„å…¬å¸å’Œå‰ç«¯åœˆå­é‡Œå¹¶ä¸ç«çƒ­ï¼Œå› ä¸ºä»–ä»¬æœ‰ antdï¼Œè¯šç„¶ antd ç¡®å®æ˜¯ä¸€å¥—éå¸¸å¥½çš„ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆï¼Œé˜¿é‡Œä¹Ÿæ˜¯è¿™ä¹ˆä¸ºå…¶å®šä½çš„ï¼Œä½†æ˜¯å…¶ä½œä¸ºä¸€ä¸ªå•çº¯çš„ UI æ¡†æ¶å…¶å®è¿‡äºå¤æ‚äº†ï¼Œè¿‡äºå°è£…äº†ï¼Œä¼šè®©ä½¿ç”¨è€…ç»å¸¸æ„Ÿè§‰åˆ°ä¸è‡ªç”±ï¼Œå¹¶ä¸”ä¼šè®©ä»£ç çš„é‡å¤åº¦å’Œ UI çš„é‡å¤åº¦è¿‡é«˜ï¼Œç„¶è€Œå…¶å®è¿™ä¸ªåœ¨ä¼ä¸šçº§çš„åå°ç®¡ç†ç³»ç»Ÿä¸­æ˜¯å¥½äº‹ï¼Œèƒ½å¤Ÿè®©é£æ ¼å’Œä½¿ç”¨æ–¹æ³•ç»Ÿä¸€ï¼Œé™ä½å­¦ä¹ æˆæœ¬ã€‚ä½†æ˜¯å¯¹äºå‰ç«¯æœ€é‡è¦çš„é¢†åŸŸï¼Œä¹Ÿå°±æ˜¯èƒ½å¤Ÿåšå‡ºé£æ ¼å„å¼‚ï¼ŒåŠŸèƒ½å·®åˆ«å¾ˆå¤§çš„é¡µé¢ç­‰åœºæ™¯ï¼Œä½¿ç”¨ antd å¾€å¾€å¹¶éæœ€å¥½çš„é€‰æ‹©ï¼Œå°¤å…¶æ˜¯åœ¨ to C äº§å“ä¸­ï¼Œä½ åŸºæœ¬ä¸å¯èƒ½çœ‹åˆ° antd çš„å½±å­ï¼Œè€Œ MUI åœ¨è¿™æ–¹é¢åšçš„å´å¾ˆå¥½ï¼Œåªè´Ÿè´£å•å…ƒç‰©æ–™çš„é£æ ¼ç»Ÿä¸€ï¼Œè€Œå¦‚ä½•ç»„åˆï¼Œå¦‚ä½•æ‹“å±•å’Œå°è£…ï¼Œåˆ™æ˜¯å®Œå…¨äº¤è¿˜ç»™å¼€å‘è€…ï¼Œè¿™ä¹Ÿæ˜¯ Material Design çš„é­…åŠ›æ‰€åœ¨ï¼Œå³ä½¿ Google åœ¨ä»–ä»¬çš„äº§å“ä¸­å¤§é‡ä½¿ç”¨è¯¥è®¾è®¡é£æ ¼ï¼Œä½ å´å¾ˆå°‘ä¼šæ„Ÿè§‰åˆ°é¡µé¢çš„å•ä¸€å’Œé‡å¤ã€‚å› æ­¤åœ¨ Material UI ä¸­æ§åˆ¶ form å’Œåœ¨å…¶ä»–ä»»ä½•ä¸€ä¸ªæ¡†æ¶ï¼Œç”šè‡³æ˜¯åŸç”Ÿ React åº”ç”¨ä¸­ä½¿ç”¨ form æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œå¹¶ä¸”Material UI ä¸­å¾ˆå¤š React hook çš„å®ç°æ›´æ˜¯ç¬¦åˆæœªæ¥ React å®˜æ–¹æ¨èçš„ä»£ç é£æ ¼ã€‚å®é™…ä¸Š antd ä¸­çš„ rc-form çš„å®ç°å°±ä»ç„¶æ˜¯åŸºäºå—æ§ç»„ä»¶å’Œ state ç®¡ç†å®ç°çš„ï¼Œantd å®é™…ä¸Šä¸ºå…¶ä¸­çš„æ¯ä¸€ä¸ªå®ç°éƒ½åˆé‡æ–°èµ·äº†ä¸€ä¸ªè‡ªå·±çš„åå­—ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹è¿™äº›åå­—å¯èƒ½ä¼šè®©ä½ çš„ä»£ç çœ‹èµ·æ¥æ›´åŠ å‡Œä¹±å’Œéš¾ä»¥ç†è§£ï¼Œè€Œå¿…ä¸å¯å°‘çš„ Form.create() å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œè¿‡å¤šçš„ä½¿ç”¨é«˜é˜¶ç»„ä»¶ä¹Ÿå¯èƒ½ä¼šè®©ä»£ç çš„ DOM å±‚çº§æ— è°“çš„å¢åŠ ï¼Œç„¶è€Œæœ€ä¸ºè®©äººå¤´ç—›çš„å®é™…ä¸Šæ˜¯æœ€å¸¸ç”¨çš„ form è¡¨å•å€¼çš„è·å–ã€‚å¦‚æœä½ æƒ³å•ç‹¬è·å–ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ä½ éœ€è¦å†™å¾ˆå¤šä½ è‡ªå·±ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦è¿™æ ·å†™çš„ä»£ç ï¼Œæ¯”å¦‚ä¸ºä»€ä¹ˆè¡¨å•çš„ form å¯¹è±¡ä¼šå‡ºç°åœ¨ç»„ä»¶çš„ props ä¸­ï¼Œè€Œå¦‚æœä¸€ä¸ªçˆ¶çº§ç»„ä»¶æƒ³è·å–å­ç»„ä»¶ä¸­çš„è¡¨å•å°±æ›´å¤æ‚äº†ï¼Œä½ ä¸€å®šè¦æŠŠå­ç»„ä»¶çš„ ref ç»‘å®šåˆ°çˆ¶ç»„ä»¶ä¸­æ‰èƒ½å¯¹å…¶éªŒè¯å’Œå–å€¼ï¼Œè€Œè¿™äº›ä»£ç å®é™…ä¸Šæ˜¯å¾ˆå†—ä½™çš„ï¼Œè®©ä½¿ç”¨è€…ä¸åŸç”Ÿ form å®Œå…¨å‰²è£‚ï¼Œè®©ä½¿ç”¨è€…å¯¹ antd äº§ç”Ÿè¿‡åº¦çš„ä¾èµ–ï¼Œç”šè‡³ç¦»å¼€ antd å°±ä¸ä¼šå¤„ç†è¡¨å•ã€‚\nå—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶å¯èƒ½å¯¹äºå¾ˆå¤šé•¿å¹´ä½¿ç”¨ antd çš„ rc-form çš„äººæ¥è¯´ï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µä¼šå˜å¾—éå¸¸æ¨¡ç³Šï¼Œç„¶è€Œå®é™…ä¸Šåœ¨å¤§å¤šæ•° React åº”ç”¨ä¸­ï¼Œè¿™æ‰æ˜¯çœŸæ­£ç”¨æ¥å¤„ç† form çš„æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œä¸¤ç§æ–¹æ³•å„æœ‰åˆ©å¼Šï¼Œå¯èƒ½ç›¸æ¯”äº antd å°è£…å¥½çš„ç»„ä»¶ä½¿ç”¨ä¸Šéƒ½ä¼šæ›´ä¸ºå¤æ‚ä¸€ç‚¹ï¼Œä½†æ˜¯è§£å†³æ–¹æ¡ˆæ›´ä¸ºé€šç”¨å’Œå®¹æ˜“ç†è§£ï¼Œå› ä¸ºå¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸æ¨èä¸ºäº†å¤„ç†è¡¨å•è€Œå¼•å…¥æ•´ä¸ª UI æ¡†æ¶ï¼Œè€Œä¸”è¿™ç§ç¼–ç¨‹æ–¹å¼æ›´è´´è¿‘äºåŸç”Ÿï¼Œèƒ½è®©äººçŸ¥é“è‡ªå·±åœ¨å¹²ä»€ä¹ˆï¼Œç›¸æ¯” re-form ä»£ç çš„å¯è¯»æ€§ä¹Ÿæœ‰äº†ä¿éšœã€‚\nå—æ§ç»„ä»¶å¯¹äº form ä¸­çš„æ¯ä¸€ä¸ªå­—æ®µ input radio ç­‰ï¼Œéƒ½ä¸ºå…¶ç»‘å®šä¸€ä¸ª state ï¼Œæ¯æ¬¡è¾“å…¥çš„å€¼å‘ç”Ÿæ”¹å˜éƒ½é€šè¿‡ onValueChange æ¥é‡æ–°è¿›è¡Œ setState åŒæ—¶å°† input çš„ Value ä¹Ÿç›´æ¥ç»‘å®šä¸º state ä¸Šå¯¹åº”çš„å€¼ã€‚è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹åœ¨äºï¼Œåˆ©ç”¨ state çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„å¯¹å…¶è¿›è¡Œæå–å’Œæ ¼å¼åŒ–ï¼ŒåŒæ ·æ¯æ¬¡è¾“å…¥çš„æ”¹å˜éƒ½ä¼šé€šçŸ¥ä¹Ÿæ„å‘³ç€æ¯ä¸€æ¬¡å€¼çš„æ”¹å˜æˆ‘ä»¬éƒ½å¯ä»¥åŠæ—¶çš„å¯¹å…¶è¿›è¡ŒéªŒè¯ã€‚è€Œè¿™ç§æ–¹æ³•å­˜åœ¨çš„é—®é¢˜å°±æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºç»„ä»¶æ·»åŠ å¾ˆå¤šçš„ state ï¼Œå¦‚æœè¯¥ç»„ä»¶çš„è¡¨å•é¡¹å¾ˆå¤šçš„è¯ï¼Œç»„ä»¶çš„ state ä¼šå †ç§¯å¾ˆé•¿ä¸€ä¸²ï¼Œè€Œè¿™äº›æ•°æ®ä¸­å¤§å¤šæ•°éƒ½æ˜¯åªéœ€è¦å–æœ€åå€¼çš„ï¼Œæ²¡æœ‰å¿…è¦ä¸€å®šè¦å°†å…¶è®¾ç½®ä¸º stateï¼ŒåŒæ—¶ç”±äºæ¯ä¸€æ¬¡æ”¹å˜éƒ½ä¼šé‡æ–° setState ä¹Ÿå°±æ„å‘³ç€æ¯ä¸€æ¬¡è¾“å…¥éƒ½ä¼´éšç€ä¸€æ¬¡é‡å¤æ¸²æŸ“ï¼Œè€Œä¸”æˆ‘ä»¬å¾€å¾€åœ¨è¿™ä¸ªæƒ…å†µä¸‹ä¹Ÿä¸ä¼šä¸ºå…¶å¢åŠ é˜²æŠ–ï¼Œé‚£ä¹ˆæ‰€å¸¦æ¥çš„é‡å¤æ¸²æŸ“çš„æ„ä¹‰ä¹Ÿæ˜¯ä¸å¤§çš„ã€‚\néå—æ§ç»„ä»¶æ›´ä¸ºè´´è¿‘åŸç”Ÿ form çš„ä¸€ç§æ–¹æ³•ï¼Œä¸ React çš„æ§åˆ¶åŸºæœ¬æ— å…³ï¼Œåªæ˜¯é€šè¿‡ ref æ¥ç›´æ¥è·å–è¡¨å• DOM ä»è€Œè·å– Valueã€‚è¿™ç§æ–¹å¼æ›´ä¸ºç›´æ¥ï¼Œä½†å…¶å­˜åœ¨çš„å¼Šç«¯åŒæ ·å¾ˆå¤šï¼Œå¦‚ä¸èƒ½åŠæ—¶å¯¹å…¶è¿›è¡Œè¡¨å•éªŒè¯ï¼Œå¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¦å»æ‰‹åŠ¨ç»‘å®š ref ç­‰ã€‚åœ¨å¤§å¤šæ•°çš„æƒ…å†µä¸‹å’Œå¤šæ•°çš„ form åº“ä¸­çš„å®ç°åŸºæœ¬ä¸Šéƒ½è¿˜æ˜¯åŸºäºå—æ§ç»„ä»¶å’Œ state ç®¡ç†çš„åŸºç¡€ä¹‹ä¸Šçš„ã€‚\næ­é… react-hook-formè¿™ç®€ç›´æ˜¯æˆ‘è§è¿‡çš„æœ€ä¼˜é›…çš„å¤„ç† form çš„åº“äº†ï¼Œå…¨åº“åªæœ‰ä¸åˆ°åä¸ª API ï¼Œå¹¶ä¸”å®ç°å®Œå…¨åŸºäº React hook ï¼ˆæ„å‘³ç€ä½ çš„ React ç‰ˆæœ¬åŒæ ·è¦æ”¯æŒ hook ï¼‰å¯ä»¥è¯´æ˜¯èåˆäº†å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶çš„ä¼˜ç‚¹ï¼Œè®©ç»„ä»¶çš„å€¼è·å–ä¸åœ¨ä¾èµ– DOMï¼Œä¹Ÿä¸éœ€è¦ä¾èµ– state ï¼Œä¹Ÿå°±ä¸ä¼šæœ‰é‚£ä¹ˆå¤šçš„ re-render åŒæ ·ä»–çš„ validate ä¹Ÿå¾ˆå¥½ç”¨ï¼Œå› ä¸ºå…¶æ‹“å±•äº† H5 ä¸­çš„åŸç”Ÿ validate æ¨¡å—ï¼Œåœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ä¹Ÿä¼šå¯¹åŸç”Ÿç¼–ç¨‹æœ‰æ›´æ·±çš„ç†è§£ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ğŸŒ°\n\n\n\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071const SignInSide = props =&gt; &#123;  const classes = useStyles()  const &#123; register, handleSubmit, errors &#125; = useForm()  const handleLogin = data =&gt; &#123;    console.log(errors)    console.log(data)    props.dispatch(actions.asyncLogin(data))  &#125;  const handleAuth = () =&gt; &#123;    props.dispatch(actions.asyncAuth())  &#125;  return (    &lt;Grid container component=\"main\" className=&#123;classes.root&#125;&gt;      &lt;CssBaseline /&gt;      &lt;Grid item xs=&#123;false&#125; sm=&#123;4&#125; md=&#123;7&#125; className=&#123;classes.image&#125; /&gt;      &lt;Grid item xs=&#123;12&#125; sm=&#123;8&#125; md=&#123;5&#125; component=&#123;Paper&#125; elevation=&#123;6&#125; square&gt;        &lt;div \tclassName=&#123;classes.paper&#125;&gt;          &lt;Avatar className=&#123;classes.avatar&#125;&gt;            &lt;LockOutlinedIcon /&gt;          &lt;/Avatar&gt;          &lt;Typography component=\"h1\" variant=\"h5\"&gt;            Sign in          &lt;/Typography&gt;          &lt;form className=&#123;classes.form&#125; onSubmit=&#123;handleSubmit(handleLogin)&#125;&gt;            &lt;TextField              inputRef=&#123;register(&#123;                required: 'no email is dame',                maxLength: &#123; value: 10, message: 'too long' &#125;,              &#125;)&#125;              error=&#123;Boolean(errors.email)&#125;              variant=\"outlined\"              margin=\"normal\"              fullWidth              id=\"email\"              label=\"Email Address\"              name=\"email\"              helperText=&#123;                errors.email ? errors.email.message : 'input your email'              &#125;              autoFocus            /&gt;            &lt;Button              type=\"submit\"              fullWidth              variant=\"contained\"              color=\"primary\"              className=&#123;classes.submit&#125;            &gt;              Sign In            &lt;/Button&gt;            &lt;Grid container&gt;              &lt;Grid item xs&gt;                &lt;Link href=\"#\" variant=\"body2\"&gt;                  Forgot password?                &lt;/Link&gt;              &lt;/Grid&gt;              &lt;Grid item&gt;                &lt;Link href=\"#\" variant=\"body2\" onClick=&#123;handleAuth&#125;&gt;                  &#123;\"Don't have an account? Sign Up\"&#125;                &lt;/Link&gt;              &lt;/Grid&gt;            &lt;/Grid&gt;            &lt;Box *mt*=&#123;5&#125;&gt;              &lt;Copyright /&gt;            &lt;/Box&gt;          &lt;/form&gt;        &lt;/div&gt;      &lt;/Grid&gt;    &lt;/Grid&gt;  )&#125;\nå› ä¸º Material UI å¹¶æ²¡æœ‰æä¾›ç»™æˆ‘ä»¬ validate çš„æ¥å£ï¼Œåªæ˜¯åœ¨ TextField ä¸­ç»™äº†æˆ‘ä»¬ä¸€ä¸ªéªŒè¯å‡ºé”™çš„æ ·å¼ï¼Œè€Œè¿™é‡Œæˆ‘ä»¬ç»“åˆä½¿ç”¨ rhf çš„ error æœºåˆ¶å¯ä»¥ä¸ºä¸åŒçš„éªŒè¯å®šä¹‰ä¸åŒçš„æç¤ºï¼ŒåŒæ—¶å¯ä»¥åšåˆ°å¾ˆå®Œç¾çš„ä¸€ä¸ªéªŒè¯åŠ¨ç”»çš„åé¦ˆï¼Œè€Œæäº¤çš„è¡¨å•æ•°æ®åªæœ‰åœ¨é€šè¿‡æ‰€æœ‰éªŒè¯ä¹‹åæ‰ä¼šä¼ å…¥åˆ° handleLogin ä¸­ï¼Œå¯ä»¥ç›´æ¥è‡ªç”±ä½¿ç”¨ï¼Œå¦‚æœæƒ³è¦ä¼ åˆ°çˆ¶ç»„ä»¶ä¸­ï¼Œé‚£ä¹ˆå°±é€šè¿‡ props æŠŠè¿™ä¸ªæ–¹æ³•ä¼ è¿‡æ¥å°±å¥½å•¦ã€‚å¦‚æœè§‰å¾—è¿™æ ·ä½¿ç”¨ä¼šæ¯”è¾ƒéº»çƒ¦çš„è¯å¯ä»¥è‡ªå·±åŸºäºåŸç”Ÿçš„ Input è‡ªå·±å¯¹å…¶è¿›è¡Œå’Œ rhf çš„æ•´åˆå°è£…ï¼Œè¿™åŒæ ·ä¹Ÿæ˜¯ Material UI é¼“åŠ±å¤§å®¶å»åšçš„ã€‚\nReferenceControlled and uncontrolled form inputs in React donâ€™t have to be complicated - Gosha ArinichAntDesignè¡¨å•çš„ç†è§£ä¸ä½¿ç”¨ - æ˜é‡‘GitHub - react-hook-form/react-hook-form: ğŸ“‹ React hooks for form validation without the hassle\n","thumbnail":"https://i.loli.net/2019/09/01/jcRWLVpslxDwniX.png","color":"#111","plink":"https://xkeith.space/post/arc-31/"},{"title":"å‡½æ•°å¼ç¼–ç¨‹ in JavaScript","date":"2019-08-03T09:26:44.000Z","updated":"2019-08-04T13:07:44.228Z","content":"\nå¯¹æˆ‘æ¥è¯´ï¼Œé‡å¤§æ¼”å˜è¿˜æ˜¯å‘æ›´åŠ å‡½æ•°å¼çš„é£æ ¼çš„å‘å±•ï¼Œå®ƒä½¿å¾—æˆ‘ä»¬æ”¾å¼ƒå¾ˆå¤šæ—§çš„ä¹ æƒ¯ï¼Œå¹¶ä»ä¸€äº›é¢å‘å¯¹è±¡æ€æƒ³ä¸­é€æ¸é€€å‡ºã€‚  â€”â€” John Carmack\n\n\nå‡½æ•°å¼ç¼–ç¨‹æœ‰åˆ«äºæˆ‘ä»¬ä¼ ç»Ÿçš„å­¦ä¹ çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå®ƒä½¿ç”¨å‡½æ•°æ¥å°†å€¼è½¬æ¢æˆæŠ½è±¡å•å…ƒï¼Œæ¥ç€ç”¨äºæ„å»ºè½¯ä»¶ç³»ç»Ÿã€‚ä¸åŒäºå‘½ä»¤å¼ç¼–ç¨‹çš„æµæ°´çº¿ç¼–ç¨‹æ–¹å¼ï¼Œå‡½æ•°å¼ç¼–ç¨‹å¹¶ä¸éœ€è¦äº‹æ— å·¨ç»†çš„å°†æ•´ä¸ªç¨‹åºçš„æµç¨‹ç¼–å†™å‡ºæ¥ï¼Œæˆ–è€…è¯´åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œç¨‹åºé€šè¿‡ä¸€ä¸ªä¸ªé»‘ç›’æ¥è¿›è¡Œæ•°æ®çš„å¤„ç†ï¼Œé€šè¿‡é»‘ç›’çš„ç»“åˆæ¥å¾—åˆ°ç»“æœï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å…³ç³»é»‘ç›’å†…éƒ¨å‘ç”Ÿäº†ä»€ä¹ˆï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿä¸€å®šè¦ä¿è¯æ¯ä¸€æ¬¡é»‘ç›’çš„è°ƒç”¨çš„ç›¸åŒè¾“å…¥ä¼šäº§ç”Ÿç›¸åŒçš„è¾“å‡ºã€‚å‡½æ•°å¼ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æœ€å¤§åŒºåˆ«åœ¨äºå¯¹é—®é¢˜çš„å¤„ç†æ–¹å¼ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹æŒ‡å¯¼æˆ‘ä»¬å°†é—®é¢˜åˆ†è§£å¹¶ç»„åˆï¼Œç”¨å®é™…ç”Ÿæ´»çš„æ€æƒ³å»æ€è€ƒç¼–ç¨‹é£æ ¼ï¼Œç”¨å¯¹è±¡ç»„åˆæ¥è§£å†³é—®é¢˜ã€‚è€Œå‡½æ•°å¼ç¼–ç¨‹çš„æ€è€ƒæ–¹å¼åˆ™æ›´ä¸ºç›´æ¥ï¼Œç›´æ¥å°†é—®é¢˜æå‡ºåˆ°å¾—å‡ºç»“æœçš„æµç¨‹æŠ½è±¡æˆå¤šä¸ªå‡½æ•°å¤„ç†ç»“æœçš„è¿‡ç¨‹ï¼Œé€šè¿‡ç”¨å‡½æ•°æ¥åˆ†å¸ƒè®¡ç®—è¾“å…¥å¾—åˆ°è¾“å‡ºç»“æœã€‚è€Œåœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­æœ€ä¸ºé‡è¦çš„å‰æå°±æ˜¯ç¼–ç¨‹è¯­è¨€åº”å°†å‡½æ•°ä½œä¸ºâ€œä¸€ç­‰å…¬æ°‘â€æ¥å¤„ç†ï¼Œè¿™æ„å‘³ç€å‡½æ•°åº”è¯¥åŒå…¶ä»–åŸºæœ¬ç±»å‹æ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ï¼Œè¿™å°±èµ‹äºˆäº†æˆ‘ä»¬æ›´å¤šçš„å¤„ç†å‡½æ•°çš„èƒ½åŠ›ï¼Œå¦‚å‚æ•°åˆ†è§£è°ƒç”¨ï¼ˆCurryingï¼‰çº¯å‡½æ•°ã€‚å‡½æ•°å¼ç¼–ç¨‹èµ‹äºˆäº† JavaScript ç¼–ç¨‹å¾ˆå¤šæ–°çš„ç¼–ç¨‹æ€æƒ³ï¼Œè¿™äº›ç¼–ç¨‹æ€æƒ³åœ¨å¾ˆå¤šå‰ç«¯æ¡†æ¶ä¸­å¹¿ä¸ºä½¿ç”¨ï¼Œä½†å‡½æ•°å¼ç¼–ç¨‹åŒæ ·ä¸ä»…ä»…æ˜¯å‰ç«¯çš„ä¸“åˆ©ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿä¸åº”è½å…¥å‡½æ•°å¼ç¼–ç¨‹æ˜¯â€œæ”¿æ²»æ­£ç¡®â€çš„è¯¯åŒºï¼Œä¿æŒç¨‹åºçš„é«˜æ•ˆå¯ç»´æŠ¤ï¼Œå›¢é˜Ÿä»£ç é£æ ¼ç»Ÿä¸€è¿™äº›æ‰åº”è¯¥æ˜¯æˆ‘ä»¬é‡ç‚¹è€ƒè™‘çš„ï¼Œå‡½æ•°å¼ç¼–ç¨‹åªæ˜¯ä¸€ç§å·¥å…·è€Œå·²ã€‚ä½¿ä¹‹è¿è¡Œï¼Œä½¿ä¹‹æ­£ç¡®ï¼Œä½¿ä¹‹å¿«é€Ÿ\né«˜é˜¶å‡½æ•°ç”±å‡½æ•°æ„å»ºå‡½æ•°é€’å½’çº¯åº¦å’Œä¸å˜æ€§MixinMixin æ˜¯ä¸€ä¸ªä»ä¸€å¼€å§‹è¢«æå‡ºå°±é¥±å—äº‰è®®çš„æ¨¡å¼ï¼Œå®ƒå®é™…ä¸Šçš„æ ¸å¿ƒæ€æƒ³ä»ç„¶æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ç»§æ‰¿å’Œç»„åˆï¼Œåªæ˜¯åœ¨ JavaScript ä¸­å®ç°åŸå‹é“¾ç»§æ‰¿çš„æ–¹å¼å’Œå…¶ä»–è¯­è¨€æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œè¿™ç§ç›´æ¥æ“ä½œåŸå‹çš„æ–¹å¼ä¸€æ—¦æ“ä½œä¸å½“æˆ–æ˜¯æ–‡æ¡£ä¸å¥å…¨çš„è¯ä¼šä½¿å¾—ä»£ç çš„å¯è¯»æ€§å¤§å¤§é™ä½ï¼Œä»£ç ä¸­ä¼šå‡ºç°å¾ˆå¤šä»å‡½æ•°åŸç†å±‚å°±å­˜åœ¨çš„é­”æ³•ç¼–ç¨‹ï¼Œå› æ­¤åœ¨åæ¥çš„æ ‡å‡†ä¸æ–­çš„ä¿®è®¢ Mixin æ¨¡å¼è¢«ç›´æ¥ä½¿ç”¨çš„æƒ…å†µå¤§å¤§å‡å°‘ï¼Œè€Œæˆ‘ä»¬è¦æŒæ¡çš„å°±æ˜¯é™¤äº† Mixin è¿™ç§ä¸ä¼˜é›…çš„æ‹“å±•æ–¹å¼ï¼Œæˆ‘ä»¬æ˜¯å¦è¿˜æœ‰æ›´ç¬¦åˆå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³çš„æ–¹å¼æ¥æ‹“å±•æ‰€è°“çš„â€ç±»â€å‘¢ï¼ŸMixin å®é™…ä¸Šå°±æ˜¯é€šè¿‡æ‰©å±•æ”¶é›†åŠŸèƒ½çš„ä¸€ç§æ‰‹æ®µï¼Œè€Œåœ¨ JavaScript ä¸­çš„å®ç°æ–¹å¼å°±æ˜¯æ‰©å±•ç°æœ‰æ„é€ å™¨å‡½æ•°çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯åˆ©ç”¨ JavaScript çš„åŸå‹é“¾æ¥æ‰©å±•ä¸è¯¥åŸå‹æ´¾ç”Ÿçš„æ‰€æœ‰å®ä¾‹ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ã€‚ä½†æ˜¯è¿™æ ·åšçš„å¼Šç«¯æ˜¾è€Œæ˜“è§ï¼Œå¤§å¤šæ•°çš„ç¨‹åºå‘˜æ˜¯ä¸ä¼šå…è®¸æ±¡æŸ“åŸå‹çš„æ“ä½œå‡ºç°çš„ï¼Œå› ä¸ºå¯¹äºåŸå‹çš„ä¿®æ”¹æ˜¯ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼Œè€Œä¸”è¿™ç§æƒ…å†µä¸‹çš„æ•…éšœè¿½è¸ªå’Œå®šä½å°†æå…¶å›°éš¾ã€‚\nVue ä¸ºä»€ä¹ˆé€‰æ‹©äº† MixinVue ä¸­å¯¹ Mixin æä¾›äº†è¾ƒä¸ºè‰¯å¥½çš„æ”¯æŒï¼ŒåŒ…æ‹¬æ–¹æ³•æ··å…¥çš„æ—¶å€™çš„åˆå¹¶ç­–è®ºï¼Œä»¥åŠç»„ä»¶é’©å­å‡½æ•°æ··å…¥æ—¶çš„æ‰§è¡Œé¡ºåºç­‰ï¼Œè€Œä¸”è¿˜å¯ä»¥åœ¨å…¨å±€ Vue å¯¹è±¡ä¸­æ··å…¥å±æ€§æˆ–æ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§å®ç°å…¨å±€å˜é‡çš„æ‰‹æ®µï¼Œå› ä¸ºå…¨å±€æ··å…¥çš„å±æ€§åœ¨ä»»ä½•ä¸€ä¸ªå­é¡µé¢éƒ½æ˜¯å¯ä»¥è®¿é—®å’Œæ“ä½œçš„ï¼Œä½†ä¹ŸåŒæ—¶æ³¨æ„ä»»ä½•å¯¹å…¨å±€æ··å…¥çš„æ“ä½œéƒ½ä¼šå½±å“åˆ°æ‰€æœ‰å­ç»„ä»¶ï¼Œè¿™å¯èƒ½æ˜¯ä¼šå¼•èµ·å¤§é‡çš„è¿é”ååº”ã€‚\n\nVue é€‰æ‹©äº† Mixin ä¸å…¶æœ¬èº«çš„å®ç°åŸç†ä¹Ÿæœ‰å¾ˆå¤§çš„å…³ç³»ï¼Œå› ä¸ºæˆ‘ä»¬è¦çŸ¥é“ Vue æ˜¯ä¸€ä¸ªæ¸è¿›å¼çš„å‰ç«¯æ¡†æ¶ï¼Œå¯ä»¥è¯´æ‰€æœ‰çš„æ¨¡ç‰ˆæ–‡ä»¶éƒ½æ˜¯åŸºäºå…¨å±€ Vue å¯¹è±¡çš„ï¼ŒVue ä¸­å¤§é‡çš„æ“ä½œéƒ½æ¶‰åŠåˆ°åŸå‹é“¾ï¼Œå› æ­¤åœ¨ Vue ä¸­ä½¿ç”¨ Mixin è¿›è¡Œé‡å¤ä»£ç çš„å¤ç”¨æˆ–æ˜¯ä¸ç°æœ‰çš„é’©å­å‡½æ•°è¿›è¡Œåˆå¹¶çš„æ“ä½œéƒ½æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä¹Ÿæ˜¯å¾ˆç¬¦åˆ Vue çš„ä»£ç é£æ ¼çš„ï¼Œä½† Mixin çš„å¼Šç«¯ä¾ç„¶æ˜¯å­˜åœ¨çš„ï¼Œéœ€è¦å¼€å‘å›¢é˜Ÿåœ¨ä½¿ç”¨çš„æ—¶å€™ä¿è¯æ–‡æ¡£çš„å¥å…¨å’Œé£æ ¼çš„ç»Ÿä¸€ã€‚\nReact ä¸ºä»€ä¹ˆæŠ›å¼ƒäº† Mixin\nMixinå¯èƒ½ä¼šç›¸äº’ä¾èµ–ï¼Œç›¸äº’è€¦åˆï¼Œä¸åˆ©äºä»£ç ç»´æŠ¤\nä¸åŒçš„Mixinä¸­çš„æ–¹æ³•å¯èƒ½ä¼šç›¸äº’å†²çª\nMixinéå¸¸å¤šæ—¶ï¼Œç»„ä»¶æ˜¯å¯ä»¥æ„ŸçŸ¥åˆ°çš„ï¼Œç”šè‡³è¿˜è¦ä¸ºå…¶åšç›¸å…³å¤„ç†ï¼Œè¿™æ ·ä¼šç»™ä»£ç é€ æˆæ»šé›ªçƒå¼çš„å¤æ‚æ€§\n\nè€Œåœ¨å¦ä¸€ä¸ªæ›´è¢«å¤§å‹å›¢é˜Ÿåçˆ±çš„å‰ç«¯æ¡†æ¶ React ä¸­ï¼ŒMixin å´æ˜¯æ—©æ—©è¢«å®˜æ–¹æ‹‰å…¥äº†é»‘åå•ï¼ŒAPI ç”šè‡³éƒ½è¢«åˆ é™¤ï¼Œæ›¾ç»çš„ Mixin åªåœ¨ createClass è¿™æ ·å¸¸è§çš„ç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨ï¼Œåœ¨ React å…¨é¢æ‹¥æŠ± ES6 ä¹‹åå°±æ›´æ˜¯æ— äººé—®æ´¥äº†ã€‚ä»ç›®å‰ React ç”Ÿæ€çš„å‘å±•æ¥çœ‹ï¼Œç¼–ç¨‹æ¨¡å¼åœ¨ä» Mixin åˆ° HOC åˆ°æ–°å‡ºçš„ hooks æ–¹å‘å‘å±•ã€‚ä¸ºä»€ä¹ˆ React å¯¹ Mixin å¦‚æ­¤é¿è®³å‘¢ï¼Œè¿™ä¸ React æœ€åˆä¹Ÿæ˜¯æœ€æ ¸å¿ƒçš„æ€æƒ³æœ‰å…³ï¼Œä¸åŒäº Vue çš„æ¸è¿›å¼å¼•å…¥ï¼ŒReact ä»ä¸€å¼€å§‹è®¾è®¡çš„æ—¶å€™å°±è¢«ç»™äºˆäº†èƒ½å¤Ÿæœ‰ç®¡ç†æ•´ä¸ªå¤§å‹å¤æ‚çš„å‰ç«¯æ¶æ„çš„èƒ½åŠ›ï¼Œä»å®ƒçš„å•å‘æ•°æ®æµå°±å¯è§ä¸€æ–‘ï¼Œåœ¨å¤§å‹çš„é¡¹ç›®ä¸­æœ€é‡è¦çš„è«è¿‡äºä»£ç çš„æ¸…æ™°åº¦å’Œæ˜“è¯»æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯”èµ· Mixin å¯ä»¥å¸¦æ¥çš„å¤ç”¨æ€§ï¼Œé¿å…å‡ºç°åŸå‹æ±¡æŸ“ï¼Œé¿å…ä»£ç ä¸­çš„éšæ‚£æ›´ä¸ºé‡è¦ã€‚å› æ­¤ React æ¨å´‡çš„æ˜¯ä½¿ç”¨é«˜é˜¶ç»„ä»¶ (HOC) æ¥ä»£æ›¿ Mixin æ¥å®ç°ç»„ä»¶é—´çš„ç»„åˆå’ŒåŠŸèƒ½çš„å¤ç”¨ï¼Œä»¥åŠå¿…è¦çš„ç”Ÿå‘½å‘¨æœŸå’Œæ¸²æŸ“çš„æ§åˆ¶ã€‚ï¼ˆå…³äº HOC æ›´ä¸ºè¯¦ç»†çš„æ–‡ç« ä»¥åä¹Ÿä¼šæœ‰äº§å‡ºï¼‰\nReferenceã€Reactæ·±å…¥ã€‘ä»Mixinåˆ°HOCå†åˆ°Hook - æ˜é‡‘Mixins Considered Harmful - React Blogæ··å…¥ â€” Vue.jsä¸ºä»€ä¹ˆVue.mixinä¸­çš„å®šä¹‰çš„dataå…¨å±€å¯ç”¨ - æ˜é‡‘\n","thumbnail":"https://i.loli.net/2019/08/04/V7loXmD21wbeiSC.jpg","color":"#111","plink":"https://xkeith.space/post/arc-30/"},{"title":"çœ‹ç ´ React-Router v4","date":"2019-07-18T13:21:56.000Z","updated":"2019-07-20T02:12:54.500Z","content":"This guideâ€™s purpose is to explain the mental model to have when using React Router. We call it â€œDynamic Routingâ€, which is quite different from the â€œStatic Routingâ€ youâ€™re probably more familiar with.\n\nReact æ˜¯å®Œæ•´çš„ React è·¯ç”±è§£å†³æ–¹æ¡ˆ\n\nä¸€å¥è¯ï¼ŒReact ç”¨äºä¿æŒ URL å’Œ UI åŒæ­¥ï¼Œä¿è¯æ¯æ¬¡ URL çš„æ”¹å˜éƒ½å¸¦æ¥ UI çš„å˜åŒ–ï¼Œå¹¶ä¸”åœ¨å•é¡µé¢åº”ç”¨ç¨‹åºä¸­ï¼Œè¿™æ ·çš„æ”¹å˜åº”è¯¥æ˜¯é©±åŠ¨é¡µé¢è·³è½¬çš„æœ€ä½³æ–¹å¼ã€‚\næœ¬æ–‡åŸºäº React-Router v4 è‹±æ–‡æ–‡æ¡£ï¼Œç§ä»¥ä¸ºæ¯ä¸ªäººéƒ½åº”è¯¥ä½¿ç”¨ v4 å› ä¸ºè¯¥ç‰ˆæœ¬çš„ Router æ€æƒ³é«˜åº¦å¥‘åˆ React åŸºæœ¬æ€æƒ³\nDynamic RoutingWhen we say dynamic routing, we mean routing that takes placeas your app is rendering, not in a configuration or convention outside of a running app. That means almost everything is a component in React Router. \nReact Router v4 å¼€å§‹å¯ç”¨äº†åŠ¨æ€è·¯ç”±ï¼ŒåŒºåˆ«äºå…¶ä»–çš„ä¸¤å¤§æ¡†æ¶çš„è·¯ç”±è§£å†³æ–¹æ¡ˆï¼ŒæŒ‰ç…§ä½œè€…çš„çœ‹æ³•æ¥è¯´ï¼Œv4 çš„åŠ¨æ€è·¯ç”±æ‰æ˜¯æ›´ç¬¦åˆ React å“²å­¦çš„è·¯ç”±è§£å†³æ–¹æ¡ˆï¼Œå½»åº•æŠ›å¼ƒäº†å£°æ˜å¼è·¯ç”±åˆ—è¡¨ä¹‹åï¼ŒåŠ¨æ€è·¯ç”±å¯ä»¥è®©æˆ‘ä»¬çš„åº”ç”¨æ„å»ºè¿‡ç¨‹æ›´åŠ çµæ´»ï¼Œæ— è®ºä»€ä¹ˆæƒ…å†µä¸‹åªè¦éœ€è¦å˜åŒ–çš„åœºæ™¯éƒ½å¯ä»¥éšæ—¶å¼•å…¥ä¸€ä¸ª Route æ¥é€šè¿‡ URL æ§åˆ¶ï¼Œè€Œä¸éœ€è¦å•ç‹¬ç»´æŠ¤ä¸€ä¸ªé™æ€çš„è·¯ç”±é…ç½®æ–‡ä»¶ã€‚æŒ‰ç…§ä½œè€…çš„ React Router å“²å­¦æ¥è¯´ï¼Œä»»ä½•ä¸€ä¸ªè·¯ç”±åœ¨ä½¿ç”¨æ—¶ä¸æ™®é€šçš„ component æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œå› æ­¤è·¯ç”±çš„å®šä¹‰å’Œä½¿ç”¨éƒ½éå¸¸çš„ç¬¦åˆ React çš„ç¼–ç¨‹é£æ ¼ã€‚\nResponsive Routesè¿™æ˜¯ä¸€ä¸ªæ£€æµ‹å±å¹•å¤§å°è‡ªåŠ¨æ›´æ”¹è·¯ç”±ç­–ç•¥çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä»»ä½•ä¸€ä¸ª Route ç»„ä»¶å®é™…åœ¨ä½¿ç”¨çš„æ—¶å€™å’Œæ™®é€šçš„ component æ˜¯æ²¡å•¥åŒºåˆ«çš„ã€‚\n12345678910111213141516171819202122232425262728293031const App = () =&gt; (  &lt;AppLayout&gt;    &lt;Route path=\"/invoices\" component=&#123;Invoices&#125; /&gt;  &lt;/AppLayout&gt;);const Invoices = () =&gt; (  &lt;Layout&gt;    &#123;/* always show the nav */&#125;    &lt;InvoicesNav /&gt;    &lt;Media query=&#123;PRETTY_SMALL&#125;&gt;      &#123;screenIsSmall =&gt;        screenIsSmall ? (          // small screen has no redirect          &lt;Switch&gt;            &lt;Route exact path=\"/invoices/dashboard\" component=&#123;Dashboard&#125; /&gt;            &lt;Route path=\"/invoices/:id\" component=&#123;Invoice&#125; /&gt;          &lt;/Switch&gt;        ) : (          // large screen does!          &lt;Switch&gt;            &lt;Route exact path=\"/invoices/dashboard\" component=&#123;Dashboard&#125; /&gt;            &lt;Route path=\"/invoices/:id\" component=&#123;Invoice&#125; /&gt;            &lt;Redirect from=\"/invoices\" to=\"/invoices/dashboard\" /&gt;          &lt;/Switch&gt;        )      &#125;    &lt;/Media&gt;  &lt;/Layout&gt;);\nThis is just one example. There are many others we could discuss but weâ€™ll sum it up with this advice: To get your intuition in line with React Routerâ€™s, think about components, not static routes. Think about how to solve the problem with Reactâ€™s declarative composability because nearly every â€œReact Router questionâ€ is probably a â€œReact questionâ€.\nRedux Integrationä¸ Redux çš„é›†æˆã€‚å¦‚æœæˆ‘ä»¬å°† React Router çš„å‡ ä¸ªæ ¸å¿ƒ state å­˜æ”¾åˆ° Redux çš„ store ä¸­å°±åŸºæœ¬å¯ä»¥å®Œæˆä¸ Redux  çš„æ·±åº¦é›†æˆï¼Œä½†æ˜¯å°½é‡åœ¨é›†æˆä¹‹å‰ä»”ç»†æ€è€ƒè¿™æ ·ä¼šè§£å†³é‚£äº›ç—›ç‚¹ï¼Œå› ä¸ºå…¶å®ä¸éœ€è¦é‚£ä¹ˆæ·±åº¦çš„é›†æˆäºŒè€…ä¹‹é—´å°±å·²ç»å¯ä»¥å¾ˆå¥½çš„ååŒå·¥ä½œäº†ã€‚\né›†æˆçš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ã€‚\nå¿½ç•¥æ›´æ–°Generally, React Router and Redux work just fine together. Occasionally though, an app can have a component that doesnâ€™t update when the location changes (child routes or active nav links donâ€™t update).\nThis happens if:\n\nThe component is connected to redux via connect()(Comp).\nThe component isnota â€œroute componentâ€, meaning it is not rendered like so:&lt;Route component={SomeConnectedThing}/&gt;The problem is that Redux implements shouldComponentUpdate and thereâ€™s no indication that anything has changed if it isnâ€™t receiving props from the router. This is straightforward to fix. Find where youconnectyour component and wrap it in withRouter.\n\n123456// beforeexport default connect(mapStateToProps)(Something)// afterimport &#123; withRouter &#125; from 'react-router-dom'export default withRouter(connect(mapStateToProps)(Something))\næ·±åº¦é›†æˆSome folks want to:\n\nSynchronize the routing data with, and accessed from, the store.\nBe able to navigate by dispatching actions.\nHave support for time travel debugging for route changes in the Redux devtools.All of this requires deeper integration.Our recommendation isnot to keep your routes in your Redux store at all. Reasoning:\nRouting data is already a prop of most of your components that care about it. Whether it comes from the store or the router, your componentâ€™s code is largely the same.\nIn most cases, you can useLink,NavLinkandRedirectto perform navigation actions. Sometimes you might also need to navigate programmatically, after some asynchronous task that was originally initiated by an action. For example, you might dispatch an action when the user submits a login form. Your thunk , saga or other async handler then authenticates the credentials,thenit needs to somehow navigate to a new page if successful. The solution here is simply to include thehistoryobject (provided to all route components) in the payload of the action, and your async handler can use this to navigate when appropriate.\nRoute changes are unlikely to matter for time travel debugging. The only obvious case is to debug issues with your router/store synchronization, and this problem goes away if you donâ€™t synchronize them at all.\n\nAPIRoute propsAll three render methods will be passed the same three route props\n\nmatch \nlocation \nhistory \n\nä»¥ä¸Šä¸‰ä¸ªå±æ€§éƒ½å¯ä»¥é€šè¿‡ä¸ Router ç›¸è¿çš„ç»„ä»¶ä¸­çš„ this.props ä¸­è·å–å¾—åˆ°ï¼Œè¿™ä¸‰ä¸ªä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ§åˆ¶è·¯ç”±çš„å±æ€§ã€‚\nhistoryThe term â€œhistoryâ€ and â€œhistory objectâ€ in this documentation refers to the history package , which is one of only 2 major dependencies of React Router (besides React itself), and which provides several different implementations for managing session history in JavaScript in various environments.The following terms are also used:\n\nâ€œbrowser historyâ€ - A DOM-specific implementation, useful in web browsers that support the HTML5 history API\nâ€œhash historyâ€ - A DOM-specific implementation for legacy web browsers\nâ€œmemory historyâ€ - An in-memory history implementation, useful in testing and non-DOM environments like React Native\n\nhistoryobjects typically have the following properties and methods:\n\nlength- (number) The number of entries in the history stack\naction- (string) The current action (PUSH,REPLACE, orPOP)\nlocation- (object) The current location. May have the following properties:\npathname- (string) The path of the URL\nsearch- (string) The URL query string\nhash- (string) The URL hash fragment\nstate- (object) location-specific state that was provided to e.g.push(path, state)when this location was pushed onto the stack. Only available in browser and memory history.\n\n\npush(path, [state])- (function) Pushes a new entry onto the history stack\nreplace(path, [state])- (function) Replaces the current entry on the history stack\ngo(n)- (function) Moves the pointer in the history stack bynentries\ngoBack()- (function) Equivalent togo(-1)\ngoForward()- (function) Equivalent togo(1)\nblock(prompt)- (function) Prevents navigation (see the history docs )\n\nhistory is mutable\nThe history object is mutable. Therefore it is recommended to access the location from the render props of  , not from history.location. This ensures your assumptions about React are correct in lifecycle hooks.For example:\n123456789101112class Comp extends React.Component &#123;  componentDidUpdate(prevProps) &#123;    // will be true    const locationChanged = this.props.location !== prevProps.location;    // INCORRECT, will *always* be false because history is mutable.    const locationChanged =      this.props.history.location !== prevProps.history.location;  &#125;&#125;&lt;Route component=&#123;Comp&#125; /&gt;;\nlocationLocations represent where the app is now, where you want it to go, or even where it was. It looks like this:\n123456789&#123;  key: 'ac3df4', // not with HashHistory!  pathname: '/somewhere'  search: '?some=search-string',  hash: '#howdy',  state: &#123;    [userDefined]: true  &#125;&#125;\nThe router will provide you with a location object in a few places:\n\nRoute component as this.props.location\nRoute render as ({ location }) =&gt; ()\nRoute children as ({ location }) =&gt; ()\nwithRouter as this.props.locationIt is also found on history.location but you shouldnâ€™t use that because its mutable. You can read more about that in the history doc.A location object is never mutated so you can use it in the lifecycle hooks to determine when navigation happens, this is really useful for data fetching and animation.\n\nlocation çš„æœ€å¸¸ç”¨çš„åœºæ™¯å°±æ˜¯åœ¨ç»„ä»¶çš„ update é’©å­ä¸­æ¥åˆ¤æ–­å½“å‰ URL æ˜¯å¦æ”¹å˜ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„ data fetch æˆ–è€…æ˜¯åŠ¨ç”»æ¸²æŸ“ã€‚åŒæ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ location æ¥è·å–åˆ°å½“å‰ URL ä¸­çš„ pathname å’Œ query å¯¹è±¡ä»¥åŠ hash tagã€‚æ³¨æ„ä¸è¦ä½¿ç”¨ history ä¸­çš„ location å› ä¸º history æ˜¯ä¸ªå¯å˜çš„å¯¹è±¡ï¼Œä½¿ç”¨ history æ¯”è¾ƒçš„è¯ï¼Œlocation æ€»æ˜¯ä¼šæ”¹å˜çš„ã€‚\nmatchAmatchobject contains information about how amatched the URL.matchobjects contain the following properties:\n\nparams- (object) Key/value pairs parsed from the URL corresponding to the dynamic segments of the path\nisExact- (boolean)trueif the entire URL was matched (no trailing characters)\npath- (string) The path pattern used to match. Useful for building nesteds\nurl- (string) The matched portion of the URL. Useful for building nestedsYouâ€™ll have access tomatchobjects in various places:\nRoute component as this.props.match\nRoute render as ({ match }) =&gt; ()\nRoute children as ({ match }) =&gt; ()\nwithRouter as this.props.match\nmatchPath as the return valueIf a Route does not have a path, and therefore always matches, youâ€™ll get the closest parent match. Same goes for withRouter.å¸¸ç”¨åœºæ™¯åœ¨äºè·å–è·¯ç”±ä¸­çš„åŠ¨æ€å‚æ•° this.props.match.params\n\nwithRouterYou can get access to the history objectâ€™s properties and the closest  â€™s match via the withRouter higher-order component.withRouter will pass updated match,location, and history props to the wrapped component whenever it renders.\nImportant NotewithRouterdoes not subscribe to location changes like React Reduxâ€™sconnectdoes for state changes. Instead, re-renders after location changes propagate out from thecomponent. This means thatwithRouterdoesnotre-render on route transitions unless its parent component re-renders.\nchildren: funcSometimes you need to render whether the path matches the location or not. In these cases, you can use the function children prop. It works exactly like render except that it gets called whether there is a match or not.children æ˜¯é™¤äº† component å’Œ render çš„ç¬¬ä¸‰ç§ç»„ä»¶è·¯ç”±ç»‘å®šæ–¹å¼ï¼Œä¸åŒç‚¹åœ¨äºæ— è®º path æ˜¯å¦ match ä»–éƒ½ä¼šæ¸²æŸ“ï¼Œå¯ä»¥åœ¨è¿›ä¸€æ­¥åˆ¤æ–­æ˜¯å¦ match ä»è€Œè¿›è¡Œä¸åŒçš„å¯¹ç­–ã€‚\nThe children render prop receives all the same route props as the component and render methods, except when a route fails to match the URL, then match is null. This allows you to dynamically adjust your UI based on whether or not the route matches. Here weâ€™re adding anactiveclass if the route matches\n1234567891011121314151617181920212223&lt;ul&gt;  &lt;ListItemLink to=\"/somewhere\" /&gt;  &lt;ListItemLink to=\"/somewhere-else\" /&gt;&lt;/ul&gt;;const ListItemLink = (&#123; to, ...rest &#125;) =&gt; (  &lt;Route    path=&#123;to&#125;    children=&#123;(&#123; match &#125;) =&gt; (      &lt;li className=&#123;match ? \"active\" : \"\"&#125;&gt;        &lt;Link to=&#123;to&#125; &#123;...rest&#125; /&gt;      &lt;/li&gt;    )&#125;  /&gt;);&lt;Route children=&#123;(&#123; match, ...rest &#125;) =&gt; (  &#123;/* Animate will always render, so you can use lifecycles      to animate its child in and out */&#125;  &lt;Animate&gt;    &#123;match &amp;&amp; &lt;Something &#123;...rest&#125;/&gt;&#125;  &lt;/Animate&gt;)&#125;/&gt;\nExamplesNested RoutesåµŒå¥—è·¯ç”±\n12345678910111213141516171819const App = () =&gt; (  &lt;BrowserRouter&gt;    &#123;/* here's a div */&#125;    &lt;div&gt;      &#123;/* here's a Route */&#125;      &lt;Route path=\"/tacos\" component=&#123;Tacos&#125; /&gt;    &lt;/div&gt;  &lt;/BrowserRouter&gt;);// when the url matches `/tacos` this component rendersconst Tacos = (&#123; match &#125;) =&gt; (  // here's a nested div  &lt;div&gt;    &#123;/* here's a nested Route,        match.url helps us make a relative path */&#125;    &lt;Route path=&#123;match.url + \"/carnitas\"&#125; component=&#123;Carnitas&#125; /&gt;  &lt;/div&gt;);\nAuthè·¯ç”±é‰´æƒ\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121import React, &#123; Component &#125; from \"react\";import &#123;  BrowserRouter as Router,  Route,  Link,  Redirect,  withRouter&#125; from \"react-router-dom\";////////////////////////////////////////////////////////////// 1. Click the public page// 2. Click the protected page// 3. Log in// 4. Click the back button, note the URL each timefunction AuthExample() &#123;  return (    &lt;Router&gt;      &lt;div&gt;        &lt;AuthButton /&gt;        &lt;ul&gt;          &lt;li&gt;            &lt;Link to=\"/public\"&gt;Public Page&lt;/Link&gt;          &lt;/li&gt;          &lt;li&gt;            &lt;Link to=\"/protected\"&gt;Protected Page&lt;/Link&gt;          &lt;/li&gt;        &lt;/ul&gt;        &lt;Route path=\"/public\" component=&#123;Public&#125; /&gt;        &lt;Route path=\"/login\" component=&#123;Login&#125; /&gt;        &lt;PrivateRoute path=\"/protected\" component=&#123;Protected&#125; /&gt;      &lt;/div&gt;    &lt;/Router&gt;  );&#125;const fakeAuth = &#123;  isAuthenticated: false,  authenticate(cb) &#123;    this.isAuthenticated = true;    setTimeout(cb, 100); // fake async  &#125;,  signout(cb) &#123;    this.isAuthenticated = false;    setTimeout(cb, 100);  &#125;&#125;;const AuthButton = withRouter(  (&#123; history &#125;) =&gt;    fakeAuth.isAuthenticated ? (      &lt;p&gt;        Welcome!&#123;\" \"&#125;        &lt;button          onClick=&#123;() =&gt; &#123;            fakeAuth.signout(() =&gt; history.push(\"/\"));          &#125;&#125;        &gt;          Sign out        &lt;/button&gt;      &lt;/p&gt;    ) : (      &lt;p&gt;You are not logged in.&lt;/p&gt;    ));function PrivateRoute(&#123; component: Component, ...rest &#125;) &#123;  return (    &lt;Route      &#123;...rest&#125;      render=&#123;props =&gt;        fakeAuth.isAuthenticated ? (          &lt;Component &#123;...props&#125; /&gt;        ) : (          &lt;Redirect\t\t\t  // ç”¨ state å¯ä»¥æºå¸¦é‡å®šå‘ä¿¡æ¯            to=&#123;&#123;              pathname: \"/login\",              state: &#123; from: props.location &#125;            &#125;&#125;          /&gt;        )      &#125;    /&gt;  );&#125;function Public() &#123;  return &lt;h3&gt;Public&lt;/h3&gt;;&#125;function Protected() &#123;  return &lt;h3&gt;Protected&lt;/h3&gt;;&#125;class Login extends Component &#123;  state = &#123; redirectToReferrer: false &#125;;  login = () =&gt; &#123;    fakeAuth.authenticate(() =&gt; &#123;      this.setState(&#123; redirectToReferrer: true &#125;);    &#125;);  &#125;;  render() &#123;    // state é€šè¿‡ location æºå¸¦    let &#123; from &#125; = this.props.location.state || &#123; from: &#123; pathname: \"/\" &#125; &#125;;    let &#123; redirectToReferrer &#125; = this.state;    if (redirectToReferrer) return &lt;Redirect to=&#123;from&#125; /&gt;;    return (      &lt;div&gt;        &lt;p&gt;You must log in to view the page at &#123;from.pathname&#125;&lt;/p&gt;        &lt;button onClick=&#123;this.login&#125;&gt;Log in&lt;/button&gt;      &lt;/div&gt;    );  &#125;&#125;export default AuthExample;\nPreventing Transitionsè·¯ç”±è·³è½¬å‰æç¤ºï¼Œä½¿ç”¨ Prompt ç»„ä»¶å®ç°\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172function PreventingTransitionsExample() &#123;  return (    &lt;Router&gt;      &lt;div&gt;        &lt;ul&gt;          &lt;li&gt;            &lt;Link to=\"/\"&gt;Form&lt;/Link&gt;          &lt;/li&gt;          &lt;li&gt;            &lt;Link to=\"/one\"&gt;One&lt;/Link&gt;          &lt;/li&gt;          &lt;li&gt;            &lt;Link to=\"/two\"&gt;Two&lt;/Link&gt;          &lt;/li&gt;        &lt;/ul&gt;        &lt;Route path=\"/\" exact component=&#123;Form&#125; /&gt;        &lt;Route path=\"/one\" render=&#123;() =&gt; &lt;h3&gt;One&lt;/h3&gt;&#125; /&gt;        &lt;Route path=\"/two\" render=&#123;() =&gt; &lt;h3&gt;Two&lt;/h3&gt;&#125; /&gt;      &lt;/div&gt;    &lt;/Router&gt;  );&#125;class Form extends Component &#123;  state = &#123; isBlocking: false &#125;;  render() &#123;    let &#123; isBlocking &#125; = this.state;    return (      &lt;form        onSubmit=&#123;event =&gt; &#123;          event.preventDefault();          event.target.reset();          this.setState(&#123;            isBlocking: false          &#125;);        &#125;&#125;      &gt;        &lt;Prompt          when=&#123;isBlocking&#125;          message=&#123;location =&gt;            `Are you sure you want to go to $&#123;location.pathname&#125;`          &#125;        /&gt;        &lt;p&gt;          Blocking?&#123;\" \"&#125;          &#123;isBlocking ? \"Yes, click a link or the back button\" : \"Nope\"&#125;        &lt;/p&gt;        &lt;p&gt;          &lt;input            size=\"50\"            placeholder=\"type something to block transitions\"            onChange=&#123;event =&gt; &#123;              this.setState(&#123;                isBlocking: event.target.value.length &gt; 0              &#125;);            &#125;&#125;          /&gt;        &lt;/p&gt;        &lt;p&gt;          &lt;button&gt;Submit to stop blocking&lt;/button&gt;        &lt;/p&gt;      &lt;/form&gt;    );  &#125;&#125;export default PreventingTransitionsExample;\nSideBar123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384import React from \"react\";import &#123; BrowserRouter as Router, Route, Link &#125; from \"react-router-dom\";// Each logical \"route\" has two components, one for// the sidebar and one for the main area. We want to// render both of them in different places when the// path matches the current URL.const routes = [  &#123;    path: \"/\",    exact: true,    sidebar: () =&gt; &lt;div&gt;home!&lt;/div&gt;,    main: () =&gt; &lt;h2&gt;Home&lt;/h2&gt;  &#125;,  &#123;    path: \"/bubblegum\",    sidebar: () =&gt; &lt;div&gt;bubblegum!&lt;/div&gt;,    main: () =&gt; &lt;h2&gt;Bubblegum&lt;/h2&gt;  &#125;,  &#123;    path: \"/shoelaces\",    sidebar: () =&gt; &lt;div&gt;shoelaces!&lt;/div&gt;,    main: () =&gt; &lt;h2&gt;Shoelaces&lt;/h2&gt;  &#125;];function SidebarExample() &#123;  return (    &lt;Router&gt;      &lt;div style=&#123;&#123; display: \"flex\" &#125;&#125;&gt;        &lt;div          style=&#123;&#123;            padding: \"10px\",            width: \"40%\",            background: \"#f0f0f0\"          &#125;&#125;        &gt;          &lt;ul style=&#123;&#123; listStyleType: \"none\", padding: 0 &#125;&#125;&gt;            &lt;li&gt;              &lt;Link to=\"/\"&gt;Home&lt;/Link&gt;            &lt;/li&gt;            &lt;li&gt;              &lt;Link to=\"/bubblegum\"&gt;Bubblegum&lt;/Link&gt;            &lt;/li&gt;            &lt;li&gt;              &lt;Link to=\"/shoelaces\"&gt;Shoelaces&lt;/Link&gt;            &lt;/li&gt;          &lt;/ul&gt;          &#123;routes.map((route, index) =&gt; (            // You can render a &lt;Route&gt; in as many places            // as you want in your app. It will render along            // with any other &lt;Route&gt;s that also match the URL.            // So, a sidebar or breadcrumbs or anything else            // that requires you to render multiple things            // in multiple places at the same URL is nothing            // more than multiple &lt;Route&gt;s.            &lt;Route              key=&#123;index&#125;              path=&#123;route.path&#125;              exact=&#123;route.exact&#125;              component=&#123;route.sidebar&#125;            /&gt;          ))&#125;        &lt;/div&gt;        &lt;div style=&#123;&#123; flex: 1, padding: \"10px\" &#125;&#125;&gt;          &#123;routes.map((route, index) =&gt; (            // Render more &lt;Route&gt;s with the same paths as            // above, but different components this time.            &lt;Route              key=&#123;index&#125;              path=&#123;route.path&#125;              exact=&#123;route.exact&#125;              component=&#123;route.main&#125;            /&gt;          ))&#125;        &lt;/div&gt;      &lt;/div&gt;    &lt;/Router&gt;  );&#125;export default SidebarExample;\nReferenceReact Router: Declarative Routing for React.jsReact Router: Declarative Routing for React.js-Philosophy   Redux Integrationä½ ä¸çŸ¥é“çš„ React Router 4 - çŸ¥ä¹React Router 4 ç®€ä»‹åŠå…¶èƒŒåçš„è·¯ç”±å“²å­¦ - æ˜é‡‘\n","thumbnail":"https://i.loli.net/2019/07/18/5d30829ceb6bb76611.png","color":"#111","plink":"https://xkeith.space/post/arc-29/"},{"title":"Redux å“²å­¦","date":"2019-07-16T14:05:53.000Z","updated":"2019-07-18T13:17:29.956Z","content":"Redux is a predictable state container for JavaScript apps.\nIt helps you write applications that behave consistently, run in different environments (client, server, and native), and are easy to test. On top of that, it provides a great developer experience, such as live code editing combined with a time traveling debugger.\nReducerWeâ€™ll start by specifying the initial state. Redux will call our reducer with anundefinedstate for the first time. This is our chance to return the initial state of our appå…³äº state çš„é»˜è®¤å€¼ï¼Œé¦–æ¬¡ call reducer çš„æ—¶å€™ state çš„é»˜è®¤å€¼æ˜¯ undefined æˆ‘ä»¬å¯ä»¥é€šè¿‡ es6 çš„é»˜è®¤å‚æ•°æ¥æŒ‡å®šé»˜è®¤åˆå§‹å€¼ï¼Œæˆ–è€…ä¿è¯æ¯ä¸€ä¸ª reducer ä¸­éƒ½æœ‰å¯¹äº undefined çš„åˆ¤æ–­ï¼Œè¿™å¾ˆé‡è¦ï¼Œéœ€è¦ä¿è¯ reducer åœ¨é»˜è®¤æ“ä½œçš„æ—¶å€™è¿”å›åŸå¯¹è±¡æ¥é¿å…ä¸å¿…è¦çš„é‡å¤æ¸²æŸ“ã€‚\nå…³äº combineReducersNote that each of these reducers is managing its own part of the global state. The state parameter is different for every reducer, and corresponds to the part of the state it manages.æ ¸å¿ƒå®ç°ç‚¹åœ¨äº combine çš„æ¯ä¸€ä¸ª reducer æ‰€å¯¹åº”çš„ key éƒ½åº”è¯¥åœ¨ state ä¸­èƒ½å¤Ÿæ‰¾åˆ°ç›¸å¯¹åº”çš„ key ã€‚å®é™…ä¸Š comboine  çš„ reducer åœ¨æ¯ä¸€æ¬¡ dispatch çš„æ—¶å€™éƒ½ä¼šè¢«è°ƒç”¨ï¼ŒåŒæ—¶åˆ†åˆ«è¿›è¡Œæ¯”è¾ƒï¼Œè€ŒåŒ¹é…åˆ°çš„ action.type åˆ™å¿…ç„¶ä¼šè§¦å‘å…¶æ‰€å¯¹åº”çš„éƒ¨åˆ† state çš„æ”¹å˜ï¼Œå› æ­¤ä¼šè¿”å›æ–°çš„å¯¹è±¡ï¼Œè€Œå¦‚æœæ²¡æœ‰åŒ¹é…é¡¹æˆ–è€…æ˜¯ state ä¸å˜ï¼Œé‚£ä¹ˆå°±ä»ç„¶ä¼šè¿”å›åŸå¯¹è±¡ï¼Œé¿å…ä¸å¿…è¦çš„é‡å¤æ¸²æŸ“ã€‚\næˆ‘ä»¬è¦çŸ¥é“ redux ä¸­çš„å¯¹è±¡ diff åˆ¤æ–­æ˜¯ç®€å•çš„æµ…å¯¹æ¯”ï¼Œå³  ===  å› æ­¤åªè¦æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡å°±ä¸€å®šä¼šå¼•èµ·é‡å¤ render\næ ¸å¿ƒæºç \n12345678910111213141516171819202122232425262728293031323334export default function combineReducers(reducers) &#123;  const reducerKeys = Object.keys(reducers)  const finalReducers = &#123;&#125;  // copy the reducers to a new object å¹¶é€šè¿‡é—­åŒ…ä¿å­˜  for (let i = 0; i &lt; reducerKeys.length; i++) &#123;    const key = reducerKeys[i]    if (typeof reducers[key] === 'function') &#123;      finalReducers[key] = reducers[key]    &#125;  &#125;  const finalReducerKeys = Object.keys(finalReducers)  // å¯¹å¤–è¿”å›çš„æ ¼å¼å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ reducer  return function combination(state = &#123;&#125;, action) &#123;    if (shapeAssertionError) &#123;      throw shapeAssertionError    &#125;    let hasChanged = false    const nextState = &#123;&#125;    for (let i = 0; i &lt; finalReducerKeys.length; i++) &#123;      const key = finalReducerKeys[i]      const reducer = finalReducers[key]      const previousStateForKey = state[key]      const nextStateForKey = reducer(previousStateForKey, action)      if (typeof nextStateForKey === 'undefined') &#123;        const errorMessage = getUndefinedStateErrorMessage(key, action)        throw new Error(errorMessage)      &#125;      nextState[key] = nextStateForKey      hasChanged = hasChanged || nextStateForKey !== previousStateForKey    &#125;    return hasChanged ? nextState : state  &#125;&#125;\nconnect åˆ°åº•æ˜¯å¹²ç‰¹ä¹ˆå•¥çš„æ›´ä¼˜é›…ä¸”æ›´å¸¸ç”¨çš„ store.subscribe() ç”¨äºåœ¨ store æ›´æ–°çš„æ—¶å€™å°†æ•°æ®é€šè¿‡ props ä¼ é€’åˆ°ä½¿ç”¨äº†æ›´æ–°éƒ¨åˆ†æ•°æ®çš„ç»„ä»¶ï¼Œå¹¶è§¦å‘è¯¥ç»„ä»¶é‡æ–° render \nstore æ˜¯æ€ä¹ˆå’Œ compontents å…³è”åˆ°ä¸€èµ·çš„Connect: Extracting Data with mapStateToProps Â· React Redux\nç°åœ¨æ¥åˆ›å»ºä¸€äº›å®¹å™¨ç»„ä»¶æŠŠè¿™äº›å±•ç¤ºç»„ä»¶å’Œ Redux å…³è”èµ·æ¥ã€‚æŠ€æœ¯ä¸Šè®²ï¼Œå®¹å™¨ç»„ä»¶å°±æ˜¯ä½¿ç”¨ store.subscribe() ä» Redux state æ ‘ä¸­è¯»å–éƒ¨åˆ†æ•°æ®ï¼Œå¹¶é€šè¿‡ props æ¥æŠŠè¿™äº›æ•°æ®æä¾›ç»™è¦æ¸²æŸ“çš„ç»„ä»¶ã€‚ä½ å¯ä»¥æ‰‹å·¥æ¥å¼€å‘å®¹å™¨ç»„ä»¶ï¼Œä½†å»ºè®®ä½¿ç”¨ React Redux åº“çš„ connect() æ–¹æ³•æ¥ç”Ÿæˆï¼Œè¿™ä¸ªæ–¹æ³•åšäº†æ€§èƒ½ä¼˜åŒ–æ¥é¿å…å¾ˆå¤šä¸å¿…è¦çš„é‡å¤æ¸²æŸ“ã€‚ï¼ˆè¿™æ ·ä½ å°±ä¸å¿…ä¸ºäº†æ€§èƒ½è€Œæ‰‹åŠ¨å®ç° React æ€§èƒ½ä¼˜åŒ–å»ºè®® ä¸­çš„shouldComponentUpdateæ–¹æ³•ã€‚ï¼‰\nAs the first argument passed in toconnect,mapStateToPropsis used for selecting the part of the data from the store that the connected component needs. Itâ€™s frequently referred to as justmapStatefor short.\nconnect çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œé€šè¿‡ mapState æ¥è¿‡æ»¤ store ä¸­çš„ä¸ç›¸è¿ç»„ä»¶æœ‰å…³çš„æ•°æ®ï¼Œæ•°æ®ä¼šé€šè¿‡ props ä¼ é€’åˆ°ç»„ä»¶å†…éƒ¨ã€‚\nstateThe first argument to a mapStateToPropsfunction is the entire Redux store state (the same value returned by a call tostore.getState()). Because of this, the first argument is traditionally just calledstate. (While you can give the argument any name you want, calling itstorewould be incorrect - itâ€™s the â€œstate valueâ€, not the â€œstore instanceâ€.)ThemapStateToPropsfunction should always be written with at leaststatepassed in.\nownProps**(optional)**You may define the function with a second argument,ownProps, if your component needs the data from its own props to retrieve data from the store. This argument will contain all of the props given to the wrapper component that was generated byconnect.é€šè¿‡ ownProps å¾—åˆ°ç»„ä»¶ä½¿ç”¨çš„æ—¶å€™ä¼ å…¥çš„ props é€šå¸¸ç”¨äºæ˜ å°„åˆ°å¦å¤–ä¸€ä¸ª state å¹¶è¿æ¥åˆ°è§†å›¾ç»„ä»¶ä¸­ã€‚\nåœ¨ connect ä¸­å‘èµ· dispatchConnect: Dispatching Actions with mapDispatchToProps Â· React Redux\ndispatch çš„å‘èµ·æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç®€å•çš„ä» this.props.dispatch ä¸­ç›´æ¥è°ƒç”¨ï¼Œå¦å¤–ä¸€ç§å°±æ˜¯é€šè¿‡ connect ä¼ é€’ä¸€ä¸ª å…·ååŒ–çš„ dispatch ç»™è¿æ¥çš„ç»„ä»¶ä¾›ç»„ä»¶ä½¿ç”¨ã€‚\nProviding a mapDispatchToProps allows you to specify which actions your component might need to dispatch. It lets you provide action dispatching functions as props. Therefore, instead of calling props.dispatch(() =&gt; increment()),  you may call props.increment() directly. There are a few reasons why you might want to do that.\nMore DeclarativeFirst, encapsulating the dispatch logic into function makes the implementation more declarative. Dispatching an action and letting the Redux store handle the data flow ishow toimplement the behavior, rather thanwhatit does.A good example would be dispatching an action when a button is clicked. Connecting the button directly probably doesnâ€™t make sense conceptually, and neither does having the button referencedispatch.æ›´ç›´è§‚ï¼Œå±è”½ç»„ä»¶å¯¹ dispatch çš„å­˜åœ¨ï¼Œæ›´å…³æ³¨ä¸æ€ä¹ˆåšçš„å±‚é¢ã€‚\n12345// button needs to be aware of \"dispatch\"&lt;button onClick=&#123;() =&gt; dispatch(&#123; type: \"SOMETHING\" &#125;)&#125; /&gt;// button unaware of \"dispatch\",&lt;button onClick=&#123;doSomething&#125; /&gt;\nOnce youâ€™ve wrapped all our action creators with functions that dispatch the actions, the component is free of the need ofdispatch. Therefore,if you define your own mapDispatchToProps, the connected component will no longer receive dispatch.\nPass Down Action Dispatching Logic to ( Unconnected ) Child Components\nIn addition, you also gain the ability to pass down the action dispatching functions to child ( likely unconnected ) components. This allows more components to dispatch actions, while keeping them â€œunawareâ€ of Redux.é€šè¿‡ä¼ é€’ dispatch å¯ä»¥è®©å­ç»„ä»¶ä¹Ÿå‘èµ· dispatch ã€‚å³ä½¿è¿™ä¸ªå­ç»„ä»¶å¯èƒ½å¹¶æ²¡æœ‰ç›´æ¥ä¸ store ç›¸è¿ã€‚\n123456789// pass down toggleTodo to child component// making Todo able to dispatch the toggleTodo actionconst TodoList = (&#123; todos, toggleTodo &#125;) =&gt; (  &lt;div&gt;    &#123;todos.map(todo =&gt; (      &lt;Todo todo=&#123;todo&#125; onClick=&#123;toggleTodo&#125; /&gt;    ))&#125;  &lt;/div&gt;)\n\nThis is what React Reduxâ€™s connect does â€” it encapsulates the logic of talking to the Redux store and lets you not worry about it. And this is what you should totally make full use of in your implementation.\n\nmiddleware åˆæ˜¯å¹²ç‰¹ä¹ˆå•¥çš„Referencejavascript - ä¸ºä»€ä¹ˆactionä¼šè§¦å‘æ‰€æœ‰reducers - SegmentFault æ€å¦\n","thumbnail":"https://i.loli.net/2019/07/18/5d3071674179b49994.png","color":"#111","plink":"https://xkeith.space/post/arc-28/"},{"title":"æå®š node","date":"2019-06-26T12:43:14.000Z","updated":"2019-06-26T13:03:52.722Z","content":"\nä¸€åˆ‡èƒ½ç”¨ JavaScript å®ç°çš„è½¯ä»¶éƒ½å¿…æœ‰å…¶ JavaScript ç‰ˆæœ¬ã€‚\n\næˆ‘ä»¬è¦çŸ¥é“ node å¹¶éä¸€ç§è¯­è¨€ï¼Œä»–ä»…ä»…æ˜¯ä¸€ç§ JavaScript æ‰§è¡Œç¯å¢ƒï¼Œå¾—ç›Šäº Google çš„ v8 å¼•æ“çš„é«˜æ€§èƒ½ï¼Œnode ç¯å¢ƒä¸‹çš„æœåŠ¡ç«¯åœ¨å¤„ç† IO å¯†é›†å‹ä»»åŠ¡çš„æ—¶å€™çš„æ•ˆç‡ç›¸å½“çš„é«˜ï¼Œnode åŒæ ·æ”¯æŒå¾®æœåŠ¡æ¶æ„ã€‚\nnode äº‹ä»¶å¾ªç¯Node.js æ˜¯å•è¿›ç¨‹å•çº¿ç¨‹åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯å› ä¸º V8 å¼•æ“æä¾›çš„å¼‚æ­¥æ‰§è¡Œå›è°ƒæ¥å£ï¼Œé€šè¿‡è¿™äº›æ¥å£å¯ä»¥å¤„ç†å¤§é‡çš„å¹¶å‘ï¼Œæ‰€ä»¥æ€§èƒ½éå¸¸é«˜ã€‚Node.js å‡ ä¹æ¯ä¸€ä¸ª API éƒ½æ˜¯æ”¯æŒå›è°ƒå‡½æ•°çš„ã€‚Node.js åŸºæœ¬ä¸Šæ‰€æœ‰çš„äº‹ä»¶æœºåˆ¶éƒ½æ˜¯ç”¨è®¾è®¡æ¨¡å¼ä¸­è§‚å¯Ÿè€…æ¨¡å¼å®ç°ã€‚Node.js å•çº¿ç¨‹ç±»ä¼¼è¿›å…¥ä¸€ä¸ªwhile(true)çš„äº‹ä»¶å¾ªç¯ï¼Œç›´åˆ°æ²¡æœ‰äº‹ä»¶è§‚å¯Ÿè€…é€€å‡ºï¼Œæ¯ä¸ªå¼‚æ­¥äº‹ä»¶éƒ½ç”Ÿæˆä¸€ä¸ªäº‹ä»¶è§‚å¯Ÿè€…ï¼Œå¦‚æœæœ‰äº‹ä»¶å‘ç”Ÿå°±è°ƒç”¨è¯¥å›è°ƒå‡½æ•°.\näº‹ä»¶é©±åŠ¨ç¨‹åºNode.js ä½¿ç”¨äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼Œå½“web serveræ¥æ”¶åˆ°è¯·æ±‚ï¼Œå°±æŠŠå®ƒå…³é—­ç„¶åè¿›è¡Œå¤„ç†ï¼Œç„¶åå»æœåŠ¡ä¸‹ä¸€ä¸ªwebè¯·æ±‚ã€‚å½“è¿™ä¸ªè¯·æ±‚å®Œæˆï¼Œå®ƒè¢«æ”¾å›å¤„ç†é˜Ÿåˆ—ï¼Œå½“åˆ°è¾¾é˜Ÿåˆ—å¼€å¤´ï¼Œè¿™ä¸ªç»“æœè¢«è¿”å›ç»™ç”¨æˆ·ã€‚è¿™ä¸ªæ¨¡å‹éå¸¸é«˜æ•ˆå¯æ‰©å±•æ€§éå¸¸å¼ºï¼Œå› ä¸ºwebserverä¸€ç›´æ¥å—è¯·æ±‚è€Œä¸ç­‰å¾…ä»»ä½•è¯»å†™æ“ä½œã€‚ï¼ˆè¿™ä¹Ÿè¢«ç§°ä¹‹ä¸ºéé˜»å¡å¼IOæˆ–è€…äº‹ä»¶é©±åŠ¨IOï¼‰åœ¨äº‹ä»¶é©±åŠ¨æ¨¡å‹ä¸­ï¼Œä¼šç”Ÿæˆä¸€ä¸ªä¸»å¾ªç¯æ¥ç›‘å¬äº‹ä»¶ï¼Œå½“æ£€æµ‹åˆ°äº‹ä»¶æ—¶è§¦å‘å›è°ƒå‡½æ•°ã€‚\n\n","thumbnail":"https://i.loli.net/2019/06/26/5d1368c49367d72234.png","color":"#111","plink":"https://xkeith.space/post/arc-27/"},{"title":"Airbnb JavaScript Style Guide","date":"2019-06-14T10:35:18.000Z","updated":"2019-06-23T14:09:45.288Z","content":"\nè‡ªå¾‹å³è‡ªç”±\n\n1.Reference1.1 Use const for all of your references; avoid using varä¸ºæ‰€æœ‰å¯¹è±¡ä½¿ç”¨ const åŒæ—¶ä¸è¦ä½¿ç”¨ var æ¥å£°æ˜ä»»ä½•å˜é‡ã€‚ä½¿ç”¨å…·æœ‰å—çº§ä½œç”¨åŸŸçš„ let è€Œä¸è¦ç»§ç»­ä½¿ç”¨ varï¼Œå®ƒå…·æœ‰ä»¤äººç–‘æƒ‘çš„å‡½æ•°ä½œç”¨åŸŸã€‚\n2.Objects2.1 Use the literal syntax for object creationç›´æ¥ä½¿ç”¨å­—é¢é‡æ¥åˆ›å»ºå¯¹è±¡ã€‚12345// badconst item = new Object();// goodconst item = &#123;&#125;;\n2.2 Use computed property names when creating objects with dynamic property names.ä½¿ç”¨è®¡ç®—å±æ€§å½“åˆ›å»ºå¯¹è±¡æ—¶éœ€è¦åŠ¨æ€å±æ€§åçš„æƒ…å†µï¼Œè¿™å¯ä»¥ä½¿ä½ çš„å¯¹è±¡å±æ€§éƒ½åœ¨åŒä¸€ä¸ªä½ç½®å®šä¹‰ã€‚1234567891011121314151617function getKey(k) &#123;  return `a key named $&#123;k&#125;`;&#125;// badconst obj = &#123;  id: 5,  name: 'San Francisco',&#125;;obj[getKey('enabled')] = true;// goodconst obj = &#123;  id: 5,  name: 'San Francisco',  [getKey('enabled')]: true,&#125;;\n2.3 Use object method shorthand.ä½¿ç”¨ ES6 æ–°å¢çš„å¯¹è±¡æ–¹æ³•ç®€å†™å½¢å¼ã€‚1234567891011121314151617// badconst atom = &#123;  value: 1,  addValue: function (value) &#123;    return atom.value + value;  &#125;,&#125;;// goodconst atom = &#123;  value: 1,  addValue(value) &#123;    return atom.value + value;  &#125;,&#125;;\n2.4 Use property value shorthandä½¿ç”¨ ES6 æ–°å¢çš„å¯¹è±¡å±æ€§ç®€å†™å½¢å¼ã€‚1234567891011const lukeSkywalker = 'Luke Skywalker';// badconst obj = &#123;  lukeSkywalker: lukeSkywalker,&#125;;// goodconst obj = &#123;  lukeSkywalker,&#125;;\n2.5 Group your shorthand properities at the beginning of your object declarationæŠŠä½¿ç”¨ç®€å†™æ¨¡å¼çš„å±æ€§æ”¾åˆ°å…¶ä»–å±æ€§çš„å‰é¢ï¼Œè¿™æ ·å¯ä»¥è®©ç®€å†™å±æ€§ä¸€ç›®äº†ç„¶ã€‚12345678910111213141516171819202122const anakinSkywalker = 'Anakin Skywalker';const lukeSkywalker = 'Luke Skywalker';// badconst obj = &#123;  episodeOne: 1,  twoJediWalkIntoACantina: 2,  lukeSkywalker,  episodeThree: 3,  mayTheFourth: 4,  anakinSkywalker,&#125;;// goodconst obj = &#123;  lukeSkywalker,  anakinSkywalker,  episodeOne: 1,  twoJediWalkIntoACantina: 2,  episodeThree: 3,  mayTheFourth: 4,&#125;;\n2.6 Only quote properties that are invalid identifiersåªæœ‰å½“å±æ€§åéæ³•çš„æ—¶å€™æ‰ä½¿ç”¨å¼•å·ã€‚è¿™æ ·ä¼šå¢å¼ºå¯è¯»æ€§ï¼Œæ”¹å–„ç¼–è¾‘å™¨çš„é«˜äº®æ•ˆæœï¼Œä¹Ÿå¯ä»¥æ›´å®¹æ˜“çš„è¢« JavaScript å¼•æ“ä¼˜åŒ–ã€‚12345678910111213// badconst bad = &#123;  'foo': 3,  'bar': 4,  'data-blah': 5,&#125;;// goodconst good = &#123;  foo: 3,  bar: 4,  'data-blah': 5,&#125;;\nReferenceGitHub - airbnb/javascript: JavaScript Style Guide\n","plink":"https://xkeith.space/post/arc-26/"},{"title":"è¸ç ´ CSS","date":"2019-06-08T15:30:28.000Z","updated":"2019-06-23T14:10:05.163Z","content":"\nå¤©æ‰ç¬¬ä¸€æ­¥ï¼ŒCSS è¦è½»è½¦ç†Ÿè·¯\n\n","plink":"https://xkeith.space/post/arc-25/"},{"title":"æ¯å¤©ï¼ˆä¸çŸ¥é“æœ‰å‡ ï¼‰é“å‰ç«¯é¢è¯•é¢˜ï¼ˆå…­æœˆï¼‰","date":"2019-06-03T14:46:59.000Z","updated":"2019-06-26T13:48:55.210Z","content":"\næœ¬æœˆåœ¨è¿™é‡Œæ•´ç†ä¸€äº› React å’Œ Node çš„é¢è¯•é¢˜ã€‚å½“ç„¶è¿˜æœ‰ç®—æ³•çš„ä¸€äº›ç»ƒä¹ ã€‚\n\n2019/06/26è§£é‡Šä¸€ä¸‹åå‡½æ•°å’Œå‡½å­\n2019/06/0330s-of-code\n\ndeepCloneCreates a deep clone of an object.Use recursion. UseObject.assign()and an empty object ({}) to create a shallow clone of the original. UseObject.keys()andArray.prototype.forEach()to determine which key-value pairs need to be deep cloned.\n\n1234567891011121314151617const deepClone = obj =&gt; &#123;  let clone = Object.assign(&#123;&#125;, obj)  Object.keys(clone).forEach(    key =&gt;      (clone[key] =        typeof obj[key] === \"object\" ? deepClone(obj[key]) : obj[key])  )  return Array.isArray(obj) &amp;&amp; obj.length    ? (clone.length = obj.length) &amp;&amp; Array.from(clone)    : Array.isArray(obj)    ? Array.from(obj)    : clone&#125;const a = &#123; foo: 'bar', obj: &#123; a: 1, b: 2 &#125; &#125;;const b = deepClone(a); // a !== b, a.obj !== b.objconsole.log(a === b)","plink":"https://xkeith.space/post/arc-24/"},{"title":"React æŠ€æœ¯æ ˆ","date":"2019-06-02T08:20:32.000Z","updated":"2019-06-23T14:27:36.784Z","content":"React æŠ€æœ¯æ ˆ\nReact\nState\nä¸è¦ç›´æ¥ä¿®æ”¹ State\n\nState çš„æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„\n\nState çš„æ›´æ–°ä¼šè¢«åˆå¹¶\n\næ•°æ®æµæ˜¯å‘ä¸‹æµåŠ¨çš„\n\n\näº‹ä»¶å¤„ç†\næ³¨æ„ç»‘å®šçš„å›è°ƒå‡½æ•°çš„ this å¯ä»¥é‡‡ç”¨æ˜¾ç¤º bind æˆ–è€…ä½¿ç”¨ class fields è¯­æ³•\n\nå‘äº‹ä»¶å¤„ç†ç¨‹åºä¼ é€’å‚æ•°ï¼Œé€šè¿‡ç®­å¤´å‡½æ•°æˆ–è€… bind æ³¨æ„ React çš„äº‹ä»¶å¯¹è±¡ e ä¼šè¢«ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ï¼Œå¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°äº‹ä»¶å¯¹è±¡å¿…é¡»æ˜¾å¼çš„è¿›è¡Œä¼ é€’ã€‚\n\n\nåˆ—è¡¨ key\næ³¨æ„è¦ä¿è¯åˆ—è¡¨æœ‰ key ä¸”æœ€å¥½ä¸è¦æ˜¯ index\n\nä¸€ä¸ªå¥½çš„ç»éªŒæ³•åˆ™æ˜¯ï¼šåœ¨map()æ–¹æ³•ä¸­çš„å…ƒç´ éœ€è¦è®¾ç½® key å±æ€§ã€‚\n\nkey ä¼šä¼ é€’ä¿¡æ¯ç»™ React ä½†ä¸ä¼šä¼ é€’ä»»ä½•ä¿¡æ¯ç»™ä½ çš„ç»„ä»¶\n\nJSX ä¸­å¯ä»¥ç›´æ¥å†…è” map ä½†æ˜¯å¿…è¦çš„æ—¶å€™ä½ è¦æ³¨æ„ç»„ä»¶æå–\n\n\nè¡¨å•åœ¨ React é‡Œï¼ŒHTML è¡¨å•å…ƒç´ çš„å·¥ä½œæ–¹å¼å’Œå…¶ä»–çš„ DOM å…ƒç´ æœ‰äº›ä¸åŒï¼Œè¿™æ˜¯å› ä¸ºè¡¨å•å…ƒç´ é€šå¸¸ä¼šä¿æŒä¸€äº›å†…éƒ¨çš„ stateã€‚\nåœ¨ HTML ä¸­ï¼Œè¡¨å•å…ƒç´ ï¼ˆå¦‚&lt;input&gt;ã€&lt;textarea&gt;å’Œ&lt;select&gt;ï¼‰ä¹‹ç±»çš„è¡¨å•å…ƒç´ é€šå¸¸è‡ªå·±ç»´æŠ¤ stateï¼Œå¹¶æ ¹æ®ç”¨æˆ·è¾“å…¥è¿›è¡Œæ›´æ–°ã€‚è€Œåœ¨ React ä¸­ï¼Œå¯å˜çŠ¶æ€ï¼ˆmutable stateï¼‰é€šå¸¸ä¿å­˜åœ¨ç»„ä»¶çš„ state å±æ€§ä¸­ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡ä½¿ç”¨ setState() æ¥æ›´æ–°ã€‚\næˆ‘ä»¬å¯ä»¥æŠŠä¸¤è€…ç»“åˆèµ·æ¥ï¼Œä½¿ React çš„ state æˆä¸ºâ€œå”¯ä¸€æ•°æ®æºâ€ã€‚æ¸²æŸ“è¡¨å•çš„ React ç»„ä»¶è¿˜æ§åˆ¶ç€ç”¨æˆ·è¾“å…¥è¿‡ç¨‹ä¸­è¡¨å•å‘ç”Ÿçš„æ“ä½œã€‚è¢« React ä»¥è¿™ç§æ–¹å¼æ§åˆ¶å–å€¼çš„è¡¨å•è¾“å…¥å…ƒç´ å°±å«åšâ€œå—æ§ç»„ä»¶â€ã€‚\nç»„åˆ vs ç»§æ‰¿\nprops.children  ç”¨æ¥ä¼ é€’å¹¶æ¸²æŸ“å­ç»„ä»¶\n\nåŒæ ·å¯ä»¥ç›´æ¥ä¼ é€’ç»„ä»¶ä½œä¸º props\n\n\nReact å“²å­¦\nå°† UI ç¨¿åˆ’åˆ†ä¸ºç»„ä»¶å±‚çº§ï¼Œä¿è¯å•ä¸€åŠŸèƒ½åŸåˆ™ï¼Œå¦‚æœä¸€ä¸ªç»„ä»¶è´Ÿè´£çš„åŠŸèƒ½è¶…è¿‡ä¸€ä¸ªï¼Œè¯·è€ƒè™‘å°†å…¶æ‹†åˆ†ä¸ºæ›´å°çš„ç»„ä»¶ã€‚\nå…ˆç”¨ props æ„å»ºä¸€ä¸ªé™æ€ç‰ˆæœ¬ï¼Œä¸åŒ…å«åŠŸèƒ½äº¤äº’çš„é™æ€ç‰ˆæœ¬ï¼Œæ³¨æ„æ­¤æ—¶ä¸åº”è¯¥ç”¨åˆ° state å› ä¸º state æ˜¯å¯å˜çš„ï¼Œåº”è¯¥åœ¨åŠŸèƒ½äº¤äº’çš„æ—¶å€™ä½¿ç”¨ã€‚\nç¡®å®š UI state çš„æœ€å°ï¼ˆå®Œæ•´ï¼‰è¡¨ç¤ºã€‚è®¾è®¡é‚£äº›æ•°æ®éœ€è¦ä½¿ç”¨ state ï¼Œé¿å…å°†å¯ä»¥è®¡ç®—æˆ–ä¸å˜çš„æ•°æ®è®¾ç½®ä¸º state\nç¡®å®š state æ”¾ç½®çš„ä½ç½®ï¼Œé€‚å½“çš„æå‡çŠ¶æ€æ¥å®ç°ç»„ä»¶é—´çš„å•å‘æ•°æ®æµ\né€šè¿‡ä¼ é€’å›è°ƒå‡½æ•°æ¥å®ç°åå‘æ•°æ®æµï¼Œå®ç°ç”¨å­ç»„ä»¶æ›´æ–°çˆ¶ç»„ä»¶\n\nRedux\nRedux æ˜¯ JavaScript çŠ¶æ€å®¹å™¨ï¼Œæä¾›å¯é¢„æµ‹åŒ–çš„çŠ¶æ€ç®¡ç†\n\nReact å­˜åœ¨çš„ç—›ç‚¹å•ä¸€æ•°æ®æµä¸¥é‡é™åˆ¶äº†ç»„ä»¶é—´æ•°æ®çš„é€šä¿¡ï¼Œå³ä½¿å­˜åœ¨çŠ¶æ€æå‡æˆ–è€…æ˜¯é€šè¿‡ä¼ é€’å›è°ƒå‡½æ•°çš„æ–¹å¼æ¥å®ç°æ•°æ®æµä¼ é€’ï¼Œå½“ä¸€ä¸ªå•é¡µåº”ç”¨çš„è§„æ¨¡å˜å¤§åæ•°æ®ç®¡ç†å°†æ˜¯å¾ˆå›°éš¾çš„ã€‚\nä¸‰å¤§åŸåˆ™\nå•ä¸€æ•°æ®æº\nState æ˜¯åªè¯»çš„\nreducer åº”è¯¥æ˜¯çº¯çº¯çš„å‡½æ•°\n\nåº”ç”¨ä¸­æ‰€æœ‰çš„ state éƒ½ä»¥ä¸€ä¸ªå¯¹è±¡æ ‘çš„å½¢å¼å‚¨å­˜åœ¨ä¸€ä¸ªå•ä¸€çš„storeä¸­ã€‚ æƒŸä¸€æ”¹å˜ state çš„åŠæ³•æ˜¯è§¦å‘actionï¼Œä¸€ä¸ªæè¿°å‘ç”Ÿä»€ä¹ˆçš„å¯¹è±¡ã€‚ ä¸ºäº†æè¿° action å¦‚ä½•æ”¹å˜ state æ ‘ï¼Œä½ éœ€è¦ç¼–å†™reducersã€‚\n1234567891011121314151617181920212223242526272829303132333435363738394041import &#123; createStore &#125; from 'redux';/** * è¿™æ˜¯ä¸€ä¸ª reducerï¼Œå½¢å¼ä¸º (state, action) =&gt; state çš„çº¯å‡½æ•°ã€‚ * æè¿°äº† action å¦‚ä½•æŠŠ state è½¬å˜æˆä¸‹ä¸€ä¸ª stateã€‚ * * state çš„å½¢å¼å–å†³äºä½ ï¼Œå¯ä»¥æ˜¯åŸºæœ¬ç±»å‹ã€æ•°ç»„ã€å¯¹è±¡ã€ * ç”šè‡³æ˜¯ Immutable.js ç”Ÿæˆçš„æ•°æ®ç»“æ„ã€‚æƒŸä¸€çš„è¦ç‚¹æ˜¯ * å½“ state å˜åŒ–æ—¶éœ€è¦è¿”å›å…¨æ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¿®æ”¹ä¼ å…¥çš„å‚æ•°ã€‚ * * ä¸‹é¢ä¾‹å­ä½¿ç”¨ `switch` è¯­å¥å’Œå­—ç¬¦ä¸²æ¥åšåˆ¤æ–­ï¼Œä½†ä½ å¯ä»¥å†™å¸®åŠ©ç±»(helper) * æ ¹æ®ä¸åŒçš„çº¦å®šï¼ˆå¦‚æ–¹æ³•æ˜ å°„ï¼‰æ¥åˆ¤æ–­ï¼Œåªè¦é€‚ç”¨ä½ çš„é¡¹ç›®å³å¯ã€‚ */function counter(state = 0, action) &#123;  switch (action.type) &#123;  case 'INCREMENT':    return state + 1;  case 'DECREMENT':    return state - 1;  default:    return state;  &#125;&#125;// åˆ›å»º Redux store æ¥å­˜æ”¾åº”ç”¨çš„çŠ¶æ€ã€‚// API æ˜¯ &#123; subscribe, dispatch, getState &#125;ã€‚let store = createStore(counter);// å¯ä»¥æ‰‹åŠ¨è®¢é˜…æ›´æ–°ï¼Œä¹Ÿå¯ä»¥äº‹ä»¶ç»‘å®šåˆ°è§†å›¾å±‚ã€‚store.subscribe(() =&gt;  console.log(store.getState()));// æ”¹å˜å†…éƒ¨ state æƒŸä¸€æ–¹æ³•æ˜¯ dispatch ä¸€ä¸ª actionã€‚// action å¯ä»¥è¢«åºåˆ—åŒ–ï¼Œç”¨æ—¥è®°è®°å½•å’Œå‚¨å­˜ä¸‹æ¥ï¼ŒåæœŸè¿˜å¯ä»¥ä»¥å›æ”¾çš„æ–¹å¼æ‰§è¡Œstore.dispatch(&#123; type: 'INCREMENT' &#125;);// 1store.dispatch(&#123; type: 'INCREMENT' &#125;);// 2store.dispatch(&#123; type: 'DECREMENT' &#125;);// 1\nStoreæ•´ä¸ªåº”ç”¨çš„  è¢«å‚¨å­˜åœ¨ä¸€æ£µ object tree ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ª object tree åªå­˜åœ¨äºå”¯ä¸€ä¸€ä¸ª store ä¸­ã€‚\nReducerè™½ç„¶å‡ºäºæ€§èƒ½æ–¹é¢çš„è€ƒè™‘ï¼Œ å†™ä¸çº¯çš„ reducer æ¥å˜åŠ¨æ•°æ®åœ¨æŠ€æœ¯ä¸Šæ˜¯å¯è¡Œçš„ï¼Œä½†æˆ‘ä»¬å¹¶ä¸é¼“åŠ±è¿™ä¹ˆåšã€‚ä¸çº¯çš„ reducer ä¼šä½¿ä¸€äº›å¼€å‘ç‰¹æ€§ï¼Œå¦‚æ—¶é—´æ—…è¡Œã€è®°å½•/å›æ”¾æˆ–çƒ­åŠ è½½ä¸å¯å®ç°ã€‚æ­¤å¤–ï¼Œåœ¨å¤§éƒ¨åˆ†å®é™…åº”ç”¨ä¸­ï¼Œè¿™ç§æ•°æ®ä¸å¯å˜åŠ¨çš„ç‰¹æ€§å¹¶ä¸ä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜ï¼Œå°±åƒ Om æ‰€è¡¨ç°çš„ï¼Œå³ä½¿å¯¹è±¡åˆ†é…å¤±è´¥ï¼Œä»å¯ä»¥é˜²æ­¢æ˜‚è´µçš„é‡æ¸²æŸ“å’Œé‡è®¡ç®—ã€‚è€Œå¾—ç›Šäº reducer çš„çº¯åº¦ï¼Œåº”ç”¨å†…çš„å˜åŒ–æ›´æ˜¯ä¸€ç›®äº†ç„¶ã€‚\nActionAction æ˜¯ç”¨æ¥æè¿°ä¸”è¿›è¡Œæ›´æ–° state çš„å”¯ä¸€æ‰‹æ®µï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªæè¿°æ•°æ®è½¬åŒ–çš„å¯¹è±¡ï¼Œæœ‰äº† Action æˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸€æ­¥æ•°æ®æ“ä½œéƒ½æœ‰æ¸…æ™°çš„æŒæ§ï¼ŒAction å¯ä»¥è°ƒç”¨ reducer æ¥æ“ä½œæ•°æ®ã€‚\nImmutableRedux-Sagaå®é™…ä¸Šè¿™å°±æ˜¯ä¸€ä¸ªå®Œæˆå¼‚æ­¥ reducer çš„åº“ï¼Œå› ä¸ºåœ¨ redux ä¸­æˆ‘ä»¬è¦æ±‚æ‰€æœ‰çš„ reducer éƒ½å¿…é¡»æ˜¯çº¯å‡½æ•°ï¼Œè€Œä¸šåŠ¡ä¸­è‚¯å®šéš¾å…é‡åˆ°å¼‚æ­¥æ“ä½œï¼ŒRedux-Saga æ˜¯ä¸€ä¸ªæ›´ä¸ºä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ\nDvaä¸‡èƒ½çš„æ”¯ä»˜å®ç»™å‡ºçš„ç›®å‰æœ€å®Œç¾çš„ React è§£å†³æ–¹æ¡ˆã€‚ç›¸å½“äº React + Redux + Redux-Saga + React-Router\nantdåˆ«è¯´äº†ï¼Œç”¨å°±å®Œäº‹äº†ã€‚\n","thumbnail":"https://i.loli.net/2019/06/23/5d0f8c4b925ad42384.png","color":"#111","plink":"https://xkeith.space/post/arc-23/"},{"title":"æ¯å¤©ï¼ˆä¸çŸ¥é“æœ‰å‡ ï¼‰é“å‰ç«¯é¢è¯•é¢˜ï¼ˆäº”æœˆï¼‰","date":"2019-05-20T04:00:00.000Z","updated":"2019-05-20T08:48:42.992Z","content":"\né¢˜åº“ä¸»è¦æ¥è‡ªäºæœ¨æ˜“é˜³çš„ Github æ•´ç†å’Œä¸ªäººå¹³æ—¶é¢è¯•ç»éªŒã€‚é¢˜åº“æ”¶é›†åŸåˆ™ä¸Šä»…ä¾›ç¬”è€…ä¸ªäººå­¦ä¹ æ•´ç†æ‰€ç”¨ï¼Œä¸€åˆ‡ç‰ˆæƒéƒ½å½’ Reference åŠç›¸åº”å…¬å¸æ‰€æœ‰ã€‚ä»äº”æœˆèµ·æ¯å¤©ä¸€æ®µ JavaScript ä»£ç æ®µï¼Œä¸»è¦æ¥æºäº 30s-of-code è®©å†™ä»£ç åƒå‘¼å¸ä¸€æ ·è‡ªç„¶ã€‚\n\n2019/05/20å­—èŠ‚è·³åŠ¨ 2019 å¹´æ˜¥æ‹›å‰ç«¯å¼€å‘å®ä¹ ç”Ÿä¸€é¢\n\nè¯¦ç»†è§£é‡Šä¸€ä¸‹åŒæºç­–ç•¥\nå­—ç¬¦ä¸²ç±»å‹è½¬æ¢çš„é—®é¢˜\nJavaScript å€¼ç±»å‹æ•°æ®å’Œå¼•ç”¨ç±»å‹æ•°æ®çš„ä¸¤ç§å­˜å‚¨æ–¹å¼\nå¯¹è±¡å’Œæ•°ç»„çš„åº•å±‚æ•°æ®ç»“æ„\näº‹ä»¶å†’æ³¡çš„é—®é¢˜\n\nHTTPè®¿é—®æ§åˆ¶ï¼ˆCORSï¼‰ - HTTP | MDNjså…­ç§æ•°æ®ç±»å‹æ˜¯æ€ä¹ˆæ ·å­˜å‚¨çš„ï¼Ÿ - kangzai2012çš„åšå®¢ - CSDNåšå®¢\n6ç§åŸºæœ¬ç±»å‹\n\nstring\nnumber\nboolean\nundefined\nnull\nsymbol\n\nåŸºæœ¬æ•°æ®ç±»å‹éƒ½æ˜¯ä¸€äº›ç®€å•çš„æ•°æ®æ®µï¼Œå®ƒä»¬æ˜¯å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­\nå¼•ç”¨æ•°æ®ç±»å‹\nå¼•ç”¨æ•°æ®ç±»å‹æ˜¯ä¿å­˜åœ¨å †å†…å­˜ä¸­çš„ï¼Œç„¶åå†æ ˆå†…å­˜ä¸­ä¿å­˜ä¸€ä¸ªå¯¹å †å†…å­˜ä¸­å®é™…å¯¹è±¡çš„å¼•ç”¨ã€‚æ‰€ä»¥ï¼ŒJavaScriptä¸­å¯¹å¼•ç”¨æ•°æ®ç±»å‹çš„æ“ä½œéƒ½æ˜¯æ“ä½œå¯¹è±¡çš„å¼•ç”¨è€Œä¸æ˜¯å®é™…çš„å¯¹è±¡ã€‚å¯ä»¥ç†è§£ä¸ºï¼Œæ ˆå†…å­˜ä¸­ä¿å­˜äº†ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€å’Œå †å†…å­˜ä¸­çš„å®é™…å€¼æ˜¯ç›¸å…³çš„ã€‚\n\nä¸ºä»€ä¹ˆåŸºç¡€æ•°æ®ç±»å‹å­˜åœ¨æ ˆä¸­ï¼Œè€Œå¼•ç”¨æ•°æ®ç±»å‹å­˜åœ¨å †ä¸­å‘¢ï¼Ÿ\n\nå †æ¯”æ ˆå¤§ï¼Œæ ˆæ¯”å¯¹é€Ÿåº¦å¿«ã€‚\nåŸºç¡€æ•°æ®ç±»å‹æ¯”è¾ƒç¨³å®šï¼Œè€Œä¸”ç›¸å¯¹æ¥è¯´å ç”¨çš„å†…å­˜å°ã€‚\nå¼•ç”¨æ•°æ®ç±»å‹å¤§å°æ˜¯åŠ¨æ€çš„ï¼Œè€Œä¸”æ˜¯æ— é™çš„ã€‚\nå †å†…å­˜æ˜¯æ— åºå­˜å‚¨ï¼Œå¯ä»¥æ ¹æ®å¼•ç”¨ç›´æ¥è·å–ã€‚\n\nä»£ç é¢˜\n\næ‹¬å·åŒ¹é…\nä¸€ä¸ªç‰ˆæœ¬å·æ’åºçš„é—®é¢˜ï¼Œè€ƒå¯Ÿå‡½æ•°å¼ç¼–ç¨‹\nè¯»ç¨‹åºè¯´ç»“æœ\n\n12345678const p = new Promise(resolve =&gt; &#123;\tresolve(1);  Promise.resolve(2).then(console.log);&#125;);p.then(console.log);// =&gt; 2 1// æ€è€ƒä¸ºä»€ä¹ˆï¼Ÿ\n12345678&lt;div id = \"parent\"&gt; &lt;div id = \"child\"&gt; &lt;/div&gt; &lt;/div&gt;&lt;script&gt;    parent.addEventListener(\"click\", () =&gt; alert(1));    parent.addEnentListener(\"click\", () =&gt; alert(2), true);    child.addEventListener(\"click\", () =&gt; alert(3));    child.addEventListener(\"click\", () =&gt; alert(4), true);&lt;/script&gt;// =&gt; 2 3 4 1\n2019/05/17\nè¾“å‡ºä»¥ä¸‹ä»£ç è¿è¡Œç»“æœ\n\n12345678910111213141516171819// example 1var a=&#123;&#125;, b=&apos;123&apos;, c=123;  a[b]=&apos;b&apos;;a[c]=&apos;c&apos;;  console.log(a[b]);---------------------// example 2var a=&#123;&#125;, b=Symbol(&apos;123&apos;), c=Symbol(&apos;123&apos;);  a[b]=&apos;b&apos;;a[c]=&apos;c&apos;;  console.log(a[b]);---------------------// example 3var a=&#123;&#125;, b=&#123;key:&apos;123&apos;&#125;, c=&#123;key:&apos;456&apos;&#125;;  a[b]=&apos;b&apos;;a[c]=&apos;c&apos;;  console.log(a[b]);\nè€ƒå¯ŸçŸ¥è¯†ç‚¹ï¼š\n\nå¯¹è±¡çš„ key å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ˜¯ Symbol ç±»å‹\nå…¶ä»–ç±»å‹çš„é”®åä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹\nå¯¹è±¡è½¬å­—ç¬¦ä¸²é»˜è®¤ä¹Ÿä¼šè°ƒç”¨ toString æ–¹æ³•\n\næ‰€ä»¥ç¬¬ä¸€ä¸ªä¾‹å­ä¸­çš„ä¸¤ä¸ªé”®åæ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯ â€œ123â€ã€‚å› æ­¤åä¸€ä¸ªå€¼ä¼šè¦†ç›–å‰ä¸€ä¸ªå€¼ã€‚è€Œç¬¬äºŒä¸ªä¾‹å­ä¸­çš„ä¸¤ä¸ªé”®åéƒ½æ˜¯ Symbol ç±»å‹ï¼Œå› æ­¤ä¸ä¼šé‡å¤ï¼Œä¹Ÿä¸ä¼šå‘ç”Ÿè¦†ç›–ç°è±¡ã€‚ç¬¬ä¸‰ä¸ªä¾‹å­ä¸­çš„é”®åæ˜¯å¯¹è±¡ç±»å‹ï¼Œè¢«è°ƒç”¨ toString ä¹‹åçš„ç»“æœéƒ½æ˜¯ [object object] ï¼Œå› æ­¤åä¸€ä¸ªå€¼åŒæ ·ä¼šè¦†ç›–å‰ä¸€ä¸ªå€¼ã€‚\n2019/05/16\nè¯¦ç»†è§£é‡Šä¸€ä¸‹ HTML 5 ä¸­çš„ hash å’Œ history ï¼Œä»–ä»¬å¸¸ç”¨çš„ APIï¼Œä»¥åŠæµè§ˆå™¨å®ç°ä¸¤ç§ä¸åŒçš„è·¯ç”±æ–¹å¼çš„åŸç†ã€‚\n\nhash å’Œ historyçš„åŒºåˆ« - A13330069275çš„åšå®¢ - CSDNåšå®¢\nhistory\npushState()replaceState()\nhistory çš„å®ç°åŸºäºæµè§ˆå™¨çš„å†å²è®°å½•æ ˆï¼Œé€šè¿‡å¯¹å†å²è®°å½•çš„ä¿®æ”¹æ¥è·³è½¬é¡µé¢ï¼Œå› æ­¤ history è™½ç„¶æ”¹å˜äº†è·¯ç”±ï¼Œå¹¶ä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚è¿™æ ·å¸¦æ¥çš„é—®é¢˜æ˜¯ä¸€èˆ¬çš„å•é¡µé¢åº”ç”¨æ˜¯ä¸ä¼šè¦†ç›–å…¨æ‰€æœ‰é¡µé¢çš„è·¯ç”±çš„ï¼Œè¿™æ ·ä¸€æ¥ç”¨æˆ·å¦‚æœç›´æ¥è¾“å…¥ URL æˆ–è€…åˆ·æ–°é¡µé¢å»å¼ºåˆ¶è¯·æ±‚æœåŠ¡å™¨çš„è¯å°±ä¼š 404ï¼Œå› æ­¤éœ€è¦æˆ‘ä»¬åœ¨æœåŠ¡ç«¯é…ç½®å¥½ã€‚\nhash\nhashChange()\nhash æ¨¡å¼ä¸‹ï¼Œåªæœ‰ hash ç¬¦å·å‰çš„ URL æ‰ä¼šè¢«è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œå› æ­¤å³ä½¿åç«¯æ²¡æœ‰åšåˆ°å¯¹è·¯ç”±çš„å…¨è¦†ç›–ä¹Ÿä¸ä¼šå‡ºç° 404ã€‚\n2019/05/15\nä½¿ç”¨ JavaScript Proxy å®ç°ç®€å•çš„æ•°æ®ç»‘å®š\n\n30s-of-code\nFlip takes a function as an argument, then makes the first argument the last.\nReturn a closure that takes variadic inputs, and splices the last argumentto make it the first argument before applying the rest.\n12345678910const flip = fn =&gt; (first, ...rest) =&gt; fn(...rest, first);let a = &#123; name : \"John Smith\" &#125;;let b = &#123;&#125;;const mergeFrom = flip(Object.assign);// è¿™é‡Œæ˜¯åˆ©ç”¨äº† bind æ„é€ äº†æŸ¯é‡ŒåŒ–å‡½æ•°ï¼Œé»˜è®¤ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ alet mergePerson = mergeFrom.bind(null, a);// å®é™…ä¸Šå°±æ˜¯ mergeFrom(b, a) æˆ‘ä»¬çš„å‡½æ•°ä¼šæŠŠç¬¬ä¸€ä¸ªå‚æ•°ç§»åŠ¨åˆ°æœ€åconsole.log(mergePerson(b));b = &#123;&#125;;console.log(Object.assign(b, a));\n2019/05/14\nè§£é‡Šä¸€ä¸‹ vue ä¸­çš„ $nextTick\n\nä½ çœŸçš„ç†è§£$nextTickä¹ˆ - æ˜é‡‘\n\nåœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„ DOMã€‚2.1.0 èµ·æ–°å¢ï¼šå¦‚æœæ²¡æœ‰æä¾›å›è°ƒä¸”åœ¨æ”¯æŒ Promise çš„ç¯å¢ƒä¸­ï¼Œåˆ™è¿”å›ä¸€ä¸ª Promiseã€‚è¯·æ³¨æ„ Vue ä¸è‡ªå¸¦ Promise çš„ polyfillï¼Œæ‰€ä»¥å¦‚æœä½ çš„ç›®æ ‡æµè§ˆå™¨ä¸åŸç”Ÿæ”¯æŒ Promise (IEï¼šä½ ä»¬éƒ½çœ‹æˆ‘å¹²å˜›)ï¼Œä½ å¾—è‡ªå·±æä¾› polyfillã€‚å¯èƒ½ä½ è¿˜æ²¡æœ‰æ³¨æ„åˆ°ï¼ŒVue å¼‚æ­¥æ‰§è¡Œ DOM æ›´æ–°ã€‚åªè¦è§‚å¯Ÿåˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®æ”¹å˜ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ DOM æ“ä½œä¸Šéå¸¸é‡è¦ã€‚ç„¶åï¼Œåœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯â€œtickâ€ä¸­ï¼ŒVue åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œå®é™… (å·²å»é‡çš„) å·¥ä½œã€‚Vue åœ¨å†…éƒ¨å°è¯•å¯¹å¼‚æ­¥é˜Ÿåˆ—ä½¿ç”¨åŸç”Ÿçš„ Promise.then å’Œ MessageChannelï¼Œå¦‚æœæ‰§è¡Œç¯å¢ƒä¸æ”¯æŒï¼Œä¼šé‡‡ç”¨ setTimeout(fn, 0) ä»£æ›¿ã€‚\n\nå®é™…ä¸Š $nextTick æ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œå› æ­¤åœ¨ JavaScript å¼•æ“ç»“æŸå·¥ä½œåä¼šç«‹å³è°ƒç”¨å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„å›è°ƒå‡½æ•°ï¼Œå› ä¸ºä¸€ä¸ª Evevt Loop çš„æ‰§è¡Œæµç¨‹æ˜¯ å®ä»»åŠ¡ -&gt; å¾®ä»»åŠ¡ -&gt; GUI å¼•æ“ -&gt; ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ã€‚å› æ­¤ä½¿ç”¨ $nextTick çš„å¥½å¤„åœ¨äºå¯ä»¥æœ€æ—©çš„æ‹¿åˆ°ä¿®æ”¹åçš„ DOM å¯¹è±¡ï¼Œä¸éœ€è¦éè¦ç­‰å¾… GUI æ¸²æŸ“ç»“æŸã€‚\n30s-of-code\nCounts the occurrences of a value in an array.\nUse Array.prototype.reduce()to increment a counter each time you encounter the specific value inside the array.\n123456789/*** @param &#123;[]&#125; arr* @param &#123;*&#125; val*/const countOccurrences = (arr, val) =&gt;    arr.reduce((a, v) =&gt; (v === val ? a + 1 : a), 0);console.log(countOccurrences([1, 1, 2, 1, 2, 3], 2));\n2019/05/13\nä¸ºä»€ä¹ˆæ™®é€š for å¾ªç¯çš„æ€§èƒ½è¿œè¿œé«˜äº forEach çš„æ€§èƒ½ï¼Œè¯·è§£é‡Šå…¶ä¸­çš„åŸå› \n\n\nfor å¾ªç¯æ²¡æœ‰ä»»ä½•é¢å¤–çš„å‡½æ•°è°ƒç”¨æ ˆå’Œä¸Šä¸‹æ–‡ï¼›\n\nforEachå‡½æ•°ç­¾åå®é™…ä¸Šæ˜¯\n\n\narray.forEach(function(currentValue, index, arr), thisValue)å®ƒä¸æ˜¯æ™®é€šçš„ for å¾ªç¯çš„è¯­æ³•ç³–ï¼Œè¿˜æœ‰è¯¸å¤šå‚æ•°å’Œä¸Šä¸‹æ–‡éœ€è¦åœ¨æ‰§è¡Œçš„æ—¶å€™è€ƒè™‘è¿›æ¥ï¼Œè¿™é‡Œå¯èƒ½æ‹–æ…¢æ€§èƒ½ï¼›\n\n2019/05/1130s-of-code\n\nchainAsync\nChains asynchronous functions.\nLoop through an array of functions containing asynchronous events, calling next when each asynchronous event has completed.\n\n12345678910111213141516171819202122232425262728/**** @param &#123;[function]&#125; fns*/const chainAsync = fns =&gt; &#123;    let curr = 0;    const last = fns[fns.length - 1];    const next = () =&gt; &#123;        // è¿™é‡Œé€’å½’ä¼ å…¥ä¸‹ä¸€ä¸ªæ•°ç»„ä¸­çš„å‡½æ•°        const fn = fns[curr++];        fn === last ?  fn() : fn(next);    &#125;;    next();&#125;;chainAsync([    next =&gt; &#123;        console.log(\"0 seconds\");        setTimeout(next, 1000);    &#125;,    next =&gt; &#123;        console.log(\"1 second\");        setTimeout(next, 1000);    &#125;,    () =&gt; &#123;        console.log(\"2 second\");    &#125;]);\n2019/05/1030s-of-code\n\nReplaces all but the last num of characters with the specified mask character.\nUse String.prototype.slice() to grab the portion of the characters thatwill remain unmasked and use String.padStart()to fill the beginning of the string with the mask character up to the original length.Omit the second argument, num, to keep a default of 4 characters unmasked. If num is negative,the unmasked characters will be at the start of the string.Omit the third argument, mask, to use a default character of â€˜*â€™ for the mask.\n\n12345678910const mask = (cc, num = 4, mask = \"*\") =&gt; &#123;    // æœ€å³ä¾§ num ä¸ªå­—ç¬¦ä¸å˜ï¼Œåœ¨å…¶å·¦ä¾§å¡«å…… mask ç›´åˆ°é•¿åº¦ç­‰äºåŸå­—ç¬¦ä¸²é•¿åº¦    return `$&#123;cc&#125;`.slice(-num).padStart(`$&#123;cc&#125;`.length, mask);&#125;let res = mask(\"13123\", 3, \"$\")console.log(res)res = mask(\"123123123fuck\")console.log(res);\n2019/05/09\nä»‹ç»ä¸‹ webpack çƒ­æ›´æ–°åŸç†ï¼Œæ˜¯å¦‚ä½•åšåˆ°åœ¨ä¸åˆ·æ–°æµè§ˆå™¨çš„å‰æä¸‹æ›´æ–°é¡µé¢çš„\n\n\n30s-of-code\nGroups the elements of an array based on the given function.\nUse Array.prototype.map() to map the values of an array to a function or property name.Use Array.prototype.reduce() to create an object, where the keys are produced from the mapped results.\n12345678910111213141516171819202122/**** @param &#123;[]&#125; arr* @param &#123;&#125; fn* @returns &#123;&#125;* fn å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡æ‰€æ‹¥æœ‰çš„å±æ€§*/const groupBy = (arr, fn) =&gt; &#123;    // å…ˆç”¨ map æ¥æå– fn ç»“æœä½œä¸ºé”®    return arr        .map(typeof fn === \"function\" ? fn : val =&gt; val[fn])        .reduce((acc, val, i) =&gt; &#123;            // æ‹“å±•è¿”å›çš„å¯¹è±¡            acc[val] = (acc[val] || []).concat(arr[i]);            return acc;        &#125;, &#123;&#125;);&#125;;let res = groupBy([6.1, 4.2, 6.3], Math.floor); // &#123;4: [4.2], 6: [6.1, 6.3]&#125;console.log(res);res = groupBy(['one', 'two', 'three'], 'length'); // &#123;3: ['one', 'two'], 5: ['three']&#125;console.log(res);\n2019/05/08\nå¦‚ä½•æŠŠä¸€ä¸ªå­—ç¬¦ä¸²çš„å¤§å°å†™å–åï¼ˆå¤§å†™å˜å°å†™å°å†™å˜å¤§å†™ï¼‰ï¼Œä¾‹å¦‚ â€™AbCâ€™ å˜æˆ â€˜aBcâ€™\n\njavascript-snippets/processingString.js at master Â· XXXMrG/javascript-snippets Â· GitHub\n30s-of-code\nbifurcateSplits values into two groups. If an element infilteris truthy, the corresponding element in the collection belongs to the first group; otherwise, it belongs to the second group.UseArray.prototype.reduce()andArray.prototype.push()to add elements to groups, based onfilter.\nExample\n1bifurcate(['beep', 'boop', 'foo', 'bar'], [true, true, false, true]); // [ ['beep', 'boop', 'bar'], ['foo'] ]\nSolution\n12345678910111213141516171819/*Splits values into two groups. If an element infilteris truthy, the corresponding element in the collection belongs to the first group;otherwise, it belongs to the second group.UseArray.prototype.reduce() and Array.prototype.push()to add elements to groups, based onfilter.*//***** @param &#123;[]&#125; data* @param &#123;[]&#125; filters*/const bifurcate = (data, filters) =&gt; &#123;    // é€—å·è¿ç®—ç¬¦è¿”å›æœ€åä¸€ä¸ªç»“æœå“¦    return data.reduce((acc, val, i) =&gt; (acc[filters[i] ? 0 : 1].push(val), acc), [[], []])&#125;let res = bifurcate(['beep', 'boop', 'foo', 'bar'], [true, true, false, true]); // [ ['beep', 'boop', 'bar'], ['foo'] ]console.log(res);\n2019/05/07\nå¦‚ä½•è§£å†³ç§»åŠ¨ç«¯ Retina å± 1px åƒç´ é—®é¢˜\n\n2019/05/06\néšæœºç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•´æ•°ç±»å‹çš„æ•°ç»„ï¼Œä¾‹å¦‚[2, 10, 3, 4, 5, 11, 10, 11, 20]ï¼Œå°†å…¶æ’åˆ—æˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¦æ±‚æ–°æ•°ç»„å½¢å¼å¦‚ä¸‹ï¼Œä¾‹å¦‚[[2, 3, 4, 5], [10, 11], [20]]ã€‚\n\njavascript-snippets/day-05-06.js at master Â· XXXMrG/javascript-snippets Â· GitHub\n\næ¨¡æ‹Ÿå®ç°ä¸€ä¸ª Promise.finally\n\n2019/05/05\nè§£é‡Šä¸€ä¸‹äº‹ä»¶å§”æ‰˜ï¼Ÿ\n\n2019/05/04\nè§£é‡Š HTML5 ä¸­ history å’Œ hash æ¨¡å¼çš„åŒºåˆ«\n\nhashå’Œhistoryä¸¤ç§æ¨¡å¼çš„åŒºåˆ« - ç®€ä¹¦\n2019/05/03\nå¦‚ä½•åœ¨ JavaScript ä¸­å®ç°ç§æœ‰å˜é‡ï¼Ÿ\n\né—­åŒ…æˆ–è€… Symbol\n\nç”¨ JavaScript å®ç°ä¸€ä¸ªå•ä¾‹æ¨¡å¼ã€‚\n\nJavascriptå•ä¾‹æ¨¡å¼æ¦‚å¿µä¸å®ä¾‹ - æ˜é‡‘JSå•ä¾‹æ¨¡å¼ã€ŠJavaScriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹é˜…è¯»ç¬”è®° - æ˜é‡‘\n2019/05/02\né‚£ä¹ˆæˆ‘ä»¬ä»Šå¤©å°±æ‰‹å†™ä¸ª axios å§ï¼\n\n2019/05/01\né‚£ä¹ˆæˆ‘ä»¬å°±æ‰‹å†™ä¸ª Promise å§ï¼\n\n","plink":"https://xkeith.space/post/arc-21/"},{"title":"æ‰‹æ’• Symbol","date":"2019-05-03T13:58:40.000Z","updated":"2019-05-03T13:59:16.203Z","content":"\nåŸºç¡€æ¦‚è¿°ç¬¬å…­ç§åŸå§‹ç®€å•æ•°æ®ç±»å‹ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œåªèƒ½é€šè¿‡ Symbol å‡½æ•°ç”Ÿæˆã€‚ä¸èƒ½ä½¿ç”¨ new å…³é”®å­—ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½é€šè¿‡æ„é€ å‡½æ•°æ¥ç”Ÿæˆã€‚å› ä¸ºæ˜¯ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ï¼Œä¹Ÿä¸å­˜åœ¨ä»€ä¹ˆåŸå‹é“¾ç­‰ç­‰ç­‰ã€‚\n12let s = Symbol();typeof s // =&gt; \"symbol\"\nå¯ä»¥åœ¨åˆå§‹çš„æ—¶å€™æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå®é™…ä¸Šæ²¡ä»€ä¹ˆåº”ç”¨æ„ä¹‰ï¼Œå› ä¸ºæ¯ä¸€ä¸ª Symbol éƒ½æ˜¯ä¸åŒçš„ï¼Œä»…ç”¨åšè¾“å‡ºçš„æ—¶å€™çš„åŒºåˆ†ï¼Œä»¥åŠè½¬æˆå­—ç¬¦ä¸²ä¸ä¸€æ ·ã€‚å¦‚æœä½ æƒ³ç»™ Symbol ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œé‚£ä¹ˆä¼šå…ˆè°ƒç”¨è¯¥å¯¹è±¡çš„ toString() æ–¹æ³•ï¼Œæ‰€ä»¥ä¼ è¿›å»çš„è¿˜æ˜¯ä¸ªå­—ç¬¦ä¸²å“¦ã€‚æ­£å¸¸æƒ…å†µä¸‹æ¯ä¸€æ¬¡ä½¿ç”¨ Symbol ç”Ÿæˆçš„éƒ½æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªå˜é‡ï¼Œå½“ç„¶ä¹Ÿæœ‰åŠæ³•é¿å…è¿™ç§é‡å¤ã€‚Symbol ä¸èƒ½å‚ä¸ä»»ä½•è¿ç®—ï¼Œä»…å¯ä»¥è½¬æ¢æˆ String å’Œ Booleanã€‚\nåº”ç”¨ç”¨åšå±æ€§åç”±äºæ¯ä¸€ä¸ª Symbol å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œæ„å‘³ç€ Symbol å¯ä»¥ç”¨åšæ ‡è¯†ç¬¦æ¥ä¿è¯å¯¹è±¡é‡Œä¸ä¼šå‡ºç°é‡åçš„å±æ€§ã€‚å¯ä»¥æœ‰æ•ˆé˜²æ­¢å¤šä¸ªæ¨¡å—çš„å¯¹è±¡æ„æˆçš„æ—¶å€™ä¸å°å¿ƒè¦†ç›–æˆ–é‡å†™æŸä¸ªé”®ã€‚æ— è®ºæ˜¯åœ¨å¯¹è±¡å†…éƒ¨ä½¿ç”¨ Symbol å®šä¹‰ä¸€ä¸ªé”®è¿˜æ˜¯åœ¨å¯¹è±¡å¤–ä½¿ç”¨è¿™ä¸ªé”®ï¼ŒSymbol éƒ½åªèƒ½é€šè¿‡æ–¹æ‹¬å·çš„æ–¹å¼ä½¿ç”¨ï¼Œä¸èƒ½ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œç‚¹è¿ç®—ç¬¦ä¼šæŠŠå®ƒé‡æ–°å˜æˆä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ã€‚\n1234567var mySymbol = Symbol();var a = &#123;    [mySymbol] : \"fuck\"&#125;a[mySymbol] // =&gt; \"fuck\"a.mySymbol // =&gt; undefined\nå®šä¹‰ä¸€ç»„ä¸ç›¸ç­‰çš„å¸¸é‡Symbol ç”¨åšå±æ€§å€¼ï¼Œä¹Ÿå°±æ˜¯ value ä¸­çš„æ—¶å€™ï¼Œç”±äºå…¶å”¯ä¸€æ€§ï¼Œå¯ä»¥ç”¨äºå®šä¹‰ä¸€ç»„ä¸ä¼šå˜åŒ–çš„å¸¸é‡ï¼ŒSymbol å¯ä»¥ä¿è¯ä¸å¯èƒ½ä¼šåœ¨å…¶ä»–åœ°æ–¹å‡ºç°ç›¸åŒçš„å€¼äº†ã€‚\n123456789const COLOR_RED = Symbol();const COLOR_GREEN = Symbol();function getComplement (color) &#123;    switch (color) &#123;        case COLOR_RED : return COLOR_GREEN;        case COLOR_GREEN : return COLOR_RED;    &#125;&#125;\næ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²é­”æœ¯å­—ç¬¦ä¸²å°±æ˜¯ä»£ç ä¸­é‡å¤å‡ºç°å´ä¸ä»£ç å½¢æˆå¼ºè€¦åˆçš„éƒ¨åˆ†ï¼Œä¸åˆ©äºç¨‹åºçš„ä¿®æ”¹çš„ç»´æŠ¤ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Symbol çš„å”¯ä¸€æ€§æ¥ä»£æ›¿é‚£äº›ä»…ç”¨äºåˆ†æ”¯æˆ–è€…åˆ¤æ–­çš„é­”æœ¯å­—ç¬¦ä¸²ã€‚\n123456789var shapeType = &#123;    triangle : Symbol()&#125;;function getArea (shape, options) &#123;    switch (shape) &#123;        case shapeType.triangle : doSomething();    &#125;&#125;\nå®šä¹‰ç§æœ‰å˜é‡Symbol ä½œä¸ºå±æ€§åï¼Œè¯¥å±æ€§ä¸ä¼šå‡ºç°åœ¨ for...in for...of å¾ªç¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢« Object.keys(); Object.getOwnPropertyNames() è¿”å›ï¼Œä½†æ˜¯å®ƒä¹Ÿå¹¶éç§æœ‰å±æ€§ï¼Œå¯ä»¥ç”¨ Object.getOwnPropertySymbols() è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰ Symbol å±æ€§åã€‚ä¸€ä¸ªæ–°çš„ API Reflect.ownKeys() å¯ä»¥è¿”å›æ‰€æœ‰ç±»å‹çš„é”®åï¼ŒåŒ…æ‹¬ Symbol ã€‚\næˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Symbol çš„éå†éšè”½æ€§ï¼Œå®šä¹‰ä¸€äº›éç§æœ‰ä½†åˆå¸Œæœ›åªç”¨äºå†…éƒ¨çš„æ–¹æ³•ã€‚\n12345678910111213141516171819202122232425var size = Symbol(\"size\");class Collection &#123;    constructor() &#123;        this[size] = 0;    &#125;    add(item) &#123;        this[this[size]] = item;        this[size]++;    &#125;    static sizeOf(instance) &#123;        return instance[size];    &#125;&#125;var x = new Collection();Collection.sizeOf(x); // =&gt; 0x.add(\"foo\");Collection.sizeOf(x) // =&gt; 1Object.keys(); // =&gt; [\"0\"]Object.getOwnPropertySymbols(x) // =&gt; [Symbol(size)]Object.getOwnPropertyNames(x) // =&gt; [\"0\"]\nå¤ç”¨ Symbolæˆ‘ä»¬å¹¶éä¸€å®šè¦äº§ç”Ÿæ–°çš„ Symbol å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²å‚æ•°æŸ¥æ‰¾å¹¶å®šä½ä¸€ä¸ªå·²ç»ç”Ÿæˆçš„ Symbol å€¼ã€‚Symbol.for() æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„ Symbol å€¼ã€‚å¦‚æœæœ‰ï¼Œå°±è¿”å›è¿™ä¸ª Symbol å€¼ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±ä»¥è¿™ä¸ªå‚æ•°ä¸ºåç§°æ–°å»ºä¸€ä¸ª Symbol å€¼ã€‚\n123var s1 = Symbol.for(\"foo\");var s2 = Symbol.for(\"foo\");s1 === s2 // =&gt; true\nSymbol.for() ä¼šä¸ºè¯¥ Symbol ç™»è®°åœ¨å…¨å±€ç¯å¢ƒä¸­ï¼Œå¹¶ä¸”åœ¨è°ƒç”¨æ—¶æœç´¢è¿™ä¸ª Symbol å€¼ï¼Œä½†æ˜¯æ™®é€šçš„ Symbol() åªæ˜¯ä¼šæ¯æ¬¡éƒ½äº§ç”Ÿä¸€ä¸ªä¸åŒçš„ Symbol å€¼ã€‚Symbol.for ä¸º Symbol ç™»è®°çš„åå­—æ˜¯å…¨å±€ç¯å¢ƒçš„ï¼Œå¯ä»¥åœ¨ä¸åŒçš„ iframe æˆ– service worker ä¸­å–åˆ°åŒä¸€ä¸ªå€¼\nå†…ç½®çš„ Symbol æ•°å€¼ES6 ä¸­å®šä¹‰äº† 11 ä¸ªå†…ç½®çš„ Symbol å€¼ï¼Œç”¨åœ¨è¯­è¨€å†…éƒ¨ä½œä¸ºå±æ€§åï¼Œåœ¨è°ƒç”¨æŸäº›å†…ç½®æ–¹æ³•çš„æ—¶å€™ï¼Œå®é™…ä¸Šè°ƒç”¨çš„æ˜¯å†…éƒ¨çš„ä¸€ä¸ªä»¥ Symbol ä¸ºå±æ€§åçš„æ–¹æ³•ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æ›´æ”¹ Symbol çš„æŒ‡å‘æ¥è¦†ç›–åŸç”Ÿæ–¹æ³•ã€‚\n1234567891011Symbol.hasInstance // æŒ‡å‘å¯¹è±¡çš„ instanceof è¿ç®—ç¬¦å¯¹åº”çš„æ–¹æ³•Symbol.isConcatSpreadable // ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡ä½¿ç”¨ concat æ–¹æ³•çš„æ—¶å€™æ˜¯å¦ä¼šå±•å¼€Symbol.species // æŒ‡å‘å½“å‰å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œä»¥ä¸ºç€ new çš„æ—¶å€™ä¼šè¢«è°ƒç”¨ï¼ŒåŒæ—¶å®šä¹‰çš„æ—¶å€™è¦ä½¿ç”¨ get è¯»å–å™¨Symbol.match // æŒ‡å‘ match çš„å‡½æ•°Symbol.replace // æŒ‡å‘ replace çš„æ–¹æ³•Symbol.search // æŒ‡å‘ search çš„æ–¹æ³•Symbol.split // æŒ‡å‘ split çš„æ–¹æ³•Symbol.iterator // æŒ‡å‘é»˜è®¤éå†å™¨æ–¹æ³•Symbol.toPrimitive // æŒ‡å‘ç±»å‹è½¬æ¢çš„æ—¶å€™è°ƒç”¨çš„æ–¹æ³•ï¼Œæ¥å—ä¸‰ç§å­—ç¬¦ä¸²å‚æ•°ï¼šâ€œnumberâ€ \"string\" \"default\"Symbol.toStringTag // æŒ‡å‘ toString()Symbol.unscopables // æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œå®šä¹‰äº†ä½¿ç”¨ with çš„æ—¶å€™é‚£äº›å±æ€§ä¼šè¢« with ç¯å¢ƒæ’é™¤\næ‰‹å†™ä¸€ä¸ª Symbolå½“è°ƒç”¨ Symbol çš„æ—¶å€™ï¼Œä¼šé‡‡ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š\n\nå¦‚æœä½¿ç”¨ new ï¼Œå°±æŠ¥é”™\nå¦‚æœ description æ˜¯ undefinedï¼Œè®© descString ä¸º undefined\nå¦åˆ™ è®© descString ä¸º ToString(description)\nå¦‚æœæŠ¥é”™ï¼Œå°±è¿”å›\nè¿”å›ä¸€ä¸ªæ–°çš„å”¯ä¸€çš„ Symbol å€¼ï¼Œå®ƒçš„å†…éƒ¨å±æ€§ [[Description]] å€¼ä¸º descString\n\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071(function() &#123;    var root = this;    var generateName = (function()&#123;        var postfix = 0;        return function(descString)&#123;            postfix++;            return '@@' + descString + '_' + postfix        &#125;    &#125;)()    var SymbolPolyfill = function Symbol(description) &#123;        if (this instanceof SymbolPolyfill) throw new TypeError('Symbol is not a constructor');        var descString = description === undefined ? undefined : String(description)        var symbol = Object.create(&#123;            toString: function() &#123;                return this.__Name__;            &#125;,            valueOf: function() &#123;                return this;            &#125;        &#125;)        Object.defineProperties(symbol, &#123;            '__Description__': &#123;                value: descString,                writable: false,                enumerable: false,                configurable: false            &#125;,            '__Name__': &#123;                value: generateName(descString),                writable: false,                enumerable: false,                configurable: false            &#125;        &#125;);        return symbol;    &#125;    var forMap = &#123;&#125;;    Object.defineProperties(SymbolPolyfill, &#123;        'for': &#123;            value: function(description) &#123;                var descString = description === undefined ? undefined : String(description)                return forMap[descString] ? forMap[descString] : forMap[descString] = SymbolPolyfill(descString);            &#125;,            writable: true,            enumerable: false,            configurable: true        &#125;,        'keyFor': &#123;            value: function(symbol) &#123;                for (var key in forMap) &#123;                    if (forMap[key] === symbol) return key;                &#125;            &#125;,            writable: true,            enumerable: false,            configurable: true        &#125;    &#125;);    root.SymbolPolyfill = SymbolPolyfill;&#125;)()\nReferenceES6 ç³»åˆ—ä¹‹æ¨¡æ‹Ÿå®ç° Symbol ç±»å‹ - æ˜é‡‘\n","plink":"https://xkeith.space/post/arc-22/"},{"title":"è¯¦è§£å‰ç«¯æ¨¡å—åŒ–ä¹‹è·¯","date":"2019-04-30T08:20:37.000Z","updated":"2019-04-30T08:21:30.301Z","content":"\nIIFEImmediately Invoked Function Expression\nåœ¨ JavaScript çš„å—çº§ä½œç”¨åŸŸè¿˜æ²¡æœ‰æ­£å¼æ”¶å…¥è§„èŒƒçš„æ—¶å€™ï¼ŒJavaScript åªæ‹¥æœ‰å‡½æ•°ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ„å‘³ç€åªæœ‰å£°æ˜å‡½æ•°æ‰èƒ½è®©å˜é‡ä¸å…¨å±€ç¯å¢ƒéš”ç¦»ï¼Œå› æ­¤ä¸ºäº†è®© JavaScript ä»£ç èƒ½å¤Ÿæ‹¥æœ‰â€œæ¨¡å—åŒ–â€çš„ç‰¹æ€§ï¼Œå¼€å‘äººå‘˜ä»¬ä¼šé‡‡ç”¨è¿™ç§å£°æ˜ç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°çš„æ–¹æ³•æ¥åŒ…è£¹æ¨¡å—ã€‚\n12345(function() &#123;  var main_message = 'è¿™æ˜¯ä¸€æ¡å†…å®¹ä¿¡æ¯' //main.js  var main_error = 'è¿™æ˜¯ä¸€æ¡é”™è¯¯ä¿¡æ¯' //main.js  console.log('error:', main_error)&#125;)()\nå› ä¸ºæ˜¯ä¸€ä¸ªåŒ¿åçš„å‡½æ•°ï¼Œæ‰§è¡Œå®Œåå¾ˆå¿«å°±ä¼šè¢«é‡Šæ”¾ï¼Œè¿™ç§æœºåˆ¶ä¸ä¼šæ±¡æŸ“å…¨å±€å¯¹è±¡ã€‚è™½ç„¶çœ‹èµ·æ¥æœ‰äº›éº»çƒ¦ï¼Œä½†å®ƒç¡®å®è§£å†³äº†æˆ‘ä»¬å°†å˜é‡åˆ†ç¦»å¼€æ¥çš„éœ€æ±‚ï¼Œä¸æ˜¯å—ï¼Ÿç„¶è€Œåœ¨ä»Šå¤©ï¼Œå‡ ä¹æ²¡æœ‰äººä¼šç”¨è¿™æ ·æ–¹å¼æ¥å®ç°æ¨¡å—åŒ–ç¼–ç¨‹ã€‚åæ¥åˆå‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ\nCommon.js\nâ€œWhat Iâ€™m describing here is not a technical problem. Itâ€™s a matter of people getting together and making a decision to step forward and start building up something bigger and cooler together.â€\n\n\nCommonJS is a project with the goal to establish conventions on module ecosystem for JavaScript outside of the web browser. The primary reason of its creation was a major lack of commonly accepted form of JavaScript scripts module units which could be reusable in environments different from that provided by a conventional web browser e.g. web server or native desktop applications which run JavaScript scripts.\n\nä¸€å¥è¯è§£é‡Šï¼š\nCommon.js çš„ require å®é™…ä¸Šæ˜¯æŠŠå¼•ç”¨çš„ module æ‹·è´äº†ä¸€ä»½åˆ°å½“å‰ module ä¸­ã€‚\n123456789101112131415161718function require(/* ... */) &#123;  const module = &#123; exports: &#123;&#125; &#125;;  ((module, exports) =&gt; &#123;    // Module code here. In this example, define a function.    // æ¨¡å—ä»£ç åœ¨è¿™é‡Œï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°    function someFunc() &#123;&#125;    exports = someFunc;    // At this point, exports is no longer a shortcut to module.exports, and    // this module will still export an empty default object.    // å½“ä»£ç è¿è¡Œåˆ°è¿™é‡Œæ—¶ï¼Œexports ä¸å†æ˜¯ module.exports çš„å¼•ç”¨ï¼Œå¹¶ä¸”å½“å‰çš„    // module ä»æ—§ä¼šå¯¼å‡ºä¸€ä¸ªç©ºå¯¹è±¡(å°±åƒä¸Šé¢å£°æ˜çš„é»˜è®¤å¯¹è±¡é‚£æ ·)    module.exports = someFunc;    // At this point, the module will now export someFunc, instead of the    // default object.    // å½“ä»£ç è¿è¡Œåˆ°è¿™æ—¶ï¼Œå½“å‰ module ä¼šå¯¼å‡º someFunc è€Œä¸æ˜¯é»˜è®¤çš„å¯¹è±¡  &#125;)(module, module.exports);  return module.exports;&#125;\nç‰¹ç‚¹ç›®å‰å•ç‹¬çš„ Common.js æ˜¯ä¾èµ–äº node çš„æ‰§è¡Œç¯å¢ƒçš„ï¼Œä¹Ÿå°±æ„å‘³ç€ä¸èƒ½ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ Browserify æ¥è®©å…¶åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­æ‰§è¡Œï¼Œä½†æ˜¯ç”±äºå…¶æœ¬èº«å¯¹äºä¾èµ–çš„å¤åˆ¶æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå°±æ„å‘³ç€åœ¨æµè§ˆå™¨ä¸­å¯èƒ½ä¼šå¼•èµ·é˜»å¡ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ç§å¯ä»¥å¼‚æ­¥å¼•å…¥ä¾èµ–çš„æ¨¡å—åŒ–æ–¹æ¡ˆã€‚\nAMDRequireJS &amp; AMDï¼ˆAsynchronous Module Definitionï¼‰\n å¼•å…¥å…¶ä»–æ¨¡å—:   require()å®šä¹‰æ–°çš„æ¨¡å—:    define()\n12345678910111213141516171819202122232425262728// ç®€å•çš„å¯¹è±¡å®šä¹‰define(&#123;    color: \"black\",    size: \"unisize\"&#125;);// å½“ä½ éœ€è¦ä¸€äº›é€»è¾‘æ¥åšå‡†å¤‡å·¥ä½œæ—¶å¯ä»¥è¿™æ ·å®šä¹‰ï¼šdefine(function () &#123;    //è¿™é‡Œå¯ä»¥åšä¸€äº›å‡†å¤‡å·¥ä½œ    return &#123;        color: \"black\",        size: \"unisize\"    &#125;&#125;);// ä¾èµ–äºæŸäº›æ¨¡å—æ¥å®šä¹‰å±äºä½ è‡ªå·±çš„æ¨¡å—define([\"./cart\", \"./inventory\"], function(cart, inventory) &#123;        //é€šè¿‡è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥å®šä¹‰ä½ è‡ªå·±çš„æ¨¡å—        return &#123;            color: \"blue\",            size: \"large\",            addToCart: function() &#123;                inventory.decrement(this);                cart.add(this);            &#125;        &#125;    &#125;);\nç‰¹ç‚¹\nä»¥å‡½æ•°çš„å½¢å¼è¿”å›æ¨¡å—çš„å€¼ï¼Œå°¤å…¶æ˜¯æ„é€ å‡½æ•°ï¼Œå¯ä»¥æ›´å¥½çš„å®ç°API è®¾è®¡ï¼ŒNode ä¸­é€šè¿‡ module.exports æ¥æ”¯æŒè¿™ä¸ªï¼Œä½†ä½¿ç”¨ â€œreturn function (){}â€ ä¼šæ›´æ¸…æ™°ã€‚è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬ä¸å¿…é€šè¿‡å¤„ç† â€œmoduleâ€ æ¥å®ç° â€œmodule.exportsâ€ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ›´æ¸…æ™°çš„ä»£ç è¡¨è¾¾å¼ã€‚\nåŠ¨æ€ä»£ç åŠ è½½ï¼ˆåœ¨AMDç³»ç»Ÿä¸­é€šè¿‡requireï¼ˆ[]ï¼Œfunctionï¼ˆï¼‰{}ï¼‰æ¥å®Œæˆï¼‰æ˜¯ä¸€é¡¹åŸºæœ¬è¦æ±‚ã€‚CJSè°ˆåˆ°äº†ï¼Œ æœ‰ä¸€äº›å»ºè®®ï¼Œä½†æ²¡æœ‰å®Œå…¨å›Šæ‹¬å®ƒã€‚Node ä¸æ”¯æŒè¿™ç§éœ€æ±‚ï¼Œè€Œæ˜¯ä¾èµ–äºrequireï¼ˆâ€™â€™ï¼‰çš„åŒæ­¥è¡Œä¸ºï¼Œè¿™å¯¹äº Web ç¯å¢ƒæ¥è¯´æ˜¯ä¸æ–¹ä¾¿çš„ã€‚\nLoader æ’ä»¶éå¸¸æœ‰ç”¨ï¼Œåœ¨åŸºäºå›è°ƒçš„ç¼–ç¨‹ä¸­ï¼Œè¿™æœ‰åŠ©äºé¿å…ä½¿ç”¨å¸¸è§çš„åµŒå¥—å¤§æ‹¬å·ç¼©è¿›ã€‚\né€‰æ‹©æ€§åœ°å°†ä¸€ä¸ªæ¨¡å—æ˜ å°„åˆ°ä»å¦ä¸€ä¸ªä½ç½®åŠ è½½ï¼Œå¾ˆæ–¹ä¾¿çš„åœ°æä¾›äº†ç”¨äºæµ‹è¯•çš„æ¨¡æ‹Ÿå¯¹è±¡ã€‚\næ¯ä¸ªæ¨¡å—æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ª IO æ“ä½œï¼Œè€Œä¸”åº”è¯¥æ˜¯ç®€æ´çš„ã€‚Web æµè§ˆå™¨ä¸èƒ½å®¹å¿ä»å¤šä¸ª IO ä¸­æ¥æŸ¥æ‰¾æ¨¡å—ã€‚è¿™ä¸ç°åœ¨ Node ä¸­çš„å¤šè·¯å¾„æŸ¥æ‰¾ç›¸å¯¹ï¼Œå¹¶ä¸”é¿å…ä½¿ç”¨ package.json çš„ â€œmainâ€ å±æ€§ã€‚è€Œåªä½¿ç”¨æ¨¡å—åç§°ï¼ŒåŸºäºé¡¹ç›®ä½ç½®æ¥ç®€å•çš„æ˜ å°„åˆ°ä¸€ä¸ªä½ç½®çš„æ¨¡å—åç§°ï¼Œä¸éœ€è¦è¯¦ç»†é…ç½®çš„åˆç†é»˜è®¤è§„åˆ™ï¼Œä½†å…è®¸åœ¨å¿…è¦æ—¶è¿›è¡Œç®€å•é…ç½®ã€‚\næœ€å¥½çš„æ˜¯ï¼Œå¦‚æœæœ‰ä¸€ä¸ª â€œopt-inâ€ å¯ä»¥ç”¨æ¥è°ƒç”¨ï¼Œä»¥ä¾¿æ—§çš„ JS ä»£ç å¯ä»¥åŠ å…¥åˆ°æ–°ç³»ç»Ÿã€‚\n\né€šè¿‡ä¸Šé¢çš„è¯­æ³•è¯´æ˜ï¼Œæˆ‘ä»¬ä¼šå‘ç°ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„é—®é¢˜ï¼Œåœ¨ä½¿ç”¨ RequireJS å£°æ˜ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œå¿…é¡»æŒ‡å®šæ‰€æœ‰çš„ä¾èµ–é¡¹ ï¼Œè¿™äº›ä¾èµ–é¡¹ä¼šè¢«å½“åšå½¢å‚ä¼ åˆ° factory ä¸­ï¼Œå¯¹äºä¾èµ–çš„æ¨¡å—ä¼šæå‰æ‰§è¡Œï¼ˆåœ¨ RequireJS 2.0 ä¹Ÿå¯ä»¥é€‰æ‹©å»¶è¿Ÿæ‰§è¡Œï¼‰ï¼Œè¿™è¢«ç§°ä¸ºï¼šä¾èµ–å‰ç½®ã€‚è¿™ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢ï¼ŸåŠ å¤§äº†å¼€å‘è¿‡ç¨‹ä¸­çš„éš¾åº¦ï¼Œæ— è®ºæ˜¯é˜…è¯»ä¹‹å‰çš„ä»£ç è¿˜æ˜¯ç¼–å†™æ–°çš„å†…å®¹ï¼Œä¹Ÿä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼šå¼•å…¥çš„å¦ä¸€ä¸ªæ¨¡å—ä¸­çš„å†…å®¹æ˜¯æ¡ä»¶æ€§æ‰§è¡Œçš„ã€‚\nCMD12345678910111213141516171819202122232425262728// AMD çš„ä¸€ä¸ªä¾‹å­ï¼Œå½“ç„¶è¿™æ˜¯ä¸€ç§æç«¯çš„æƒ…å†µdefine([\"header\", \"main\", \"footer\"], function(header, main, footer) &#123;     if (xxx) &#123;      header.setHeader('new-title')    &#125;    if (xxx) &#123;      main.setMain('new-content')    &#125;    if (xxx) &#123;      footer.setFooter('new-footer')    &#125;&#125;); // ä¸ä¹‹å¯¹åº”çš„ CMD çš„å†™æ³•define(function(require, exports, module) &#123;    if (xxx) &#123;      var header = require('./header')      header.setHeader('new-title')    &#125;    if (xxx) &#123;      var main = require('./main')      main.setMain('new-content')    &#125;    if (xxx) &#123;      var footer = require('./footer')      footer.setFooter('new-footer')    &#125;&#125;);\næˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ï¼ŒCMD è§„èŒƒä¸­ï¼Œåªæœ‰å½“æˆ‘ä»¬ç”¨åˆ°äº†æŸä¸ªå¤–éƒ¨æ¨¡å—çš„æ—¶å€™ï¼Œå®ƒæ‰ä¼šå»å¼•å…¥ï¼Œè¿™å›ç­”äº†æˆ‘ä»¬ä¸Šä¸€å°èŠ‚ä¸­é—ç•™çš„é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯å®ƒä¸ AMD è§„èŒƒæœ€å¤§çš„ä¸åŒç‚¹ï¼šCMDæ¨å´‡ä¾èµ–å°±è¿‘ + å»¶è¿Ÿæ‰§è¡Œ\næˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°ï¼ŒæŒ‰ç…§ CMD è§„èŒƒçš„ä¾èµ–å°±è¿‘çš„è§„åˆ™å®šä¹‰ä¸€ä¸ªæ¨¡å—ï¼Œä¼šå¯¼è‡´æ¨¡å—çš„åŠ è½½é€»è¾‘åé‡ï¼Œæœ‰æ—¶ä½ å¹¶ä¸çŸ¥é“å½“å‰æ¨¡å—å…·ä½“ä¾èµ–äº†å“ªäº›æ¨¡å—æˆ–è€…è¯´è¿™æ ·çš„ä¾èµ–å…³ç³»å¹¶ä¸ç›´è§‚ã€‚è€Œä¸”å¯¹äº AMD å’Œ CMD æ¥è¯´ï¼Œéƒ½åªæ˜¯é€‚ç”¨äºæµè§ˆå™¨ç«¯çš„è§„èŒƒï¼Œè€Œ Node.js module ä»…ä»…é€‚ç”¨äºæœåŠ¡ç«¯ï¼Œéƒ½æœ‰å„è‡ªçš„å±€é™æ€§ã€‚\nES6 Module\nâ€œThe goal for ECMAScript 6 modules was to create a format that both users of CommonJS and of AMD are happy withâ€\n\nES Module ä¼šå¯¹é™æ€ä»£ç åˆ†æï¼Œå³åœ¨ä»£ç ç¼–è¯‘æ—¶è¿›è¡Œæ¨¡å—çš„åŠ è½½ï¼Œåœ¨è¿è¡Œæ—¶ä¹‹å‰å°±å·²ç»ç¡®å®šäº†ä¾èµ–å…³ç³»ï¼ˆå¯è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼‰ï¼›ES Module å…³é”®å­—ï¼šimport export ä»¥åŠç‹¬æœ‰çš„ default å…³é”®å­—ï¼Œç¡®å®šé»˜è®¤çš„å¯¼å‡ºå€¼ï¼›ES Module ä¸­å¯¼å‡ºçš„å€¼æ˜¯ä¸€ä¸ª åªè¯»çš„å€¼çš„å¼•ç”¨ï¼Œæ— è®ºåŸºç¡€ç±»å‹å’Œå¤æ‚ç±»å‹ï¼Œè€Œåœ¨ CommonJS ä¸­ require çš„æ˜¯å€¼çš„æ‹·è´ï¼Œå…¶ä¸­å¤æ‚ç±»å‹æ˜¯å€¼çš„æµ…æ‹·è´ï¼›\n12345678910111213// export/index.jsconst a = \"123\";const fn = () =&gt; window.location.href;export &#123; fn &#125;;// show/index.jsconst ex = require(\"./export/index\");import x from \"./export/index\";import &#123; fn &#125; from \"./export/index\";console.log(ex, \"export1\"); // &#123;fn: Æ’, __esModule: true&#125; \"export1\"console.log(x, \"export-x\"); // undefined \"export-x\"console.log(fn, \"export-fn\"); // function() &#123; return window.location.href; &#125; \"export-x\"\n1234567891011121314// export/index1.jsconst a = \"123\";const fn = () =&gt; window.location.href;export default fn;// show/index1.jsconst ex1 = require(\"./export/index1\");import x from \"./export/index1\";console.log(ex1, \"export1\"); // &#123;default: Æ’, __esModule: true&#125; \"export1\"console.log(x, \"export2\"); // Æ’ fn() &#123;return window.location.href;&#125; \"export2\"\nReferenceæ·±å…¥äº†è§£â€œå‰ç«¯æ¨¡å—åŒ–â€å‘å±•ä½“ç³»Javascript æ¨¡å—åŒ–ç®¡ç†çš„æ¥ä¸–ä»Šç”Ÿ - æ˜é‡‘Javascript æ¨¡å—åŒ–æŒ‡åŒ— - æ˜é‡‘\n","plink":"https://xkeith.space/post/arc-20/"},{"title":"æ¯å¤©ï¼ˆä¸çŸ¥é“æœ‰å‡ ï¼‰é“å‰ç«¯é¢è¯•é¢˜ï¼ˆå››æœˆç¯‡ï¼‰","date":"2019-04-30T01:44:56.000Z","updated":"2019-04-30T02:44:07.379Z","content":"\né¢˜åº“ä¸»è¦æ¥è‡ªäºæœ¨æ˜“é˜³çš„ Github æ•´ç†å’Œä¸ªäººå¹³æ—¶é¢è¯•ç»éªŒã€‚é¢˜åº“æ”¶é›†åŸåˆ™ä¸Šä»…ä¾›ç¬”è€…ä¸ªäººå­¦ä¹ æ•´ç†æ‰€ç”¨ï¼Œä¸€åˆ‡ç‰ˆæƒéƒ½å½’ Reference åŠç›¸åº”å…¬å¸æ‰€æœ‰ã€‚\n\n2019/04/30\nç®€è¿°å¦‚ä½•è§£å†³ç§»åŠ¨ç«¯ç½‘é¡µçš„åƒç´ å•ä½é—®é¢˜ï¼Ÿ\n\n2019/04/29\na.b.c.d å’Œ a[â€˜bâ€™][â€˜câ€™][â€˜dâ€™]ï¼Œå“ªä¸ªæ€§èƒ½æ›´é«˜ï¼Ÿ\n\nç¬¬ 19 é¢˜ï¼šï¼ˆå¼€æ”¾é¢˜ï¼‰a.b.c.då’Œaâ€™bâ€™â€™câ€™â€™dâ€™ï¼Œå“ªä¸ªæ€§èƒ½æ›´é«˜ Â· Issue #19 Â· airuikun/Weekly-FE-Interview Â· GitHub\n\nMD5, MD5 + salt åŠ å¯†åŸç†å’Œå®ç°\n\nã€å¯†ç å­¦ã€‘è½»æ¾ç†è§£â€œåŠ ç›â€çš„åŸç†ä¸javaå®ç° - Davidçš„åšå®¢ - CSDNåšå®¢\n2019/04/28\nelement upload ç»„ä»¶è·¨åŸŸé—®é¢˜ï¼Ÿ\n\nvue el-uploadä¸Šä¼ æ§ä»¶ä¸€ç›´æŠ¥è·¨åŸŸé—®é¢˜ postè¯·æ±‚å˜æˆgetè¯·æ±‚ - m0_37735354çš„åšå®¢ - CSDNåšå®¢\n\nè§£é‡Šä¸€ä¸‹ call apply bind çš„åŒºåˆ«ï¼Œæ€§èƒ½å‘¢ï¼Ÿ\n\nã€Œå¹²è´§ã€ç»†è¯´ callã€apply ä»¥åŠ bind çš„åŒºåˆ«å’Œç”¨æ³• - æ˜é‡‘\n2019/04/27\nvue router çš„åŸç†ï¼Œå‰ç«¯è·¯ç”±å’Œåç«¯è·¯ç”±çš„åŒºåˆ«ï¼Ÿ\n\nVue.jsâ€”â€”vue-router 60åˆ†é’Ÿå¿«é€Ÿå…¥é—¨ - keepfool - åšå®¢å›­ä»¥vueä¸ºä¾‹è§£é‡Šï¼šå‰ç«¯è·¯ç”±ä¸åç«¯è·¯ç”± - Daioo éšç¬” - CSDNåšå®¢å‰ç«¯è·¯ç”±å’Œåç«¯è·¯ç”±çš„å¯¹æ¯”åŠä¼˜åŠ£ - liangcha007çš„ä¸“æ  - CSDNåšå®¢\n\næ±‚æ±‚ä½ å¿«æŠŠ BFC çœ‹å®Œå§ï¼\n\nå­¦ä¹  BFC (Block Formatting Context) - æ˜é‡‘notebook/README.md at master Â· zuopf769/notebook Â· GitHub\n2019/04/26\nè®¾è®¡å®ç°æ— ç¼è½®æ’­ç»„ä»¶\n\nç¬¬ 63 é¢˜ï¼šå¦‚ä½•è®¾è®¡å®ç°æ— ç¼è½®æ’­ Â· Issue #108 Â· Advanced-Frontend/Daily-Interview-Question Â· GitHub\n\nbase64 åŠ å¯†è§£å¯†çš„åŸç†ï¼Ÿ\n\nå»–é›ªå³°\nã€å¯†ç å­¦ã€‘è½»æ¾ç†è§£â€œåŠ ç›â€çš„åŸç†ä¸javaå®ç° - Davidçš„åšå®¢ - CSDNåšå®¢\n2019/04/25\nå‘å¸ƒè®¢é˜…å’Œè§‚å¯Ÿè€…æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ\n\nè§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼çš„åŒºåˆ« - ç®€ä¹¦\n2019/04/24æ–°æµªå¾®åšè§†é¢‘æŠ€æœ¯å›¢é˜Ÿé¢è¯•é¢˜\n\nHTTP 1.0 / HTTP 1.1 / HTTP 2.0 çš„ä¸»è¦å‡ ä¸ªåŒºåˆ«ï¼Ÿ\n\nHTTP1.0æœ€æ—©åœ¨ç½‘é¡µä¸­ä½¿ç”¨æ˜¯åœ¨1996å¹´ï¼Œé‚£ä¸ªæ—¶å€™åªæ˜¯ä½¿ç”¨ä¸€äº›è¾ƒä¸ºç®€å•çš„ç½‘é¡µä¸Šå’Œç½‘ç»œè¯·æ±‚ä¸Šï¼Œè€ŒHTTP1.1åˆ™åœ¨1999å¹´æ‰å¼€å§‹å¹¿æ³›åº”ç”¨äºç°åœ¨çš„å„å¤§æµè§ˆå™¨ç½‘ç»œè¯·æ±‚ä¸­ï¼ŒåŒæ—¶HTTP1.1ä¹Ÿæ˜¯å½“å‰ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„HTTPåè®®ã€‚ ä¸»è¦åŒºåˆ«ä¸»è¦ä½“ç°åœ¨ï¼š1. ç¼“å­˜å¤„ç†ï¼Œåœ¨HTTP1.0ä¸­ä¸»è¦ä½¿ç”¨headeré‡Œçš„If-Modified-Since,Expiresæ¥åšä¸ºç¼“å­˜åˆ¤æ–­çš„æ ‡å‡†ï¼ŒHTTP1.1åˆ™å¼•å…¥äº†æ›´å¤šçš„ç¼“å­˜æ§åˆ¶ç­–ç•¥ä¾‹å¦‚Entity tagï¼ŒIf-Unmodified-Since, If-Match, If-None-Matchç­‰æ›´å¤šå¯ä¾›é€‰æ‹©çš„ç¼“å­˜å¤´æ¥æ§åˆ¶ç¼“å­˜ç­–ç•¥ã€‚\n2. å¸¦å®½ä¼˜åŒ–åŠç½‘ç»œè¿æ¥çš„ä½¿ç”¨ï¼ŒHTTP1.0ä¸­ï¼Œå­˜åœ¨ä¸€äº›æµªè´¹å¸¦å®½çš„ç°è±¡ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯åªæ˜¯éœ€è¦æŸä¸ªå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œè€ŒæœåŠ¡å™¨å´å°†æ•´ä¸ªå¯¹è±¡é€è¿‡æ¥äº†ï¼Œå¹¶ä¸”ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼ŒHTTP1.1åˆ™åœ¨è¯·æ±‚å¤´å¼•å…¥äº†rangeå¤´åŸŸï¼Œå®ƒå…è®¸åªè¯·æ±‚èµ„æºçš„æŸä¸ªéƒ¨åˆ†ï¼Œå³è¿”å›ç æ˜¯206ï¼ˆPartial Contentï¼‰ï¼Œè¿™æ ·å°±æ–¹ä¾¿äº†å¼€å‘è€…è‡ªç”±çš„é€‰æ‹©ä»¥ä¾¿äºå……åˆ†åˆ©ç”¨å¸¦å®½å’Œè¿æ¥ã€‚\n3. é”™è¯¯é€šçŸ¥çš„ç®¡ç†ï¼Œåœ¨HTTP1.1ä¸­æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç ï¼Œå¦‚409ï¼ˆConflictï¼‰è¡¨ç¤ºè¯·æ±‚çš„èµ„æºä¸èµ„æºçš„å½“å‰çŠ¶æ€å‘ç”Ÿå†²çªï¼›410ï¼ˆGoneï¼‰è¡¨ç¤ºæœåŠ¡å™¨ä¸Šçš„æŸä¸ªèµ„æºè¢«æ°¸ä¹…æ€§çš„åˆ é™¤ã€‚\n4. Hostå¤´å¤„ç†ï¼Œåœ¨HTTP1.0ä¸­è®¤ä¸ºæ¯å°æœåŠ¡å™¨éƒ½ç»‘å®šä¸€ä¸ªå”¯ä¸€çš„IPåœ°å€ï¼Œå› æ­¤ï¼Œè¯·æ±‚æ¶ˆæ¯ä¸­çš„URLå¹¶æ²¡æœ‰ä¼ é€’ä¸»æœºåï¼ˆhostnameï¼‰ã€‚ä½†éšç€è™šæ‹Ÿä¸»æœºæŠ€æœ¯çš„å‘å±•ï¼Œåœ¨ä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Šå¯ä»¥å­˜åœ¨å¤šä¸ªè™šæ‹Ÿä¸»æœºï¼ˆMulti-homed Web Serversï¼‰ï¼Œå¹¶ä¸”å®ƒä»¬å…±äº«ä¸€ä¸ªIPåœ°å€ã€‚HTTP1.1çš„è¯·æ±‚æ¶ˆæ¯å’Œå“åº”æ¶ˆæ¯éƒ½åº”æ”¯æŒHostå¤´åŸŸï¼Œä¸”è¯·æ±‚æ¶ˆæ¯ä¸­å¦‚æœæ²¡æœ‰Hostå¤´åŸŸä¼šæŠ¥å‘Šä¸€ä¸ªé”™è¯¯ï¼ˆ400 Bad Requestï¼‰ã€‚\n5. é•¿è¿æ¥ï¼ŒHTTP 1.1æ”¯æŒé•¿è¿æ¥ï¼ˆPersistentConnectionï¼‰å’Œè¯·æ±‚çš„æµæ°´çº¿ï¼ˆPipeliningï¼‰å¤„ç†ï¼Œåœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šå¯ä»¥ä¼ é€å¤šä¸ªHTTPè¯·æ±‚å’Œå“åº”ï¼Œå‡å°‘äº†å»ºç«‹å’Œå…³é—­è¿æ¥çš„æ¶ˆè€—å’Œå»¶è¿Ÿï¼Œåœ¨HTTP1.1ä¸­é»˜è®¤å¼€å¯Connectionï¼š keep-aliveï¼Œä¸€å®šç¨‹åº¦ä¸Šå¼¥è¡¥äº†HTTP1.0æ¯æ¬¡è¯·æ±‚éƒ½è¦åˆ›å»ºè¿æ¥çš„ç¼ºç‚¹ã€‚\nHTTP2.0å’ŒHTTP1.Xç›¸æ¯”çš„æ–°ç‰¹æ€§\n\næ–°çš„äºŒè¿›åˆ¶æ ¼å¼ï¼ˆBinary Formatï¼‰ï¼ŒHTTP1.xçš„è§£ææ˜¯åŸºäºæ–‡æœ¬ã€‚åŸºäºæ–‡æœ¬åè®®çš„æ ¼å¼è§£æå­˜åœ¨å¤©ç„¶ç¼ºé™·ï¼Œæ–‡æœ¬çš„è¡¨ç°å½¢å¼æœ‰å¤šæ ·æ€§ï¼Œè¦åšåˆ°å¥å£®æ€§è€ƒè™‘çš„åœºæ™¯å¿…ç„¶å¾ˆå¤šï¼ŒäºŒè¿›åˆ¶åˆ™ä¸åŒï¼Œåªè®¤0å’Œ1çš„ç»„åˆã€‚åŸºäºè¿™ç§è€ƒè™‘HTTP2.0çš„åè®®è§£æå†³å®šé‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ï¼Œå®ç°æ–¹ä¾¿ä¸”å¥å£®ã€‚\n\nå¤šè·¯å¤ç”¨ï¼ˆMultiPlexingï¼‰ï¼Œå³è¿æ¥å…±äº«ï¼Œå³æ¯ä¸€ä¸ªrequestéƒ½æ˜¯æ˜¯ç”¨ä½œè¿æ¥å…±äº«æœºåˆ¶çš„ã€‚ä¸€ä¸ªrequestå¯¹åº”ä¸€ä¸ªidï¼Œè¿™æ ·ä¸€ä¸ªè¿æ¥ä¸Šå¯ä»¥æœ‰å¤šä¸ªrequestï¼Œæ¯ä¸ªè¿æ¥çš„requestå¯ä»¥éšæœºçš„æ··æ‚åœ¨ä¸€èµ·ï¼Œæ¥æ”¶æ–¹å¯ä»¥æ ¹æ®requestçš„ idå°†requestå†å½’å±åˆ°å„è‡ªä¸åŒçš„æœåŠ¡ç«¯è¯·æ±‚é‡Œé¢ã€‚\n\nheaderå‹ç¼©ï¼Œå¦‚ä¸Šæ–‡ä¸­æ‰€è¨€ï¼Œå¯¹å‰é¢æåˆ°è¿‡HTTP1.xçš„headerå¸¦æœ‰å¤§é‡ä¿¡æ¯ï¼Œè€Œä¸”æ¯æ¬¡éƒ½è¦é‡å¤å‘é€ï¼ŒHTTP2.0ä½¿ç”¨encoderæ¥å‡å°‘éœ€è¦ä¼ è¾“çš„headerå¤§å°ï¼Œé€šè®¯åŒæ–¹å„è‡ªcacheä¸€ä»½header fieldsè¡¨ï¼Œæ—¢é¿å…äº†é‡å¤headerçš„ä¼ è¾“ï¼Œåˆå‡å°äº†éœ€è¦ä¼ è¾“çš„å¤§å°ã€‚\n\næœåŠ¡ç«¯æ¨é€ï¼ˆserver pushï¼‰ï¼ŒåŒSPDYä¸€æ ·ï¼ŒHTTP2.0ä¹Ÿå…·æœ‰server pushåŠŸèƒ½ã€‚\n\n\n\nè¡Œå†…å…ƒç´ çš„paddingå’Œmarginæ˜¯å¦æ— æ•ˆï¼Ÿ\n\n\nWhile padding can be applied to all sides of an inline element, only left and right padding will have an effect on surrounding content. In the example below, 50px of padding has been applied to all sides of theelement. As you can see, it has an affect on the content on each side, but not on content above or below\n\n\nå‚ç›´å±…ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œæ³¨æ„åˆ†è¡Œå†…å…ƒç´ å’Œå—çº§å…ƒç´ ä¸¤ç§æƒ…å†µè®¨è®ºã€‚\nGit æ“ä½œæŸ¥çœ‹å¹¶å¤„ç†å†²çªçš„å‘½ä»¤ï¼Ÿ\nå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯æ•°ç»„è€Œä¸æ˜¯å¯¹è±¡ï¼Ÿ\n\nè¡Œå†…å…ƒç´ çš„paddingå’Œmarginæ˜¯å¦æ— æ•ˆ - ç®€ä¹¦HTTP1.0ã€HTTP1.1 å’Œ HTTP2.0 çš„åŒºåˆ« - _æµªæ½®ä¹‹å·….â˜† - åšå®¢å›­HTTP1.0 HTTP 1.1 HTTP 2.0ä¸»è¦åŒºåˆ« - ç®€ä¹¦\n2019/04/23é˜¿é‡Œå·´å·´ 2019 æ˜¥å­£å®ä¹ ç”Ÿæ‹›è˜é¢è¯•é¢˜\n\nvirtual DOM ä¸ä¼ ç»Ÿ DOM æ“ä½œç›¸æ¯”çš„ä¼˜ç‚¹\nHTTPS æ¡æ‰‹å’ŒåŠ å¯†è¿‡ç¨‹\nå›æµæ˜¯å¦ä¼šå‘ç”Ÿåœ¨ JavaScript ä¸»çº¿ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ã€‚(å¼ºåˆ¶é˜Ÿåˆ—åˆ·æ–°ï¼‰\n\næ·±åº¦ç†è§£ Virtual DOM - å´ä½°æ¸… - åšå®¢å›­ã€å¼€å‘å¿…çœ‹ã€‘ä½ çœŸçš„äº†è§£å›æµå’Œé‡ç»˜å—ï¼Ÿ - è…¾è®¯äº‘+ç¤¾åŒº - åšå®¢å›­\n\nSSL è¯ä¹¦æ˜¯è‡ªç­¾å‘æˆ–è€…æ˜¯ä¸å—ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹ç­¾å‘çš„æœ‰ä»€ä¹ˆåæœï¼Ÿ\n\nç”¨äºéå¯¹ç§°åŠ å¯†çš„å…¬é’¥æ— æ³•éªŒè¯å…¶å®é™…æ¥æºï¼Œå¯èƒ½è¢«ä¸­é—´äººæ›¿æ¢ä¸ºè‡ªå·±çš„å¯†é’¥ï¼Œè¿™æ ·ä¸€æ¥å®¢æˆ·ç«¯å¯¹å¯†é’¥çš„åŠ å¯†å°±ä¼šè¢«ä¸­é—´äººç”¨è‡ªå·±çš„ç§é’¥è§£å¼€ï¼Œä»è€Œè·å–åˆ°å¯†é’¥ã€‚\n\nHTTPS éå¯¹ç§°åŠ å¯†è¿‡ç¨‹ï¼Ÿ\n\n\næœåŠ¡å™¨æŠŠè‡ªå·±çš„å…¬é’¥ç™»å½•è‡³æ•°å­—è¯ä¹¦è®¤è¯æœºæ„\næ•°å­—è¯ä¹¦è®¤è¯æœºæ„ç”¨è‡ªå·±çš„ç§é’¥å‘æœåŠ¡å™¨çš„å…¬å¼€å¯†ç ç½²æ•°å­—ç­¾åå¹¶é¢å‘å…¬é’¥è¯ä¹¦\nå®¢æˆ·ç«¯æ‹¿åˆ°æœåŠ¡å™¨çš„å…¬é’¥å’Œè¯ä¹¦ï¼Œä½¿ç”¨æ•°å­—è®¤è¯è¯ä¹¦æœºæ„çš„å…¬é’¥éªŒè¯æ•°å­—ç­¾åæ˜¯å¦çœŸå®\nä½¿ç”¨è®¤è¯æˆåŠŸçš„å…¬é’¥å¯¹æŠ¥æ–‡åŠ å¯†åå‘é€\næœåŠ¡å™¨ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†\n\n2019/04/22\nç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œå†™ä¸€ä¸ªæ–¹æ³•æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚ä¾‹å¦‚ï¼šç»™å®š nums1 = [1, 2, 2, 1]ï¼Œnums2 = [2, 2]ï¼Œè¿”å› [2, 2]ã€‚\n\n1234567891011121314151617181920212223242526272829// hash è¡¨ï¼Œæ€è·¯ç±»ä¼¼å¯»æ‰¾æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ function inter (nums1, nums2) &#123;    const map = &#123;&#125;;    const res = [];    for (let n of nums1) &#123;        map[n] ? map[n]++ : map[n] = 1;    &#125;    for (let n of nums2) &#123;        if (map[n] &gt; 0) &#123;            res.push(n);            map[n]--;        &#125;    &#125;    return res;&#125;console.log(inter([1,2,2,1], [1,2]));// æ“ä½œåŸæ•°ç»„æ–¹æ³•ï¼Œé¿å…äº†ç›¸åŒå…ƒç´ çš„é‡å¤function union (nums1, nums2) &#123;    return nums1.filter(item =&gt; &#123;        let idx = nums2.indexOf(item);        if (idx !== -1) &#123;            nums2.splice(idx, 1);            return item;        &#125;    &#125;)&#125;console.log(union([1, 2, 2, 1], [2,2]));\n2019/04/21\ngit merge å’Œ git rebase çš„åŒºåˆ«ï¼Ÿ\n\ngit rebase vs git mergeè¯¦è§£ - ä¸–æœ‰å› æœçŸ¥å› æ±‚æœ - åšå®¢å›­\nå»–é›ªå³°\n2019/04/20\nè¿›ç¨‹ï¼Œçº¿ç¨‹ï¼Œåç¨‹çš„åŒºåˆ«ï¼Ÿ\n\n\nå¯¹æ“ä½œç³»ç»Ÿè€Œè¨€ï¼Œçº¿ç¨‹æ˜¯æœ€å°çš„æ‰§è¡Œå•å…ƒï¼Œè¿›ç¨‹æ˜¯æœ€å°çš„èµ„æºç®¡ç†å•å…ƒã€‚\n\nåç¨‹ä¸æ˜¯è¢«æ“ä½œç³»ç»Ÿå†…æ ¸æ‰€ç®¡ç†ï¼Œè€Œæ˜¯å®Œå…¨ç”±ç¨‹åºæ§åˆ¶ï¼Œåœ¨ç”¨æˆ·æ€æ‰§è¡Œã€‚é¿å…äº†ç±»ä¼¼çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„èµ„æºæ¶ˆè€—\n2019/04/19\nç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæ„é€ å‡½æ•°ï¼ˆfunctionï¼‰å¯ä»¥ä½¿ç”¨ new ç”Ÿæˆå®ä¾‹ï¼Œé‚£ä¹ˆç®­å¤´å‡½æ•°å¯ä»¥å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\n\nç®­å¤´å‡½æ•°æ˜¯æ™®é€šå‡½æ•°çš„ç®€å†™ï¼Œå¯ä»¥æ›´ä¼˜é›…çš„å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå’Œæ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹å·®å¼‚ï¼š1ã€å‡½æ•°ä½“å†…çš„ this å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚2ã€ä¸å¯ä»¥ä½¿ç”¨ arguments å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚3ã€ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚4ã€ä¸å¯ä»¥ä½¿ç”¨ new å‘½ä»¤ï¼Œå› ä¸ºï¼š\n\næ²¡æœ‰è‡ªå·±çš„ thisï¼Œæ— æ³•è°ƒç”¨ callï¼Œapplyã€‚ã€\næ²¡æœ‰ prototype å±æ€§ ï¼Œè€Œ new å‘½ä»¤åœ¨æ‰§è¡Œæ—¶éœ€è¦å°†æ„é€ å‡½æ•°çš„ prototype èµ‹å€¼ç»™æ–°çš„å¯¹è±¡çš„ proto\n\n12345678910111213141516function newFunc(father, ...rest) &#123; // æ–°å»ºä¸€ä¸ªå¯¹è±¡  var result = &#123;&#125;;// åŸå‹ç»‘å®šä¸ºæ„é€ å‡½æ•°çš„åŸå‹  result.__proto__ = father.prototype;// ç»‘å®š this å’Œå‚æ•°  var result2 = father.apply(result, rest);// æ ¹æ®è¿”å›å€¼è¿”å›ç»“æœ  if (    (typeof result2 === 'object' || typeof result2 === 'function') &amp;&amp;    result2 !== null  ) &#123;    return result2;  &#125;  return result;&#125;\n2019/04/18å¸¸è§å…­å¤§ Web å®‰å…¨æ”»é˜²è§£æcherry-blog\n2019/04/17\nè¦æ±‚è®¾è®¡ LazyMan ç±»ï¼Œå®ç°ä»¥ä¸‹åŠŸèƒ½ã€‚\n\n123456789101112131415161718192021LazyMan('Tony');// Hi I am TonyLazyMan('Tony').sleep(10).eat('lunch');// Hi I am Tony// ç­‰å¾…äº†10ç§’...// I am eating lunchLazyMan('Tony').eat('lunch').sleep(10).eat('dinner');// Hi I am Tony// I am eating lunch// ç­‰å¾…äº†10ç§’...// I am eating dinerLazyMan('Tony').eat('lunch').eat('dinner').sleepFirst(5).sleep(10).eat('junk food');// Hi I am Tony// ç­‰å¾…äº†5ç§’...// I am eating lunch// I am eating dinner// ç­‰å¾…äº†10ç§’...// I am eating junk food\nSolution:javascript-snippets/lazyMan.js at master Â· XXXMrG/javascript-snippets Â· GitHub\n\nvisibility: hidden å’Œ display: none çš„åŒºåˆ«\n\nvisibility: hidden\nDOM æ ‘ä¸­ä¼šæ¸²æŸ“ï¼Œåªæ˜¯ä¸æ˜¾ç¤ºï¼Œæ§ä»¶ä¾ç„¶å æ®ç€ç©ºé—´ï¼Œå› æ­¤åœ¨é‡æ–°æ˜¾ç¤ºçš„æ—¶å€™ä¸ä¼šè§¦å‘å›æµï¼Œåªä¼šè§¦å‘é‡ç»˜ã€‚\ndisplay: none\nDOM æ ‘ä¸­éƒ½ä¸ä¼šæ¸²æŸ“ï¼Œå› æ­¤æ˜¯å®Œå…¨ä»é¡µé¢ä¸­æ¶ˆå¤±ï¼Œæ‰€ä»¥é‡æ–°æ˜¾ç¤ºçš„æ—¶å€™ä¼šè§¦å‘å›æµï¼Œåå¤è§¦å‘ä¼šå½±å“æ€§èƒ½ã€‚\nopacity: 0\nè®¾ç½®å…ƒç´ çš„ä¸é€æ˜åº¦ä¸º 0 ï¼Œæ§ä»¶ä¾æ—§å æ®ç©ºé—´ï¼Œå¸¸äº CSS 3 çš„ transition æ­é…ä½¿ç”¨ã€‚\nv-show\nè‚¯å®šä¼šç¼–è¯‘ï¼Œå¹¶ä¸”æ˜¯é€šè¿‡æ§åˆ¶ css æ¥æ§åˆ¶æ˜¾éšï¼Œé€‚åˆå¤šæ¬¡æ“ä½œçš„æƒ…å†µï¼Œæ€§èƒ½ä¼šå¥½ä¸€ç‚¹ã€‚\nv-if\nåˆå§‹å€¼æ˜¯ false å°±ä¸ç¼–è¯‘ï¼Œæ˜¯é€šè¿‡æ“ä½œ DOM æ¥æ§åˆ¶æ˜¾éšï¼Œæ¯æ¬¡éƒ½ä¼šé”€æ¯/é‡å»ºï¼Œæ€§èƒ½è¾ƒå·®ã€‚\n2019/04/16\næŸå…¬å¸ 1 åˆ° 12 æœˆä»½çš„é”€å”®é¢å­˜åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œé¢ï¼Œå¦‚ä¸‹ï¼š{1:222, 2:123, 5:888}ï¼Œè¯·æŠŠæ•°æ®å¤„ç†ä¸ºå¦‚ä¸‹ç»“æ„ï¼š[222, 123, null, null, 888, null, null, null, null, null, null, null]ã€‚\n\næ ¸å¿ƒæ€è·¯å°±æ˜¯å°†å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ï¼Œç„¶ååœ¨ç©ºçš„åœ°æ–¹å¡«å…… null ã€‚æˆ–è€…æ˜¯æ–°å»ºä¸€ä¸ªé•¿åº¦ä¸º 12 çš„æ•°ç»„ï¼Œæ ¹æ®åŸå¯¹è±¡ index å¡«å…… value æˆ–è€… nullã€‚\n1234567891011121314151617181920let obj = &#123;1:222, 2:123, 5:888&#125;obj.length = 12;// slice å¯ä»¥å°†ä¸€ä¸ªç±»æ•°ç»„è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œè¿˜å¯ä»¥é‡‡ç”¨ bind() å®ç°let _obj = [].slice.call(obj);console.log(_obj);a = [1,2,3];console.time();let data = &#123; 1: 222, 2: 123, 5: 888 &#125;;let arr = Array.from(&#123; length: 12 &#125;).map((_, i) =&gt; data[i + 1] || null);console.log(arr);console.timeEnd();console.time();let obj = &#123; 1: 222, 2: 123, 5: 888 &#125;;let res = Array.from(&#123; length: 12 &#125;).fill(null);Object.keys(obj).forEach(it =&gt; (res[it - 1] = obj[it]));console.log(res);console.timeEnd();\nArray.prototype.slice() - JavaScript | MDN\n\nJavaScript ä¸­çš„ä¸ƒä¸ªå…¨å±€å‡½æ•°\n\n\n2019/04/15\nå†’æ³¡æ’åºå¦‚ä½•å®ç°ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Œ è¿˜å¯ä»¥å¦‚ä½•æ”¹è¿›ï¼Ÿ\n\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778/*** å†’æ³¡æ’åºåŠä¼˜åŒ–æ–¹æ¡ˆ*/// ç”Ÿæˆä» l åˆ° r çš„æ•°é‡ä¸º n çš„éšæœºæ•°ç»„function randomArr(n, l ,r) &#123;    let arr = [];    for (let i = 0; i &lt; n; i++) &#123;        let _random = Math.round(l + Math.random() * (r - l));        arr.push(_random);    &#125;    return arr;&#125;function bubbleSort(arr) &#123;    let len = arr.length;    let sorted = true;    for (let i = len; i &gt;= 2; i--) &#123;        for (let j = 0; j &lt; i - 1; j++) &#123;            if (arr[j] &gt; arr[j + 1]) &#123;                [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];                sorted = false;            &#125;        &#125;        if (sorted) break;    &#125;    return arr;&#125;// æ”¹è¿›å†’æ³¡æ’åºfunction bubbleSort1(arr) &#123;    let i = arr.length - 1;    // ä½¿ç”¨ i æ¥æ ‡è®°å·²ç»æœ‰åºçš„å­æ•°ç»„ï¼Œå¯ä»¥é¿å…æ— æ„ä¹‰çš„å¾ªç¯    while (i &gt; 0) &#123;        let pos = 0;        for (let j = 0; j &lt; i; j++) &#123;            if (arr[j] &gt; arr[j + 1]) &#123;                pos = j;                const temp = arr[j];                arr[j] = arr[j + 1];                arr[j + 1] = temp;            &#125;        &#125;        i = pos;    &#125;    console.log(arr);&#125;function bubbleSort2(arr) &#123;    let low = 0;    let high = arr.length - 1;    let temp, j;    // äºŒåˆ†å†’æ³¡    while (low &lt; high) &#123;        // æ­£æ’æ‰¾æœ€å¤§        for (j = low; j &lt; high; ++j) &#123;            if (arr[j] &gt; arr[j + 1]) &#123;                temp = arr[j];                arr[j] = arr[j + 1];                arr[j + 1] = temp;            &#125;        &#125;        --high;        // åæ’æ‰¾æœ€å°        for (j = high; j &gt; low; --j) &#123;            if (arr[j] &lt; arr[j - 1]) &#123;                temp = arr[j];                arr[j] = arr[j - 1];                arr[j - 1] = temp;            &#125;        &#125;        ++low;    &#125;    console.log(arr);&#125;bubbleSort2(randomArr(10, 0, 100));\n\n2019/04/14\nä»‹ç»ä¸€ä¸‹ CSS çš„ç›’æ¨¡å‹å§\n\n\ninline å’Œ inline-block æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\n\n\nrelativeã€fixedã€absolute å’Œ static å››ç§å®šä½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\n\n2019/04/13\nä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹\n\nå‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä»–ä½¿ç”¨çº¯å‡½æ•°æ¥æ„å»ºå£°æ˜æ–¹å¼ä»¥é¿å…çŠ¶æ€çš„å…±äº«ã€æ•°æ®çš„æ˜“å˜åŠä¸€äº›å‰¯ä½œç”¨ã€‚å‡½æ•°å¼ç¼–ç¨‹çš„æ ¸å¿ƒæ˜¯ï¼šåŒä¸€ä¸ªå‡½æ•°ä¸­åªè¦è¾“å…¥ç›¸åŒï¼Œå…¶è¿”å›å€¼å°±å¿…ç„¶ç›¸ç­‰ï¼Œä¸”ä¸ä¼šäº§ç”Ÿä»»ä½•å‰¯ä½œç”¨ã€‚ å¤§å¤šæ•°ç¨‹åºå‘˜è®¤ä¸ºè¿™æ˜¯è½¯ä»¶å¼€å‘çš„æœ€ä½³æ–¹æ³•ï¼Œå› ä¸ºè¿™å¯ä»¥å‡å°‘ bug å¹¶å¢åŠ æ˜“è¯»æ€§ã€‚\n\nä¸ä½¿ç”¨å‘½ä»¤å¼æˆ–é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä»£ç ç›¸æ¯”ï¼Œå‡½æ•°å¼ç¼–ç¨‹çš„ä»£ç æ›´åŠ ç®€æ´ã€æ¸…æ™°ã€å¯é¢„æµ‹åŠæ˜“äºæµ‹è¯•ã€‚\nString.prototype.toUpperCaseã€Array.prototype.mapã€Function.prototype.bind éƒ½æ˜¯ JavaScript ä¸­çº¯å‡½æ•°çš„ä¾‹å­ï¼Œå…¶éçº¯å‡½æ•°çš„ä¾‹å­æœ‰ï¼šDate.nowã€Math.random ç­‰\nJavaScript æ˜¯å¤šèŒƒå¼ç¼–ç¨‹è¯­è¨€ï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹å¹¶å­˜ï¼‰\nå‡½æ•°å¼ç¼–ç¨‹çš„åº”ç”¨\né«˜é˜¶å‡½æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ä»¥å‡½æ•°ä¸ºå‚æ•°ï¼Œæˆ–ä»¥å‡½æ•°ä¸ºè¿”å›å€¼ï¼Œæˆ–è€…æ—¢ä»¥å‡½æ•°ä¸ºå‚æ•°åˆä»¥å‡½æ•°ä¸ºè¿”å›å€¼ã€‚\nåå‡½æ•°æ˜¯é€šè¿‡æŒ‡å®šéƒ¨åˆ†å‚æ•°æ¥äº§ç”Ÿä¸€ä¸ªæ–°å®šåˆ¶çš„å‡½æ•°ï¼Œå¦‚ï¼š\n\n123456const isType = function (type) &#123;      return function (obj) &#123;        return toString.call(obj) == '[object' + type + ']';      &#125;;&#125;; const isString = isType('string');\n\næŸ¯é‡ŒåŒ–æ˜¯å°†ä¸€ä¸ªå¤šå‚æ•°å‡½æ•°è½¬æ¢æˆå¤šä¸ªå•å‚æ•°å‡½æ•°ï¼Œå¦‚ï¼š\n\n1234567891011121314151617181920212223242526272829303132// æŸ¯é‡ŒåŒ– bind()const myBind = function(o /*, args */) &#123;    var self = this,        boundArgs = arguments;    return function() &#123;        let args = [],            i;        // ä¿å­˜ bind æ—¶çš„å‚æ•°åˆ—è¡¨, æŸ¯é‡ŒåŒ–å‚æ•°ç»‘å®š        for (i = 1; i &lt; boundArgs.length; i++) &#123;            args.push(boundArgs[i]);        &#125;       // ä¿å­˜è¿”å›å€¼è°ƒç”¨æ—¶çš„å‚æ•°åˆ—è¡¨        for (i = 0; i &lt; arguments.length; i++) &#123;            args.push(arguments[i]);        &#125;        // å°† self ä½œä¸º o çš„æ–¹æ³•æ¥è°ƒç”¨ï¼Œä¼ å…¥å®å‚        return self.apply(o, args);    &#125;;&#125;;function f() &#123;    let res = 0;    for(let i = 0; i &lt; arguments.length; i++)&#123;        res += arguments[i];    &#125;    return res + this.x;&#125;var o = &#123; x: 1 &#125;;f.myBind = myBind;var g = f.myBind(o,1,2,3)(4,5,6);console.log(g);//=&gt; 1+1+2+3+4+5+6\nä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ - é»‘å®¢æ´¾\n2019/04/12\nè¾“å‡ºä»¥ä¸‹ä»£ç çš„æ‰§è¡Œç»“æœå¹¶è§£é‡Šä¸ºä»€ä¹ˆ\n\n123456var a = &#123;n: 1&#125;;var b = a;a.x = a = &#123;n: 2&#125;;console.log(a.x) \t// =&gt; undefinedconsole.log(b.x)        // =&gt; &#123;n:2&#125;\n\nä¼˜å…ˆçº§ã€‚.çš„ä¼˜å…ˆçº§é«˜äº=ï¼Œæ‰€ä»¥å…ˆæ‰§è¡Œa.xï¼Œå †å†…å­˜ä¸­çš„{n: 1}å°±ä¼šå˜æˆ{n: 1, x: undefined}ï¼Œæ”¹å˜ä¹‹åç›¸åº”çš„b.xä¹Ÿå˜åŒ–äº†ï¼Œå› ä¸ºæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚\nèµ‹å€¼æ“ä½œæ˜¯ä»å³åˆ°å·¦ï¼Œæ‰€ä»¥å…ˆæ‰§è¡Œa = {n: 2}ï¼Œaçš„å¼•ç”¨å°±è¢«æ”¹å˜äº†ï¼Œç„¶åè¿™ä¸ªè¿”å›å€¼åˆèµ‹å€¼ç»™äº†a.xï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™æ—¶å€™a.xæ˜¯ç¬¬ä¸€æ­¥ä¸­çš„{n: 1, x: undefined}é‚£ä¸ªå¯¹è±¡ï¼Œå…¶å®å°±æ˜¯b.xï¼Œç›¸å½“äºb.x = {n: 2}\n\n2019/04/11\næ€ä¹ˆè®©ä¸€ä¸ª div æ°´å¹³å‚ç›´å±…ä¸­\n\nç¬¬ 52 é¢˜ï¼šæ€ä¹ˆè®©ä¸€ä¸ª div æ°´å¹³å‚ç›´å±…ä¸­ Â· Issue #92 Â· Advanced-Frontend/Daily-Interview-Question Â· GitHub\n\nè§£é‡Šä¸€ä¸‹åŸå‹é“¾å’Œé—­åŒ…\n\nåŸå‹å’ŒåŸå‹é“¾\nã€è¿›é˜¶5-1æœŸã€‘é‡æ–°è®¤è¯†æ„é€ å‡½æ•°ã€åŸå‹å’ŒåŸå‹é“¾ - æ˜é‡‘\né—­åŒ…å¦‚ä½•æ‹¿ä¸‹å‰ç«¯é¢è¯•ï¼ˆå‡½æ•°å’Œä¸Šä¸‹æ–‡é—­åŒ…ï¼‰ | æ—§æ¸¯\n2019/04/10\nVue çš„å“åº”å¼åŸç†ä¸­ Object.defineProperty æœ‰ä»€ä¹ˆç¼ºé™·ï¼Ÿä¸ºä»€ä¹ˆåœ¨ Vue3.0 é‡‡ç”¨äº† Proxyï¼ŒæŠ›å¼ƒäº† Object.definePropertyï¼Ÿ  \n\nObject.defineProperty  æ— æ³•ç›‘æ§åˆ°æ•°ç»„ä¸‹æ ‡çš„å˜åŒ–ï¼Œå¯¼è‡´ç›´æ¥é€šè¿‡æ•°ç»„çš„ä¸‹æ ‡ç»™æ•°ç»„è®¾ç½®å€¼ï¼Œä¸èƒ½å®æ—¶å“åº”ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç»è¿‡ vue å†…éƒ¨å¤„ç†åå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹æ³•æ¥ç›‘å¬æ•°ç»„ã€‚\n1234567push()pop()shift()unshift()splice()sort()reverse()\nç”±äºåªé’ˆå¯¹äº†ä»¥ä¸Šå…«ç§æ–¹æ³•è¿›è¡Œäº†hackå¤„ç†,æ‰€ä»¥å…¶ä»–æ•°ç»„çš„å±æ€§ä¹Ÿæ˜¯æ£€æµ‹ä¸åˆ°çš„ï¼Œè¿˜æ˜¯å…·æœ‰ä¸€å®šçš„å±€é™æ€§ã€‚\nObject.defineProperty  åªèƒ½åŠ«æŒå¯¹è±¡çš„å±æ€§ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸ªå¯¹è±¡çš„æ¯ä¸ªå±æ€§è¿›è¡Œéå†ã€‚vue 2.x é‡Œï¼Œæ˜¯é€šè¿‡é€’å½’ + éå† data å¯¹è±¡æ¥å®ç°å¯¹æ•°æ®çš„ç›‘æ§çš„ï¼Œå¦‚æœå±æ€§å€¼ä¹Ÿæ˜¯å¯¹è±¡é‚£ä¹ˆéœ€è¦æ·±åº¦éå†ï¼Œæ˜¾ç„¶å¦‚æœèƒ½å¤ŸåŠ«æŒä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡æ‰æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚\nProxy æœ‰ä»¥ä¸‹ä¸¤ä¸ªä¼˜ç‚¹ï¼š\n\nå¯ä»¥åŠ«æŒæ•´ä¸ªå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ã€‚\næœ‰ 13 ç§åŠ«æŒæ“ä½œã€‚\n\né¢è¯•å®˜: å®ç°åŒå‘ç»‘å®šProxyæ¯”definepropertyä¼˜åŠ£å¦‚ä½•? - æ˜é‡‘Vue3.0 å°é²œï¼ŒObject.defineProperty VS Proxy - å¥‡èˆå‘¨åˆŠ | åæ¡vue3.0å°é²œ â€” æ‘’å¼ƒObject.definePropertyï¼ŒåŸºäº Proxy çš„è§‚â€¦ - ç®€ä¹¦\n\nè§£é‡Šä¸€ä¸‹ BOM   \n\nBrowser Object Modelæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œæä¾›ç»™å¼€å‘äººå‘˜ç‹¬ç«‹äºå†…å®¹è€Œä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’çš„å¯¹è±¡ã€‚\n\nä¸»è¦ç®¡ç†çª—å£å’Œçª—å£ä¹‹é—´çš„é€šè®¯ï¼Œæ ¸å¿ƒå¯¹è±¡æ˜¯ window\nåœ¨ HTML 5 å‡ºç°ä¹‹å‰ï¼ŒåŸºæœ¬æ²¡æœ‰ç›¸å…³çš„æ ‡å‡†ï¼ŒH5 å°†å¾ˆå¤šåŠŸèƒ½æ­£å¼å†™å…¥è§„èŒƒã€‚\nä»æ ¹æœ¬ä¸Šè®²ï¼ŒBOM åªå¤„ç†æµè§ˆå™¨çª—å£å’Œæ¡†æ¶ï¼Œä½†äººä»¬ä¹Ÿä¹ æƒ¯ä¸ŠæŠŠæ‰€æœ‰é’ˆå¯¹æµè§ˆå™¨çš„ JavaScript æ‹“å±•ç®—ä½œ BOM çš„ä¸€éƒ¨åˆ†ã€‚\n\nä¸»è¦å¸¸è§åŠŸèƒ½ï¼š\n\nå¼¹å‡ºæ–°æµè§ˆå™¨çª—å£\nç§»åŠ¨ï¼Œç¼©æ”¾ï¼Œå…³é—­æµè§ˆå™¨çª—å£\næä¾›æµè§ˆå™¨è¯¦ç»†ä¿¡æ¯çš„ navigator å¯¹è±¡\næä¾›æµè§ˆå™¨æ‰€åŠ è½½é¡µé¢çš„è¯¦ç»†ä¿¡æ¯çš„ location å¯¹è±¡\næä¾›ç”¨æˆ·æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡è¯¦ç»†ä¿¡æ¯çš„ screen å¯¹è±¡\nå¯¹ cookie çš„æ”¯æŒ\nXHR ä¹Ÿç®—\n\njavascriptä¸­BOMéƒ¨åˆ†åŸºç¡€çŸ¥è¯†æ€»ç»“ - cnjs - åšå®¢å›­JavaScript æµè§ˆå™¨å¯¹è±¡å®ä¾‹ | èœé¸Ÿæ•™ç¨‹\n\ntypeof å’Œ instanceof çš„åŒºåˆ«ï¼Ÿ  \n\ntypeofæ“ä½œç¬¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæœªç»è®¡ç®—çš„æ“ä½œæ•°çš„ç±»å‹ã€‚\ntypeof - JavaScript | MDN\ninstanceofè¿ç®—ç¬¦ç”¨äºæµ‹è¯•æ„é€ å‡½æ•°çš„prototypeå±æ€§æ˜¯å¦å‡ºç°åœ¨å¯¹è±¡çš„åŸå‹é“¾ä¸­çš„ä»»ä½•ä½ç½®\ninstanceof - JavaScript | MDN\n2019/04/09\nå®ç° (5).add(3).minus(2) åŠŸèƒ½ã€‚ä¾‹ï¼š 5 + 3 - 2ï¼Œç»“æœä¸º 6\n\n\n2019/04/08ä¸ºä»€ä¹ˆé€šå¸¸åœ¨å‘é€æ•°æ®åŸ‹ç‚¹è¯·æ±‚çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ 1x1 åƒç´ çš„é€æ˜ gif å›¾ç‰‡ï¼Ÿ\nä¸ºä»€ä¹ˆå‰ç«¯ç›‘æ§è¦ç”¨GIFæ‰“ç‚¹\n\nèƒ½å¤Ÿå®Œæˆæ•´ä¸ª HTTP è¯·æ±‚+å“åº”ï¼ˆå°½ç®¡ä¸éœ€è¦å“åº”å†…å®¹ï¼‰\nè§¦å‘ GET è¯·æ±‚ä¹‹åä¸éœ€è¦è·å–å’Œå¤„ç†æ•°æ®ã€æœåŠ¡å™¨ä¹Ÿä¸éœ€è¦å‘é€æ•°æ®\nè·¨åŸŸå‹å¥½\næ‰§è¡Œè¿‡ç¨‹æ— é˜»å¡\nç›¸æ¯” XMLHttpRequest å¯¹è±¡å‘é€ GET è¯·æ±‚ï¼Œæ€§èƒ½ä¸Šæ›´å¥½\nGIFçš„æœ€ä½åˆæ³•ä½“ç§¯æœ€å°ï¼ˆæœ€å°çš„BMPæ–‡ä»¶éœ€è¦74ä¸ªå­—èŠ‚ï¼ŒPNGéœ€è¦67ä¸ªå­—èŠ‚ï¼Œè€Œåˆæ³•çš„GIFï¼Œåªéœ€è¦43ä¸ªå­—èŠ‚ï¼‰\n\n2019/04/0712345678console.log(([])?true:false);console.log(([]==false?true:false));console.log((&#123;&#125;==false)?true:false)è¾“å‡ºç»“æœ truetruefalse\nâ€œ==â€è¿ç®—ç¬¦ï¼ˆä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹ä¸ç›¸åŒæ—¶ï¼‰\n\nå¦‚æœä¸€ä¸ªå€¼æ˜¯nullï¼Œå¦ä¸€ä¸ªå€¼æ˜¯undefinedï¼Œåˆ™å®ƒä»¬ç›¸ç­‰\nå¦‚æœä¸€ä¸ªå€¼æ˜¯æ•°å­—ï¼Œå¦ä¸€ä¸ªå€¼æ˜¯å­—ç¬¦ä¸²ï¼Œå…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Œç„¶åä½¿ç”¨è½¬æ¢åçš„å€¼è¿›è¡Œæ¯”è¾ƒã€‚\nå¦‚æœå…¶ä¸­ä¸€ä¸ªå€¼æ˜¯trueï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º1å†è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå…¶ä¸­çš„ä¸€ä¸ªå€¼æ˜¯falseï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º0å†è¿›è¡Œæ¯”è¾ƒã€‚\nå¦‚æœä¸€ä¸ªå€¼æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªå€¼æ˜¯æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼Œåˆ™å°†å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼ï¼Œå†è¿›è¡Œæ¯”è¾ƒã€‚\n\nå¯¹è±¡åˆ°æ•°å­—çš„è½¬æ¢\n\nå¦‚æœå¯¹è±¡å…·æœ‰valueOf()æ–¹æ³•ï¼Œåè€…è¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™JavaScriptå°†è¿™ä¸ªåŸå§‹å€¼è½¬æ¢ä¸ºæ•°å­—ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰å¹¶è¿”å›ä¸€ä¸ªæ•°å­—ã€‚\nå¦åˆ™ï¼Œå¦‚æœå¯¹è±¡å…·æœ‰toString()æ–¹æ³•ï¼Œåè€…è¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™JavaScriptå°†å…¶è½¬æ¢å¹¶è¿”å›ã€‚ï¼ˆå¯¹è±¡çš„toString()æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç›´æ¥é‡ï¼ˆä½œè€…æ‰€è¯´çš„åŸå§‹å€¼ï¼‰ï¼ŒJavaScriptå°†è¿™ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ç±»å‹ï¼Œå¹¶è¿”å›è¿™ä¸ªæ•°å­—ï¼‰ã€‚\nå¦åˆ™ï¼ŒJavaScriptæŠ›å‡ºä¸€ä¸ªç±»å‹é”™è¯¯å¼‚å¸¸ã€‚\n\nç©ºæ•°ç»„è½¬æ¢ä¸ºæ•°å­—0\n\næ•°ç»„ç»§æ‰¿äº†é»˜è®¤çš„valueOf()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡è€Œä¸æ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œå› æ­¤ï¼Œæ•°ç»„åˆ°æ•°å­¦çš„è½¬æ¢åˆ™è°ƒç”¨toString()æ–¹æ³•ã€‚ç©ºæ•°ç»„è½¬æ¢ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œç©ºå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—0.\n\n2019/04/06 dirname å’Œ filename å’Œ process.cwd() ä¸‰è€…çš„åŒºåˆ«\nä¸‰è€…åŠŸèƒ½å·®ä¸å¤šï¼Œå‰ä¸¤ä¸ªæ˜¯ node é‡Œå¤´çš„å…¨å±€å˜é‡ï¼Œæœ€åä¸€ä¸ªæ–¹æ³•ç”¨æ¥è¿”å›å½“å‰ node.js è¿›ç¨‹å½“å‰å·¥ä½œçš„ç›®å½•ã€‚\n__dirname å’Œ process.cwd() ç”¨äºè¿”å›å½“å‰æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•åï¼ŒåŒºåˆ«åœ¨äº node è¿›ç¨‹å·¥ä½œçš„ç›®å½•å¹¶ä¸ä¸€å®šæ˜¯è¯¥æ–‡ä»¶çš„æ‰€åœ¨ç›®å½•ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªä½¿ç”¨ webpack æ‰“åŒ…äº†çš„å®Œæ•´çš„é¡µé¢æ¶æ„ä¸­ï¼Œå¯¹åº”çš„ cwd æ˜¯è¯¥é¡¹ç›®æ ¹ç›®å½•çš„è·¯å¾„ï¼Œå¹¶éå½“å‰æ¨¡å—æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚\n__filename ç”¨æ¥è·å–å½“å‰æ¨¡å—æ–‡ä»¶çš„å¸¦æœ‰å®Œæ•´çš„ç»å¯¹è·¯å¾„çš„æ–‡ä»¶åã€‚\n2019/04/05\né¢˜ç›®æ¥è‡ªè…¾è®¯ 2019 å®ä¹ å‰ç«¯ç¬”è¯•é¢˜  \n\né¢„é˜² CSRF çš„å‡ ç§æ–¹å¼ï¼Ÿ\n\nè¯·æ±‚ä¸­å¸¦ä¸Š token\nheader ä¸­å¸¦ä¸Š token\néªŒè¯ HTTP Referer å­—æ®µ\néªŒè¯ç \né‡å¤éªŒè¯å¯†ç \n\nCSRFæ”»å‡»ä¸é˜²å¾¡ï¼ˆå†™å¾—éå¸¸å¥½ï¼‰ - stpeaceçš„ä¸“æ  - CSDNåšå®¢\nCSP URL è·³è½¬\nContent Security Policy å…¥é—¨æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—\nwebpack4 é…ç½®æ–‡ä»¶ä¸­ filename çš„é…ç½®\nå…¥é—¨ Webpackï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº† - å‰ç«¯å­¦ä¹ ç¬”è®° - SegmentFault æ€å¦\n2019/04/04call å’Œ apply çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå“ªä¸ªæ€§èƒ½æ›´å¥½ä¸€äº›ï¼Ÿ\nä¸¤ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è°ƒç”¨å‡½æ•°æ‰§è¡Œçš„ä¸€ç§æ–¹å¼ï¼ŒåŒºåˆ«åœ¨äºä¼ å…¥å‚æ•°çš„ä¸åŒã€‚\n\nç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ï¼ŒæŒ‡å®šå‡½æ•°ä½“å†… this  çš„æŒ‡å‘ã€‚\nä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä¸åŒï¼Œapply æ˜¯ä¼ å…¥å¸¦ä¸‹æ ‡çš„é›†åˆï¼Œæ•°ç»„æˆ–è€…ç±»æ•°ç»„ï¼Œapply æŠŠå®ƒä¼ ç»™å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œcall ä»ç¬¬äºŒä¸ªå¼€å§‹ä¼ å…¥çš„å‚æ•°æ˜¯ä¸å›ºå®šçš„ï¼Œéƒ½ä¼šä¼ ç»™å‡½æ•°ä½œä¸ºå‚æ•°ã€‚\ncall è¦æ¯” apply çš„æ€§èƒ½å¥½ï¼Œå› ä¸º call ä¼ å…¥çš„å‚æ•°ç›´æ¥è¢«å‡½æ•°ä½¿ç”¨ï¼Œapply è¿˜éœ€è¦ä»æ•°ç»„ä¸­æå–ã€‚\n\nå‰ç«¯ä¸¤ç§ä¸»æµè·¨åŸŸæ–¹æ¡ˆï¼šJSONP ä¸ CORSã€‚è¯·é—®ä½¿ç”¨ä¸¤ç§æ–¹æ¡ˆåœ¨ a.com å‘ b.com å‘èµ·è·¨åŸŸè¯·æ±‚æ—¶ï¼Œb.com çš„æœåŠ¡ç«¯èƒ½å¦è§£æåˆ°è·¨åŸŸè¯·æ±‚æºå¸¦çš„ cookieã€‚\nç§»åŠ¨ç«¯å‰ç«¯å¼€å‘ä¸PCç«¯æ¯”æœ‰å“ªäº›ä¸åŒï¼Ÿ\n2019/04/03åŒå‘ç»‘å®šå’Œ Vuex æ˜¯å¦å†²çªï¼Ÿ\nåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä½¿ç”¨ç¡®å®ä¼šå‡ºç°é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥å‚è€ƒå®˜æ–¹å¯¹äºè¿™ä¸ªé—®é¢˜ç»™å‡ºçš„è§£é‡Šå’Œè§£å†³æ–¹æ¡ˆã€‚è¡¨å•å¤„ç† | Vuex\n2019/04/02è¾“å‡ºä»¥ä¸‹çš„ä»£ç çš„æ‰§è¡Œç»“æœå¹¶è§£é‡Šä¸ºä»€ä¹ˆï¼Ÿ\n12345678910var obj = &#123;    '2': 3,    '3': 4,    'length': 2,    'splice': Array.prototype.splice,    'push': Array.prototype.push&#125;obj.push(1)obj.push(2)console.log(obj)\nè¾“å‡ºç»“æœï¼š[,,1,2]    length = 4ã€‚\næœ¬é¢˜ä¸»è¦è€ƒæŸ¥çš„æ˜¯ JavaScript ä¸­ç±»æ•°ç»„ï¼ˆä¼ªæ•°ç»„ï¼‰ã€‚åœ¨ä»»ä½•å¯¹è±¡ä¸­æ·»åŠ  length å±æ€§å’Œ splice æ–¹æ³•åè¯¥å¯¹è±¡éƒ½ä¼šè¢« JavaScript è§†ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œä½†å®é™…ä¸Šä»–å¹¶ä¸å®Œå…¨å…·å¤‡æ•°ç»„çš„ç‰¹æ€§åŒæ—¶ä¸¤æ¬¡ push æ“ä½œä¹‹æ‰€ä»¥æ²¡æœ‰åœ¨æ•°ç»„çš„å‰ä¸¤ä¸ªä½ç½®æ’å…¥æ•°æ®çš„æ˜¯å› ä¸º push æ“ä½œçš„é€»è¾‘æ˜¯é€šè¿‡åˆ¤æ–­å½“å‰å¯¹è±¡çš„ length å±æ€§æ¥æ’å…¥çš„ï¼Œä»–ä¼šåœ¨å½“å‰ length çš„åä¸€ä¸ªä½ç½®æ’å…¥æ•°æ®ï¼ŒåŒæ—¶ä½¿å¾— length + 1ã€‚\nReferenceGitHub - Advanced-Frontend/Daily-Interview-Question: å·¥ä½œæ—¥æ¯å¤©ä¸€é“å‰ç«¯å¤§å‚é¢è¯•é¢˜ï¼Œç¥å¤§å®¶å¤©å¤©è¿›æ­¥ï¼Œä¸€å¹´åä¼šçœ‹åˆ°ä¸ä¸€æ ·çš„è‡ªå·±ã€‚\nGitHub - noneven/__: æƒ³åˆ°ä»€ä¹ˆå†™ä»€ä¹ˆ\n","plink":"https://xkeith.space/post/arc-13/"},{"title":"æ‰‹æ’• BFC","date":"2019-04-29T13:53:18.000Z","updated":"2019-04-29T13:56:47.858Z","content":"\n\nBFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚åä¹‹ä¹Ÿå¦‚æ­¤ã€‚\n\næ¦‚å¿µå—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆBlock Formatting Contextï¼ŒBFCï¼‰æ˜¯Webé¡µé¢çš„å¯è§†åŒ–CSSæ¸²æŸ“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å—ç›’å­çš„å¸ƒå±€è¿‡ç¨‹å‘ç”Ÿçš„åŒºåŸŸï¼Œä¹Ÿæ˜¯æµ®åŠ¨å…ƒç´ ä¸å…¶ä»–å…ƒç´ äº¤äº’çš„åŒºåŸŸã€‚\nåˆ›å»ºä¸‹åˆ—æ–¹å¼ä¼šåˆ›å»ºå—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼š\n\næ ¹å…ƒç´ æˆ–åŒ…å«æ ¹å…ƒç´ çš„å…ƒç´ \næµ®åŠ¨å…ƒç´ ï¼ˆå…ƒç´ çš„ float ä¸æ˜¯noneï¼‰\nç»å¯¹å®šä½å…ƒç´ ï¼ˆå…ƒç´ çš„ position ä¸ºabsoluteæˆ–fixedï¼‰\nè¡Œå†…å—å…ƒç´ ï¼ˆå…ƒç´ çš„ display ä¸ºinline-blockï¼‰\nè¡¨æ ¼å•å…ƒæ ¼ï¼ˆå…ƒç´ çš„ display ä¸ºtable-cellï¼ŒHTMLè¡¨æ ¼å•å…ƒæ ¼é»˜è®¤ä¸ºè¯¥å€¼ï¼‰\nè¡¨æ ¼æ ‡é¢˜ï¼ˆå…ƒç´ çš„ display ä¸ºtable-captionï¼ŒHTMLè¡¨æ ¼æ ‡é¢˜é»˜è®¤ä¸ºè¯¥å€¼ï¼‰\nåŒ¿åè¡¨æ ¼å•å…ƒæ ¼å…ƒç´ ï¼ˆå…ƒç´ çš„ display ä¸ºtableã€table-rowã€table-row-groupã€table-header-groupã€table-footer-groupï¼ˆåˆ†åˆ«æ˜¯HTML tableã€rowã€tbodyã€theadã€tfootçš„é»˜è®¤å±æ€§ï¼‰æˆ–inline-tableï¼‰\noverflow å€¼ä¸ä¸ºvisibleçš„å—å…ƒç´ \ndisplay å€¼ä¸º flow-root çš„å…ƒç´ ï¼ˆâš ï¸ è¿™æ ·çš„ BFC æ˜¯æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨çš„ï¼Œä½†è¦è€ƒè™‘ä½¿ç”¨æ—¶å€™çš„å…¼å®¹æ€§å’Œå®é™…åº”ç”¨åœºæ™¯ï¼‰\ncontain å€¼ä¸ºlayoutã€contentæˆ–strictçš„å…ƒç´ \nå¼¹æ€§å…ƒç´ ï¼ˆ display ä¸ºflexæˆ–inline-flexå…ƒç´ çš„ç›´æ¥å­å…ƒç´ ï¼‰\nç½‘æ ¼å…ƒç´ ï¼ˆ display ä¸ºgridæˆ–inline-gridå…ƒç´ çš„ç›´æ¥å­å…ƒç´ ï¼‰\nå¤šåˆ—å®¹å™¨ï¼ˆå…ƒç´ çš„ column-count æˆ– column-width ä¸ä¸ºautoï¼ŒåŒ…æ‹¬column-countä¸º1ï¼‰\ncolumn-spanä¸ºallçš„å…ƒç´ å§‹ç»ˆä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„BFCï¼Œå³ä½¿è¯¥å…ƒç´ æ²¡æœ‰åŒ…è£¹åœ¨ä¸€ä¸ªå¤šåˆ—å®¹å™¨ä¸­ï¼ˆ æ ‡å‡†å˜æ›´ ï¼Œ Chromebug ï¼‰ã€‚å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡åŒ…å«åˆ›å»ºå®ƒçš„å…ƒç´ å†…éƒ¨çš„æ‰€æœ‰å†…å®¹.å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡å¯¹æµ®åŠ¨å®šä½ï¼ˆå‚è§ float ï¼‰ä¸æ¸…é™¤æµ®åŠ¨ï¼ˆå‚è§ clear ï¼‰éƒ½å¾ˆé‡è¦ã€‚æµ®åŠ¨å®šä½å’Œæ¸…é™¤æµ®åŠ¨æ—¶åªä¼šåº”ç”¨äºåŒä¸€ä¸ªBFCå†…çš„å…ƒç´ ã€‚æµ®åŠ¨ä¸ä¼šå½±å“å…¶å®ƒBFCä¸­å…ƒç´ çš„å¸ƒå±€ï¼Œè€Œæ¸…é™¤æµ®åŠ¨åªèƒ½æ¸…é™¤åŒä¸€BFCä¸­åœ¨å®ƒå‰é¢çš„å…ƒç´ çš„æµ®åŠ¨ã€‚å¤–è¾¹è·æŠ˜å ï¼ˆ Margin collapsing ï¼‰ä¹Ÿåªä¼šå‘ç”Ÿåœ¨å±äºåŒä¸€BFCçš„å—çº§å…ƒç´ ä¹‹é—´ã€‚\n\nçº¦æŸè§„åˆ™\nå†…éƒ¨çš„Boxä¼šåœ¨å‚ç›´æ–¹å‘ä¸Šä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ”¾ç½®\nå‚ç›´æ–¹å‘ä¸Šçš„è·ç¦»ç”±marginå†³å®šã€‚ï¼ˆå®Œæ•´çš„è¯´æ³•æ˜¯ï¼šå±äºåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»Boxçš„marginä¼šå‘ç”Ÿé‡å ï¼ˆå¡Œé™·ï¼‰ï¼Œä¸æ–¹å‘æ— å…³ã€‚ï¼‰\næ¯ä¸ªå…ƒç´ çš„å·¦å¤–è¾¹è·ä¸åŒ…å«å—çš„å·¦è¾¹ç•Œç›¸æ¥è§¦ï¼ˆä»å·¦å‘å³ï¼‰ï¼Œå³ä½¿æµ®åŠ¨å…ƒç´ ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ï¼ˆè¿™è¯´æ˜BFCä¸­å­å…ƒç´ ä¸ä¼šè¶…å‡ºä»–çš„åŒ…å«å—ï¼Œè€Œpositionä¸ºabsoluteçš„å…ƒç´ å¯ä»¥è¶…å‡ºä»–çš„åŒ…å«å—è¾¹ç•Œï¼‰\nBFCçš„åŒºåŸŸä¸ä¼šä¸floatçš„å…ƒç´ åŒºåŸŸé‡å \nè®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å­å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—\nBFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢å…ƒç´ ï¼Œåä¹‹äº¦ç„¶\n\nçœ‹åˆ°ä»¥ä¸Šçš„å‡ æ¡çº¦æŸï¼Œæƒ³æƒ³æˆ‘ä»¬å­¦ä¹ cssæ—¶çš„å‡ æ¡è§„åˆ™\n\nBlockå…ƒç´ ä¼šæ‰©å±•åˆ°ä¸çˆ¶å…ƒç´ åŒå®½ï¼Œæ‰€ä»¥blockå…ƒç´ ä¼šå‚ç›´æ’åˆ—\nå‚ç›´æ–¹å‘ä¸Šçš„ä¸¤ä¸ªç›¸é‚»DIVçš„marginä¼šé‡å ï¼Œè€Œæ°´å¹³æ–¹å‘ä¸ä¼š(æ­¤è§„åˆ™å¹¶ä¸å®Œå…¨æ­£ç¡®)\næµ®åŠ¨å…ƒç´ ä¼šå°½é‡æ¥è¿‘å¾€å·¦ä¸Šæ–¹ï¼ˆæˆ–å³ä¸Šæ–¹ï¼‰\nä¸ºçˆ¶å…ƒç´ è®¾ç½®overflowï¼šhiddenæˆ–æµ®åŠ¨çˆ¶å…ƒç´ ï¼Œåˆ™ä¼šåŒ…å«æµ®åŠ¨å…ƒç´ \n\nä¸»è¦åº”ç”¨æ¸…é™¤æµ®åŠ¨æ ¹æ® BFC è§„åˆ™ï¼š è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—å› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ç”Ÿæˆ BFC æ¥å¤„ç†å†…éƒ¨å…ƒç´ äº§ç”Ÿæµ®åŠ¨åå‡ºç°çš„åŸæ¨¡å‹é«˜åº¦å¡Œé™·é—®é¢˜ã€‚\n12345678910111213141516171819&lt;style&gt;    .par &#123;        border: 5px solid #fcc;        width: 300px;    &#125;     .child &#123;        border: 5px solid #f66;        width:100px;        height: 100px;        float: left;    &#125;&lt;/style&gt;&lt;body&gt;    &lt;div class=\"par\"&gt;        &lt;div class=\"child\"&gt;&lt;/div&gt;        &lt;div class=\"child\"&gt;&lt;/div&gt;    &lt;/div&gt;&lt;/body&gt;\n\nä¸ºè¾¾åˆ°æ¸…é™¤å†…éƒ¨æµ®åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥è§¦å‘parç”ŸæˆBFCï¼Œé‚£ä¹ˆparåœ¨è®¡ç®—é«˜åº¦æ—¶ï¼Œparå†…éƒ¨çš„æµ®åŠ¨å…ƒç´ childä¹Ÿä¼šå‚ä¸è®¡ç®—ã€‚\n123.par &#123;    overflow: hidden;&#125;\n\né˜²æ­¢ margin å¡Œé™·å•ä¸ªæ–‡æ¡£æµçš„ margin å¡Œé™·åœ¨æ™®é€šçš„æ–‡æ¡£æµç›’æ¨¡å‹ä¸­ï¼Œä¸¤ä¸ªç›¸é‚»çš„å—çº§å…ƒç´ çš„ margin ä¼šäº§ç”Ÿå¡Œé™·ï¼Œå®é™…ä¸Šçš„å¤–è¾¹è·çš„å¤§å°æ˜¯ç­‰äºä¸¤è€…çš„ margin ä¸­çš„æœ€å¤§å€¼çš„ï¼Œä¸¤ä¸ªç›’ä¹‹é—´ä¼šäº§ç”ŸèŒƒå›´è¦†ç›–ï¼Œä¹Ÿå°±æ˜¯ margin å¡Œé™·ã€‚\n1234567891011121314&lt;style&gt;    p &#123;        color: #f55;        background: #fcc;        width: 200px;        line-height: 100px;        text-align:center;        margin: 100px;    &#125;&lt;/style&gt;&lt;body&gt;    &lt;p&gt;Haha&lt;/p&gt;    &lt;p&gt;Hehe&lt;/p&gt;&lt;/body&gt;\n\næ ¹æ® BFC è§„åˆ™ï¼šBoxå‚ç›´æ–¹å‘çš„è·ç¦»ç”±marginå†³å®šã€‚å±äºåŒä¸€ä¸ªBFC(ä¸Šä¾‹ä¸­æ˜¯bodyæ ¹å…ƒç´ çš„BFC)çš„ä¸¤ä¸ªç›¸é‚»Boxçš„marginä¼šå‘ç”Ÿé‡å æˆ‘ä»¬å¯ä»¥é€šè¿‡ç”Ÿæˆ BFC æ¥è§£å†³ margin å¡Œé™·ã€‚\n12345678910111213141516171819&lt;style&gt;    .wrap &#123;        overflow: hidden;// æ–°çš„BFC    &#125;    p &#123;        color: #f55;        background: #fcc;        width: 200px;        line-height: 100px;        text-align:center;        margin: 100px;    &#125;&lt;/style&gt;&lt;body&gt;    &lt;p&gt;Haha&lt;/p&gt;    &lt;div class=\"wrap\"&gt;        &lt;p&gt;Hehe&lt;/p&gt;    &lt;/div&gt;&lt;/body&gt;\n\nåµŒå¥—å…ƒç´ çš„ margin é‡å 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;!DOCTYPE html&gt;&lt;html&gt;  &lt;head&gt;   &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;  &lt;!--The viewport meta tag is used to improve the presentation and behavior of the samples     on iOS devices--&gt;  &lt;meta name=\"viewport\" content=\"initial-scale=1, maximum-scale=1,user-scalable=no\"/&gt;  &lt;title&gt;&lt;/title&gt;  &lt;style&gt;     html, body &#123; height: 100%; width: 100%; margin: 0; padding: 0; &#125;    #map&#123;      padding:0;    &#125;    .first&#123;      margin:20px;      background:lightgreen;      width:100px;      height:100px;    &#125;    ul&#123;      /*display:inline-block;*/      margin:10px;      background:lightblue;    &#125;    li&#123;      margin:25px;    &#125;  &lt;/style&gt;     &lt;/head&gt; &lt;body class=\"claro\"&gt;   &lt;div class=\"first\"&gt;&lt;/div&gt;  &lt;ul&gt;    &lt;li&gt;1&lt;/li&gt;    &lt;li&gt;2&lt;/li&gt;    &lt;li&gt;3&lt;/li&gt;  &lt;/ul&gt;&lt;/body&gt; &lt;/html&gt;\næ­¤æ—¶divä¸ulä¹‹é—´çš„å‚ç›´è·ç¦»ï¼Œå–divã€ulã€liä¸‰è€…ä¹‹é—´çš„æœ€å¤§å¤–è¾¹è·ã€‚\n\nè¦é˜»æ­¢åµŒå¥—å…ƒç´ çš„marginé‡å ï¼Œåªéœ€è®©ulç”ŸæˆBFCå³å¯ï¼ˆå°†ä¸Šä¾‹ä¸­çš„æ³¨é‡Šå»æ‰ï¼‰ï¼Œè¿™æ ·divã€ulã€liä¹‹é—´ä¾¿ä¸ä¼šå‘ç”Ÿé‡å ç°è±¡ã€‚\n\nè€Œliä½äºåŒä¸€BFCå†…æ‰€ä»¥ä»ç„¶å­˜åœ¨é‡å ç°è±¡ã€‚\n\nç»™liè®¾ç½®line-blocké‡æ–°ç”Ÿæˆä¸€ä¸ªbfcå°±ä¸å­˜åœ¨é‡å ç°è±¡äº†ã€‚\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœä¸ºulè®¾ç½®äº†borderæˆ–paddingï¼Œé‚£å…ƒç´ çš„marginä¾¿ä¼šè¢«åŒ…å«åœ¨çˆ¶å…ƒç´ çš„ç›’å¼æ¨¡å‹å†…ï¼Œä¸ä¼šä¸å¤–éƒ¨divé‡å ã€‚\n\nè‡ªé€‚åº”å¸ƒå±€12345678910111213141516171819202122&lt;style&gt;    body &#123;        width: 300px;        position: relative;    &#125;     .aside &#123;        width: 100px;        height: 150px;        float: left;        background: #f66;    &#125;     .main &#123;        height: 200px;        background: #fcc;    &#125;&lt;/style&gt;&lt;body&gt;    &lt;div class=\"aside\"&gt;&lt;/div&gt;    &lt;div class=\"main\"&gt;&lt;/div&gt;&lt;/body&gt;\n\nBFC çš„åŒºåŸŸä¸ä¼šä¸æµ®åŠ¨åŒºåŸŸé‡å \næˆ‘ä»¬åˆ©ç”¨ BFC çš„å…ƒç´ ä¸ä¼šä¸å¤–ç•Œå…ƒç´ äº’ç›¸å½±å“å¸ƒå±€çš„ç‰¹æ€§ï¼Œå¯ä»¥åšå‡ºè‡ªé€‚åº”çš„ä¸¤æ å¸ƒå±€ã€‚\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;!DOCTYPE html&gt;&lt;html&gt;  &lt;head&gt;   &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;  &lt;!--The viewport meta tag is used to improve the presentation and behavior of the samples     on iOS devices--&gt;  &lt;meta name=\"viewport\" content=\"initial-scale=1, maximum-scale=1,user-scalable=no\"/&gt;  &lt;title&gt;&lt;/title&gt;  &lt;style&gt;     html, body &#123; height: 100%; width: 100%; margin: 0; padding: 0; &#125;    .left&#123;      background:pink;      float: left;      width:180px;    &#125;    .center&#123;      background:lightyellow;      overflow:hidden;          &#125;    .right&#123;      background: lightblue;      width:180px;      float:right;    &#125;  &lt;/style&gt;     &lt;/head&gt; &lt;body class=\"claro\"&gt;   &lt;div class=\"container\"&gt;    &lt;div class=\"left\"&gt;      &lt;pre&gt;  .left&#123;    background:pink;    float: left;    width:180px;  &#125;      &lt;/pre&gt;    &lt;/div&gt;    &lt;div class=\"right\"&gt;       &lt;pre&gt;  .right&#123;    background:lightblue;    width:180px;    float:right;  &#125;      &lt;/pre&gt;    &lt;/div&gt;    &lt;div class=\"center\"&gt;    &lt;pre&gt;  .center&#123;    background:lightyellow;    overflow:hidden;    height:116px;  &#125;      &lt;/pre&gt;    &lt;/div&gt;  &lt;/div&gt;&lt;/html&gt;\n\nå‰¯ä½œç”¨æœ‰å¾ˆå¤šåˆ›å»º BFC çš„æ–¹æ³•éƒ½ä¼šäº§ç”Ÿä¸€äº›å‰¯ä½œç”¨ï¼Œå› ä¸ºæˆ‘ä»¬åªæ˜¯åˆ©ç”¨äº† BFC çš„å¸ƒå±€ç‰¹æ€§ï¼Œè€Œäº§ç”Ÿ BFC çš„æ¡ä»¶å¾€å¾€ä¸ä»…ä»…å¦‚æ­¤ï¼Œå› æ­¤å¯èƒ½ä¼šè®©æˆ‘ä»¬çš„ä»£ç ä»¤äººè¿·æƒ‘ï¼Œæ­¤æ—¶æœ€å¥½æ˜æ˜¾çš„ç»™å‡ºæ³¨é‡Šæˆ–æ˜¯é‡‡ç”¨æ²¡æœ‰å‰¯ä½œç”¨çš„ BFC åˆ›å»ºæ–¹å¼ã€‚\nä½¿ç”¨overflowæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„BFCï¼Œæ˜¯å› ä¸ºoverflowå±æ€§å‘Šè¯‰æµè§ˆå™¨ä½ æƒ³è¦æ€æ ·å¤„ç†æº¢å‡ºçš„å†…å®¹ã€‚å½“ä½ ä½¿ç”¨è¿™ä¸ªå±æ€§åªæ˜¯ä¸ºäº†åˆ›å»ºBFCçš„æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šå‘ç°ä¸€äº›ä¸æƒ³è¦çš„é—®é¢˜ï¼Œæ¯”å¦‚æ»šåŠ¨æ¡æˆ–è€…ä¸€äº›å‰ªåˆ‡çš„é˜´å½±ï¼Œéœ€è¦æ³¨æ„ã€‚å¦å¤–ï¼Œå¯¹äºåç»­çš„å¼€å‘ï¼Œå¯èƒ½ä¸æ˜¯å¾ˆæ¸…æ¥šå½“æ—¶ä¸ºä»€ä¹ˆä½¿ç”¨overflowã€‚æ‰€ä»¥ä½ æœ€å¥½æ·»åŠ ä¸€äº›æ³¨é‡Šæ¥è§£é‡Šä¸ºä»€ä¹ˆè¿™æ ·åšã€‚\nä¸€ä¸ªæ–°çš„displayå±æ€§çš„å€¼ï¼Œå®ƒå¯ä»¥åˆ›å»ºæ— å‰¯ä½œç”¨çš„BFCã€‚åœ¨çˆ¶çº§å—ä¸­ä½¿ç”¨display: flow-rootå¯ä»¥åˆ›å»ºæ–°çš„BFCã€‚\nReferenceå—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ - Web å¼€å‘è€…æŒ‡å— | MDNå‰ç«¯ç²¾é€‰æ–‡æ‘˜ï¼šBFC ç¥å¥‡èƒŒåçš„åŸç† - æ¢¦æƒ³å¤©ç©ºï¼ˆå±±è¾¹å°æºªï¼‰ - åšå®¢å›­ä»€ä¹ˆæ˜¯BFC - æœ€éªšçš„å°±æ˜¯ä½  - åšå®¢å›­å­¦ä¹  BFC (Block Formatting Context) - æ˜é‡‘notebook/README.md at master Â· zuopf769/notebook Â· GitHub\n","plink":"https://xkeith.space/post/arc-19/"},{"title":"æµ…è°ˆåšå¼ˆè®ºï¼ˆNim æ¸¸æˆï¼‰","date":"2019-04-15T12:58:31.000Z","updated":"2019-04-15T13:00:13.219Z","content":"\n\né¢˜ç›®:ç¡¬å¸æ¸¸æˆ1,Aliceå’ŒBobåœ¨ç©è¿™æ ·ä¸€ä¸ªæ¸¸æˆã€‚ç»™å®škä¸ªæ•°å­—a1,a2,Â·Â·Â·akã€‚ ä¸€å¼€å§‹ï¼Œæœ‰xæšç¡¬å¸ï¼ŒAliceå’ŒBobè½®æµå–ç¡¬å¸ã€‚æ¯æ¬¡æ‰€å–ç¡¬å¸çš„æšæ•°ä¸€å®šè¦åœ¨a1,a2Â·Â·Â·ï¼Œakå½“ä¸­ã€‚Aliceå…ˆå–ï¼Œå–èµ°æœ€åä¸€æšç¡¬å¸çš„ä¸€æ–¹è·èƒœã€‚å½“åŒæ–¹éƒ½é‡‡å–æœ€æœ‰ç­–ç•¥æ—¶ï¼Œè°ä¼šè·èƒœï¼Ÿå‡å®ša1a2Â·Â·Â·akä¸­ä¸€å®šæœ‰1é™åˆ¶æ¡ä»¶ï¼š1&lt;=x&lt;=10000 1&lt;=k&lt;=100 1&lt;=ai&lt;=k  \n\n12345678910111213141516171819202122232425/**åšå¼ˆè®ºå’Œå¿…èƒœç­–ç•¥ */// num ä¸ªç¡¬å¸ï¼Œa[i] è¡¨ç¤ºä¸€ç§æ‹¿å–ç¡¬å¸ä¸ªæ•°çš„æ–¹æ³•ï¼ŒA å…ˆæ‹¿// win æ•°ç»„ä¿å­˜çš„æ˜¯ A æ˜¯å¦èƒ½å¿…èƒœfunction game1(num, a) &#123;    // ç›¸å½“äº dp æ•°ç»„    var win = [];    var k = a.length;    // 0 æ˜¯å¿…è´¥æ€    win[0] = false;    for(let i = 1; i &lt;= num; i++) &#123;        win[i] = false;        for(let j = 0; j &lt; k; j++) &#123;            // å¦‚æœå½“å‰çŠ¶æ€å­˜åœ¨ä¸€ç§æƒ…å†µå¯ä»¥æ¼”åŒ–ä¸ºå¿…è´¥æ€ï¼Œé‚£ä¹ˆå½“å‰çŠ¶æ€å¿…èƒœ            if(a[j] &lt;= i &amp;&amp; !win[i-a[j]]) &#123;                win[i] = true;                break;            &#125;        &#125;    &#125;    return win;&#125;let res = game1(9, [1,4]);console.log(res[9]);\næœ‰ä¸¤ä¸ªæ¸¸æˆè€…ï¼šAå’ŒBã€‚æœ‰né¢—çŸ³å­ã€‚çº¦å®šï¼šä¸¤äººè½®æµå–èµ°çŸ³å­ï¼Œæ¯æ¬¡å¯å–1ã€2æˆ–3é¢—ã€‚Aå…ˆå–ï¼Œå–èµ°æœ€åä¸€é¢—çŸ³å­çš„äººè·èƒœã€‚é—®é¢˜ï¼šAæœ‰æ²¡æœ‰å¿…èƒœçš„ç­–ç•¥ï¼Ÿåˆ†æï¼šè¿™æ˜¯å°å­¦å¿…å¤‡å¥¥æ•°é¢˜ä¹‹ä¸€ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„çŸ¥é“ï¼Œå½“nä¸º0,4,8,12â€¦â€¦æ—¶ï¼ŒAå¿…å®šä¼šè¾“ï¼Œå› ä¸ºä¸è®ºAå–å¤šå°‘ï¼ŒBåªè¦å’ŒAå…±åŒå–èµ°4å³å¯ï¼›å½“nä¸ä¸º0,4,8,12â€¦â€¦æ—¶ï¼ŒAåªéœ€è¦å°†nå–æˆ4çš„å€æ•°ï¼Œè¿™æ ·å°±å˜æˆäº†Bå…ˆå–ï¼ŒBä¸€å®šä¼šè¾“ï¼Œæ‰€ä»¥Aä¸€å®šä¼šèµ¢ã€‚\nReferenceæ‰¾å‡ºæ¸¸æˆçš„å¿…èƒœçš„ç­–ç•¥(åšå¼ˆè®ºçš„å­¦ä¹ ) - æ¯å¶die - åšå®¢å›­æµ…è°ˆç®—æ³•â€”â€”åšå¼ˆè®º - Canopus - CSDNåšå®¢Nimæ¸¸æˆ_ç™¾åº¦ç™¾ç§‘nimæ¸¸æˆè¯¦è§£ï¼ˆæ˜“æ‡‚ï¼‰ - è½¬è§’çš„å®ˆæœ› - CSDNåšå®¢\n","plink":"https://xkeith.space/post/arc-18/"},{"title":"å¦‚ä½•æ‹¿ä¸‹å‰ç«¯é¢è¯•ï¼ˆPromise å’Œå¼‚æ­¥ç¼–ç¨‹è¯¦è§£ï¼‰","date":"2019-04-13T13:37:59.000Z","updated":"2019-04-13T13:39:35.364Z","content":"\n\nåœ¨JavaScriptä¸­æ²¡æœ‰ä»»ä½•ä»£ç æ˜¯ç«‹åˆ»æ‰§è¡Œçš„ï¼Œä½†ä¸€æ—¦è¿›ç¨‹ç©ºé—²åˆ™å°½å¿«æ‰§è¡Œã€‚  \n\næµè§ˆå™¨çº¿ç¨‹æµè§ˆå™¨çš„å†…æ ¸æ˜¯å¤šçº¿ç¨‹çš„ï¼Œä»–ä»¬åœ¨å†…æ ¸æ§åˆ¶ä¸‹ç›¸äº’é…åˆä»¥ä¿æŒåŒæ­¥ï¼Œä¸€ä¸ªæµè§ˆå™¨é€šå¸¸ç”±ä»¥ä¸‹å¸¸é©»çº¿ç¨‹ç»„æˆï¼š\n\nGUI æ¸²æŸ“çº¿ç¨‹\nJavaScript å¼•æ“çº¿ç¨‹\næµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹\nå®šæ—¶è§¦å‘å™¨çº¿ç¨‹\nå¼‚æ­¥ HTTP è¯·æ±‚çº¿ç¨‹\n\nå‡ ç§å¸¸è§çš„å¼‚æ­¥ç¼–ç¨‹æ–¹æ¡ˆ\nå›è°ƒå‡½æ•°\näº‹ä»¶ç›‘å¬\nå‘å¸ƒ / è®¢é˜…\nPromise\n\nGUI æ¸²æŸ“çº¿ç¨‹è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨ç•Œé¢ HTML å…ƒç´ ,å½“ç•Œé¢éœ€è¦é‡ç»˜(Repaint)æˆ–ç”±äºæŸç§æ“ä½œå¼•å‘å›æµ(reflow)æ—¶,è¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œã€‚åœ¨ Javascript å¼•æ“è¿è¡Œè„šæœ¬æœŸé—´, GUI æ¸²æŸ“çº¿ç¨‹éƒ½æ˜¯å¤„äºæŒ‚èµ·çŠ¶æ€çš„,ä¹Ÿå°±æ˜¯è¯´è¢«â€å†»ç»“â€ã€‚å³ GUI æ¸²æŸ“çº¿ç¨‹ä¸ JS å¼•æ“æ˜¯äº’æ–¥çš„ï¼Œå½“JSå¼•æ“æ‰§è¡Œæ—¶GUIçº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼ŒGUI æ›´æ–°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ç­‰åˆ° JS å¼•æ“ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œã€‚\nJavaScript å¼•æ“çº¿ç¨‹ä¹Ÿå¯ä»¥ç§°ä¸º JS å†…æ ¸ï¼Œä¸»è¦è´Ÿè´£å¤„ç† Javascript è„šæœ¬ç¨‹åºï¼Œä¾‹å¦‚ V8 å¼•æ“ã€‚Javascript å¼•æ“çº¿ç¨‹ç†æ‰€å½“ç„¶æ˜¯è´Ÿè´£è§£æ Javascript è„šæœ¬ï¼Œè¿è¡Œä»£ç ã€‚æµè§ˆå™¨æ— è®ºä»€ä¹ˆæ—¶å€™éƒ½åªæœ‰ä¸€ä¸ª JS çº¿ç¨‹åœ¨è¿è¡Œ JS ç¨‹åºã€‚\næµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹å½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶è¯¥çº¿ç¨‹ä¼šæŠŠäº‹ä»¶æ·»åŠ åˆ°å¾…å¤„ç†é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œç­‰å¾… JS å¼•æ“çš„å¤„ç†ã€‚è¿™äº›äº‹ä»¶å¯ä»¥æ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç å—å¦‚å®šæ—¶ä»»åŠ¡ã€ä¹Ÿå¯æ¥è‡ªæµè§ˆå™¨å†…æ ¸çš„å…¶ä»–çº¿ç¨‹å¦‚é¼ æ ‡ç‚¹å‡»ã€AJAX å¼‚æ­¥è¯·æ±‚ç­‰ï¼Œä½†ç”±äºJSçš„å•çº¿ç¨‹å…³ç³»æ‰€æœ‰è¿™äº›äº‹ä»¶éƒ½å¾—æ’é˜Ÿç­‰å¾… JS å¼•æ“å¤„ç†ã€‚\nå®šæ—¶è§¦å‘å™¨çº¿ç¨‹æµè§ˆå™¨å®šæ—¶è®¡æ•°å™¨å¹¶ä¸æ˜¯ç”± JavaScript å¼•æ“è®¡æ•°çš„, å› ä¸º javaScript å¼•æ“æ˜¯å•çº¿ç¨‹çš„, å¦‚æœå¤„äºé˜»å¡çº¿ç¨‹çŠ¶æ€å°±ä¼šå½±å“è®°è®¡æ—¶çš„å‡†ç¡®, å› æ­¤é€šè¿‡å•ç‹¬çº¿ç¨‹æ¥è®¡æ—¶å¹¶è§¦å‘å®šæ—¶æ˜¯æ›´ä¸ºåˆç†çš„æ–¹æ¡ˆã€‚\nå¼‚æ­¥ HTTP è¯·æ±‚çº¿ç¨‹åœ¨ XMLHttpRequest åœ¨è¿æ¥åæ˜¯é€šè¿‡æµè§ˆå™¨æ–°å¼€ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚ï¼Œ å°†æ£€æµ‹åˆ°çŠ¶æ€å˜æ›´æ—¶ï¼Œå¦‚æœè®¾ç½®æœ‰å›è°ƒå‡½æ•°ï¼Œå¼‚æ­¥çº¿ç¨‹å°±äº§ç”ŸçŠ¶æ€å˜æ›´äº‹ä»¶æ”¾åˆ° JavaScript å¼•æ“çš„å¤„ç†é˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†ã€‚\nçº¿ç¨‹å·¥ä½œä¾‹å­1:å¼‚æ­¥è¯·æ±‚æ˜¯ç”±çº¿ç¨‹ JavaScript æ‰§è¡Œçº¿ç¨‹ã€HTTP è¯·æ±‚çº¿ç¨‹ å’Œ äº‹ä»¶è§¦å‘çº¿ç¨‹ å…±åŒå®Œæˆçš„ã€‚JavaScript æ‰§è¡Œçº¿ç¨‹ æ‰§è¡Œå¼‚æ­¥è¯·æ±‚ä»£ç ï¼Œè¿™æ—¶æµè§ˆå™¨ä¼šå¼€ä¸€æ¡æ–°çš„ HTTP è¯·æ±‚çº¿ç¨‹ æ¥æ‰§è¡Œè¯·æ±‚ï¼ŒJavaScript æ‰§è¡Œçº¿ç¨‹åˆ™ç»§ç»­æ‰§è¡Œ æ‰§è¡Œé˜Ÿåˆ— ä¸­å‰©ä¸‹çš„å…¶ä»–ä»»åŠ¡ã€‚ç„¶ååœ¨æœªæ¥çš„æŸä¸€æ—¶åˆ» äº‹ä»¶è§¦å‘çº¿ç¨‹ ç›‘è§†åˆ°ä¹‹å‰çš„å‘èµ·çš„ HTTP è¯·æ±‚å·²å®Œæˆï¼Œå®ƒå°±ä¼šæŠŠå®Œæˆäº‹ä»¶çš„å›è°ƒä»£ç æ’å…¥åˆ° JavaScript æ‰§è¡Œé˜Ÿåˆ—å°¾éƒ¨ ç­‰å¾… JavaScript æ‰§è¡Œçº¿ç¨‹ç©ºé—²æ—¶æ¥å¤„ç†ã€‚ä¾‹å­2:å®šæ—¶è§¦å‘ï¼ˆsetTimeout å’Œ setIntervalï¼‰æ˜¯ç”±æµè§ˆå™¨çš„ å®šæ—¶å™¨çº¿ç¨‹ æ‰§è¡Œçš„å®šæ—¶è®¡æ•°ï¼Œç„¶ååœ¨å®šæ—¶æ—¶é—´ç»“æŸæ—¶æŠŠå®šæ—¶å¤„ç†å‡½æ•°çš„æ‰§è¡Œä»£ç æ’å…¥åˆ° JavaScript æ‰§è¡Œé˜Ÿåˆ—çš„å°¾ç«¯ï¼ˆæ‰€ä»¥ç”¨è¿™ä¸¤ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå®é™…çš„æ‰§è¡Œæ—¶é—´æ˜¯å¤§äºæˆ–ç­‰äºæŒ‡å®šæ—¶é—´çš„ï¼Œä¸ä¿è¯èƒ½å‡†ç¡®å®šæ—¶çš„ï¼‰ã€‚\n\n\nä¸»çº¿ç¨‹åœ¨æ‰§è¡Œå®Œå½“å‰å¾ªç¯ä¸­çš„æ‰€æœ‰ä»£ç åï¼Œå°±ä¼šåˆ°ä»»åŠ¡ï¼ˆæ¶ˆæ¯ï¼‰é˜Ÿåˆ—å–å‡ºä¸€æ¡æ¶ˆæ¯ï¼Œå¹¶æ‰§è¡Œå®ƒã€‚åˆ°æ­¤ä¸ºæ­¢ï¼Œå°±å®Œæˆäº†å·¥ä½œçº¿ç¨‹å¯¹ä¸»çº¿ç¨‹çš„é€šçŸ¥ï¼Œå›è°ƒå‡½æ•°ä¹Ÿå°±å¾—åˆ°äº†æ‰§è¡Œã€‚å¦‚æœä¸€å¼€å§‹ä¸»çº¿ç¨‹å°±æ²¡æœ‰æä¾›å›è°ƒå‡½æ•°ï¼Œå·¥ä½œçº¿ç¨‹å°±æ²¡å¿…è¦é€šçŸ¥ä¸»çº¿ç¨‹ï¼Œä»è€Œä¹Ÿæ²¡å¿…è¦å¾€æ¶ˆæ¯é˜Ÿåˆ—æ”¾æ¶ˆæ¯ã€‚\nsetTimeout(fn, 0) çš„ä½œç”¨ç†è§£äº†æµè§ˆå™¨å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹æˆ‘ä»¬å°±ä¼šçŸ¥é“ï¼Œå°†ä¸€ä¸ªä»»åŠ¡è®¾ç½®æˆé›¶å»¶è¿Ÿå¹¶ä¸æ„å‘³ç€ç«‹å³æ‰§è¡Œè¯¥ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡ä»ç„¶è¦è¢«åŠ å…¥å¼‚æ­¥é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…ä¸»çº¿ç¨‹ç»“æŸï¼Œå¹¶ä¸”å¼‚æ­¥é˜Ÿåˆ—å‰é¢çš„ä»»åŠ¡ä¹Ÿç»“æŸæ‰æ‰§è¡Œã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨setTimeout(fn,0)çš„ç‰¹æ€§ï¼Œä¿®æ­£æµè§ˆå™¨çš„ä»»åŠ¡é¡ºåºã€‚\nPromiseæè¿°Promiseå¯¹è±¡æ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼ˆä»£ç†ä¸€ä¸ªå€¼ï¼‰ï¼Œè¢«ä»£ç†çš„å€¼åœ¨Promiseå¯¹è±¡åˆ›å»ºæ—¶å¯èƒ½æ˜¯æœªçŸ¥çš„ã€‚å®ƒå…è®¸ä½ ä¸ºå¼‚æ­¥æ“ä½œçš„æˆåŠŸå’Œå¤±è´¥åˆ†åˆ«ç»‘å®šç›¸åº”çš„å¤„ç†æ–¹æ³•ï¼ˆhandlersï¼‰ã€‚ è¿™è®©å¼‚æ­¥æ–¹æ³•å¯ä»¥åƒåŒæ­¥æ–¹æ³•é‚£æ ·è¿”å›å€¼ï¼Œä½†å¹¶ä¸æ˜¯ç«‹å³è¿”å›æœ€ç»ˆæ‰§è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½ä»£è¡¨æœªæ¥å‡ºç°çš„ç»“æœçš„promiseå¯¹è±¡\nä¸€ä¸ªPromiseæœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€:\n\npending: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ã€‚\nfulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚\nrejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚pending çŠ¶æ€çš„ Promise å¯¹è±¡å¯èƒ½ä¼šå˜ä¸ºfulfilled çŠ¶æ€å¹¶ä¼ é€’ä¸€ä¸ªå€¼ç»™ç›¸åº”çš„çŠ¶æ€å¤„ç†æ–¹æ³•ï¼Œä¹Ÿå¯èƒ½å˜ä¸ºå¤±è´¥çŠ¶æ€ï¼ˆrejectedï¼‰å¹¶ä¼ é€’å¤±è´¥ä¿¡æ¯ã€‚å½“å…¶ä¸­ä»»ä¸€ç§æƒ…å†µå‡ºç°æ—¶ï¼ŒPromise å¯¹è±¡çš„thenæ–¹æ³•ç»‘å®šçš„å¤„ç†æ–¹æ³•ï¼ˆhandlersï¼‰å°±ä¼šè¢«è°ƒç”¨ï¼ˆthenæ–¹æ³•åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼šonfulfilled å’Œ onrejectedï¼Œå®ƒä»¬éƒ½æ˜¯ Function ç±»å‹ã€‚å½“PromiseçŠ¶æ€ä¸ºfulfilledæ—¶ï¼Œè°ƒç”¨ then çš„ onfulfilled æ–¹æ³•ï¼Œå½“PromiseçŠ¶æ€ä¸ºrejectedæ—¶ï¼Œè°ƒç”¨ then çš„ onrejected æ–¹æ³•ï¼Œ æ‰€ä»¥åœ¨å¼‚æ­¥æ“ä½œçš„å®Œæˆå’Œç»‘å®šå¤„ç†æ–¹æ³•ä¹‹é—´ä¸å­˜åœ¨ç«äº‰ï¼‰ã€‚å› ä¸º Promise.prototype.then å’Œ Promise.prototype.catch æ–¹æ³•è¿”å›promise å¯¹è±¡ï¼Œ æ‰€ä»¥å®ƒä»¬å¯ä»¥è¢«é“¾å¼è°ƒç”¨ã€‚\n\n\nå¸¸è§é”™è¯¯åœ¨ç¼–å†™ Promise é“¾æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹ç¤ºä¾‹ä¸­å±•ç¤ºçš„å‡ ä¸ªé”™è¯¯ï¼š\n1234567// é”™è¯¯ç¤ºä¾‹ï¼ŒåŒ…å« 3 ä¸ªé—®é¢˜doSomething().then(function(result) &#123;  doSomethingElse(result) // æ²¡æœ‰è¿”å› Promise ä»¥åŠæ²¡æœ‰å¿…è¦çš„åµŒå¥— Promise  .then(newResult =&gt; doThirdThing(newResult));&#125;).then(() =&gt; doFourthThing());// æœ€åæ˜¯æ²¡æœ‰ä½¿ç”¨ catch ç»ˆæ­¢ Promise è°ƒç”¨é“¾ï¼Œå¯èƒ½å¯¼è‡´æ²¡æœ‰æ•è·çš„å¼‚å¸¸\nç¬¬ä¸€ä¸ªé”™è¯¯æ˜¯æ²¡æœ‰æ­£ç¡®åœ°å°†äº‹ç‰©ç›¸è¿æ¥ã€‚å½“æˆ‘ä»¬åˆ›å»ºæ–° Promise ä½†å¿˜è®°è¿”å›å®ƒæ—¶ï¼Œä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚å› æ­¤ï¼Œé“¾æ¡è¢«æ‰“ç ´ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„é“¾æ¡ç«äº‰ï¼ˆåŒæ—¶åœ¨æ‰§è¡Œä¸¤ä¸ªå¼‚æ­¥è€Œéä¸€ä¸ªä¸€ä¸ªçš„æ‰§è¡Œï¼‰ã€‚è¿™æ„å‘³ç€doFourthThing()ä¸ä¼šç­‰å¾…doSomethingElse()æˆ–doThirdThing()å®Œæˆï¼Œå¹¶ä¸”å°†ä¸å®ƒä»¬å¹¶è¡Œè¿è¡Œï¼Œå¯èƒ½æ˜¯æ— æ„çš„ã€‚å•ç‹¬çš„é“¾ä¹Ÿæœ‰å•ç‹¬çš„é”™è¯¯å¤„ç†ï¼Œå¯¼è‡´æœªæ•è·çš„é”™è¯¯ã€‚ç¬¬äºŒä¸ªé”™è¯¯æ˜¯ä¸å¿…è¦åœ°åµŒå¥—ï¼Œå®ç°ç¬¬ä¸€ä¸ªé”™è¯¯ã€‚åµŒå¥—è¿˜é™åˆ¶äº†å†…éƒ¨é”™è¯¯å¤„ç†ç¨‹åºçš„èŒƒå›´ï¼Œå¦‚æœæ˜¯éé¢„æœŸçš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœªæ•è·çš„é”™è¯¯ã€‚å…¶ä¸­ä¸€ä¸ªå˜ä½“æ˜¯ promise æ„é€ å‡½æ•°åæ¨¡å¼ ï¼Œå®ƒç»“åˆäº† Promise æ„é€ å‡½æ•°çš„å¤šä½™ä½¿ç”¨å’ŒåµŒå¥—ã€‚ç¬¬ä¸‰ä¸ªé”™è¯¯æ˜¯å¿˜è®°ç”¨catchç»ˆæ­¢é“¾ã€‚è¿™å¯¼è‡´åœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸­ä¸èƒ½ç»ˆæ­¢çš„ Promise é“¾é‡Œçš„ rejectionã€‚ä¸€ä¸ªå¥½çš„ç»éªŒæ³•åˆ™æ˜¯æ€»æ˜¯è¿”å›æˆ–ç»ˆæ­¢ Promise é“¾ï¼Œå¹¶ä¸”ä¸€æ—¦ä½ å¾—åˆ°ä¸€ä¸ªæ–°çš„ Promiseï¼Œè¿”å›å®ƒã€‚ä¸‹é¢æ˜¯ä¿®æ”¹åçš„å¹³é¢åŒ–çš„ä»£ç ï¼š\n1234567doSomething().then(function(result) &#123;  return doSomethingElse(result);&#125;).then(newResult =&gt; doThirdThing(newResult)).then(() =&gt; doFourthThing());.catch(error =&gt; console.log(error));\nasync / awaitReferenceã€ js åŸºç¡€ ã€‘ setTimeout(fn, 0) çš„ä½œç”¨ - æ˜é‡‘ä½¿ç”¨ Promises - JavaScript | MDNé¢è¯•ç²¾é€‰ä¹‹Promise - æ˜é‡‘PromiseåŸç†è®²è§£ &amp;&amp; å®ç°ä¸€ä¸ªPromiseå¯¹è±¡ (éµå¾ªPromise/A+è§„èŒƒ) - æ˜é‡‘\n","plink":"https://xkeith.space/post/arc-17/"},{"title":"å°è°ˆé˜²æŠ–å’ŒèŠ‚æµ","date":"2019-04-13T13:33:39.000Z","updated":"2019-04-13T13:35:22.444Z","content":"\nåœ¨è¿›è¡Œçª—å£çš„resizeã€scrollï¼Œè¾“å…¥æ¡†å†…å®¹æ ¡éªŒç­‰æ“ä½œæ—¶ï¼Œå¦‚æœäº‹ä»¶å¤„ç†å‡½æ•°è°ƒç”¨çš„é¢‘ç‡æ— é™åˆ¶ï¼Œä¼šäº§ç”Ÿå¤§é‡ DOM é‡ç»˜ï¼Œä½¿æµè§ˆå™¨æ€§èƒ½ä¸‹é™ï¼Œå¯¼è‡´ç”¨æˆ·ä½“éªŒéå¸¸ç³Ÿç³•ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥é‡‡ç”¨debounceï¼ˆé˜²æŠ–ï¼‰å’Œthrottleï¼ˆèŠ‚æµï¼‰çš„æ–¹å¼æ¥å‡å°‘è°ƒç”¨é¢‘ç‡ï¼ŒåŒæ—¶åˆä¸å½±å“å®é™…æ•ˆæœã€‚\nå‡½æ•°é˜²æŠ–å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰ï¼šå½“æŒç»­è§¦å‘äº‹ä»¶æ—¶ï¼Œä¸€å®šæ—¶é—´æ®µå†…æ²¡æœ‰å†è§¦å‘äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°æ‰ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœè®¾å®šçš„æ—¶é—´åˆ°æ¥ä¹‹å‰ï¼Œåˆä¸€æ¬¡è§¦å‘äº†äº‹ä»¶ï¼Œå°±é‡æ–°å¼€å§‹å»¶æ—¶ã€‚å¦‚ä¸‹å›¾ï¼ŒæŒç»­è§¦å‘scrolläº‹ä»¶æ—¶ï¼Œå¹¶ä¸æ‰§è¡Œhandleå‡½æ•°ï¼Œå½“1000æ¯«ç§’å†…æ²¡æœ‰è§¦å‘scrolläº‹ä»¶æ—¶ï¼Œæ‰ä¼šå»¶æ—¶è§¦å‘scrolläº‹ä»¶ã€‚\n\né˜²æŠ–æœ€å¸¸è§çš„ä½¿ç”¨åœºæ™¯å°±æ˜¯å¸¦æœ‰å³æ—¶æœç´¢åŠŸèƒ½çš„æ–‡æœ¬æ¡†äº†ï¼Œå¦‚æœæ¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦éƒ½è¦è¿›è¡Œä¸€æ¬¡è¯·æ±‚çš„è¯ä¼šå¤§å¤§æ‹–æ…¢æ€§èƒ½ï¼Œå› æ­¤åœ¨ç»“æŸè¾“å…¥çš„ä¸€æ®µæ—¶é—´åå†å‘èµ·è¯·æ±‚æ˜¯æ¯”è¾ƒå¸¸è§çš„é˜²æ­¢é¡µé¢æŠ–åŠ¨çš„æ–¹å¼ã€‚\n123456789function debounce(fn, wait) &#123;    var timeout = null;    return function () &#123;        timeout &amp;&amp; clearTimeout(timeout);        timeout = setTimeout(() =&gt; &#123;            fn.call(this, arguments);        &#125;, wait);    &#125;&#125;\nå‡½æ•°èŠ‚æµå‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰ï¼šå½“æŒç»­è§¦å‘äº‹ä»¶æ—¶ï¼Œä¿è¯ä¸€å®šæ—¶é—´æ®µå†…åªè°ƒç”¨ä¸€æ¬¡äº‹ä»¶å¤„ç†å‡½æ•°ã€‚èŠ‚æµé€šä¿—è§£é‡Šå°±æ¯”å¦‚æˆ‘ä»¬æ°´é¾™å¤´æ”¾æ°´ï¼Œé˜€é—¨ä¸€æ‰“å¼€ï¼Œæ°´å“—å“—çš„å¾€ä¸‹æµï¼Œç§‰ç€å‹¤ä¿­èŠ‚çº¦çš„ä¼˜è‰¯ä¼ ç»Ÿç¾å¾·ï¼Œæˆ‘ä»¬è¦æŠŠæ°´é¾™å¤´å…³å°ç‚¹ï¼Œæœ€å¥½æ˜¯å¦‚æˆ‘ä»¬å¿ƒæ„æŒ‰ç…§ä¸€å®šè§„å¾‹åœ¨æŸä¸ªæ—¶é—´é—´éš”å†…ä¸€æ»´ä¸€æ»´çš„å¾€ä¸‹æ»´ã€‚å¦‚ä¸‹å›¾ï¼ŒæŒç»­è§¦å‘scrolläº‹ä»¶æ—¶ï¼Œå¹¶ä¸ç«‹å³æ‰§è¡Œhandleå‡½æ•°ï¼Œæ¯éš”1000æ¯«ç§’æ‰ä¼šæ‰§è¡Œä¸€æ¬¡handleå‡½æ•°ã€‚\n\nèŠ‚æµæœ€å¸¸è§çš„ä½¿ç”¨åœºæ™¯å°±æ˜¯èµ„æºæ‡’åŠ è½½çš„æ—¶å€™è¦è®¡ç®—æ»šåŠ¨æ¡çš„ä½ç½®ï¼Œå¦‚æœç”¨æˆ·åå¤è§¦å‘æ»šåŠ¨æ¡ç§»åŠ¨ä¼šä½¿å¾—å¤šæ¬¡è§¦å‘è®¡ç®—ï¼Œæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨èŠ‚æµæŒ‰ä¸€å®šçš„æ—¶é—´é¢‘ç‡è·å–æ»šåŠ¨æ¡ä½ç½®ã€‚æˆ–è€…åœ¨ç”¨æˆ·æäº¤çš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨å·²çŸ¥æ¥å£å¤§è‡´è¿”å›æ—¶é—´çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨èŠ‚æµé™åˆ¶ç”¨æˆ·çš„è¯·æ±‚é¢‘ç‡ã€‚äº‹ä»¶çš„é‡å¤è§¦å‘å¹¶ä¸ä¼šä½¿å¾—å‡½æ•°å½»åº•åœæ­¢è§¦å‘ï¼Œè€Œæ˜¯è®©å…¶æŒ‰ç…§ç»™å®šçš„æ—¶é—´è§¦å‘ã€‚\n12345678910111213// èŠ‚æµå‡½æ•°function throttle(fn, wait) &#123;    let canRun = true;    return function() &#123;        if (!canRun) return;        // è¿™å¥è¯æ˜¯ç”¨æ¥é˜²æ­¢å¤šæ¬¡é‡å¤è§¦å‘çš„å…³é”®        canRun = false;        setTimeout(() =&gt; &#123;            fn.call(this, arguments);            canRun = true;        &#125;, wait);    &#125;&#125;\nReferenceJSçš„é˜²æŠ–ä¸èŠ‚æµ2019 é¢è¯•å‡†å¤‡ - JS é˜²æŠ–ä¸èŠ‚æµ - æ˜é‡‘\n","plink":"https://xkeith.space/post/arc-16/"},{"title":"å¦‚ä½•æ‹¿ä¸‹å‰ç«¯é¢è¯•ï¼ˆå‡½æ•°å’Œä¸Šä¸‹æ–‡é—­åŒ…ï¼‰","date":"2019-04-11T13:11:00.000Z","updated":"2019-04-11T13:12:31.545Z","content":"\nå‡½æ•°å£°æ˜\nä¸¤ç§å£°æ˜æ–¹å¼ï¼Œä¸åŒæ–¹å¼ä¼šå½±å“å‡½æ•°çš„å®é™…å£°æ˜æ—¶é—´ï¼Œä»è€Œå½±å“å‡½æ•°çš„å¯æ‰§è¡Œæ—¶é—´  \n\nåªæœ‰é€šè¿‡å‡½æ•°è¡¨è¾¾å¼å£°æ˜çš„å‡½æ•°æ‰ä¼šè¢«æåˆ°æœ€å‰ï¼Œè€Œä¸”æ¯”å˜é‡å£°æ˜æå‰æ‹¥æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ï¼Œä¼šæåˆ°æœ€æœ€æœ€å‰é¢ã€‚\né€šè¿‡è¡¨è¾¾å¼å£°æ˜çš„å‡½æ•°ï¼Œåªä¼šå‘ç”Ÿå˜é‡æå‰ï¼Œå‡½æ•°å®šä¹‰åŸåœ°ä¸å˜ã€‚ä½¿ç”¨æ„é€ å‡½æ•°å£°æ˜çš„å‡½æ•°ä¹Ÿä¸€æ ·ï¼\nä¼šä¸€é“é¢˜å°±æ‡‚äº†\n123456789console.log(a)\t                //?a();\t\t\t\t//?var a =3;function a()&#123;   console.log(10);&#125;console.log(a);\t                //?a = 6;a();\t\t\t\t//?\nå‡½æ•°è°ƒç”¨å‡½æ•°å½¢å¼è°ƒç”¨\næ ¹æ® ECMAScript 3 å’Œéä¸¥æ ¼çš„ ECMAScript 5 å¯¹å‡½æ•°è°ƒç”¨çš„è§„å®šï¼Œè°ƒç”¨ä¸Šä¸‹æ–‡(this) çš„å€¼æ˜¯å…¨å±€å¯¹è±¡ï¼Œç„¶è€Œï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthis çš„å€¼æ˜¯ undefinedã€‚  \n\n12// å®šä¹‰å¹¶è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥ç¡®å®šå½“å‰è„šæœ¬è¿è¡Œæ—¶æ˜¯å¦ä¸ºä¸¥æ ¼æ¨¡å¼var strict = (function()&#123;return !this;&#125;)\nä½œä¸ºæ–¹æ³•è°ƒç”¨\nä½œä¸ºæ–¹æ³•è°ƒç”¨çš„å‡½æ•°ä¸æ™®é€šè°ƒç”¨çš„å‡½æ•°æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åŒºåˆ«ï¼Œè°ƒç”¨ä¸Šä¸‹æ–‡ä¸åŒï¼Œè°ƒç”¨æ–¹æ³•çš„å¯¹è±¡æˆä¸ºå‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ this è·å¾—è¿™ä¸ªå¯¹è±¡ã€‚  \n\nå’Œå˜é‡ä¸åŒï¼Œå…³é”®å­— this æ²¡æœ‰ä½œç”¨åŸŸçš„é™åˆ¶ï¼ŒåµŒå¥—çš„å‡½æ•°ä¸ä¼šä»è°ƒç”¨ä»–çš„å‡½æ•°ä¸­ç»§æ‰¿ thisï¼Œå¦‚æœåµŒå¥—å‡½æ•°ä½œä¸ºæ–¹æ³•è°ƒç”¨ï¼Œå…¶this çš„å€¼æŒ‡å‘è°ƒç”¨ä»–çš„å¯¹è±¡ã€‚å¦‚æœåµŒå¥—å‡½æ•°ä½œä¸ºå‡½æ•°è°ƒç”¨ï¼Œå…¶ this å€¼ä¸æ˜¯å…¨å±€å¯¹è±¡å°±æ˜¯ undefined ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰\nå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¸Œæœ›åœ¨åµŒå¥—å‡½æ•°ä¸­çš„ this ä¹Ÿèƒ½æŒ‡å‘è°ƒç”¨å¤–å±‚å‡½æ•°æ—¶å€™çš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸¸å¸¸æŠŠè¿™ä¸ª this å€¼ä¿å­˜åœ¨å¦å¤–ä¸€ä¸ªå˜é‡ä¸­ã€‚\n123456789101112var o = &#123;    m: function() &#123;        var self = this;        console.log(this === o); *// =&gt; true*        f();        function f() &#123;            console.log(this === o); *// =&gt; false*            console.log(self === o); *// =&gt; true*        &#125;    &#125;&#125;\nä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨å¦‚æœå‡½æ•°æˆ–è€…æ–¹æ³•è°ƒç”¨ä¹‹å‰æœ‰å…³é”®å­— new ï¼Œä»–å°±æ„æˆå‡½æ•°è°ƒç”¨ã€‚æ„é€ å‡½æ•°è°ƒç”¨å’Œæ™®é€šçš„å‡½æ•°è°ƒç”¨ä»¥åŠæ–¹æ³•è°ƒç”¨åœ¨å®å‚å¤„ç†ï¼Œè°ƒç”¨ä¸Šä¸‹æ–‡å’Œè¿”å›å€¼éƒ½ä¸åŒã€‚\næ„é€ å‡½æ•°è°ƒç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ç»§æ‰¿è‡ªæ„é€ å‡½æ•°çš„ prototype å±æ€§ã€‚æ„é€ å‡½æ•°è¯•å›¾åˆå§‹åŒ–è¿™ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œå¹¶å°†è¿™ä¸ªå¯¹è±¡ç”¨åšå…¶è°ƒç”¨ä¸Šä¸‹æ–‡ï¼Œå› æ­¤æ„é€ å‡½æ•°å¯ä»¥ä½¿ç”¨ this å…³é”®å­—æ¥å¼•ç”¨è¿™ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ã€‚\næ³¨æ„ï¼Œå°½ç®¡æ„é€ å‡½æ•°çœ‹èµ·æ¥åƒä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œä»–ä¾ç„¶ä¼šä½¿ç”¨è¿™ä¸ªæ–°å¯¹è±¡ä½œä¸ºè°ƒç”¨ä¸Šä¸‹æ–‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¡¨è¾¾å¼ new o.m() ä¸­ï¼Œè°ƒç”¨ä¸Šä¸‹æ–‡å¹¶ä¸æ˜¯ oã€‚\né€šè¿‡ä»–ä»¬çš„ call() å’Œ apply() æ–¹æ³•è°ƒç”¨call ä¼ å…¥çš„æ˜¯å‚æ•°åˆ—è¡¨ï¼Œapply ä¼ å…¥çš„æ˜¯å‚æ•°æ•°ç»„ã€‚\nå‡½æ•°å‚æ•°å¯é€‰å½¢å‚12345678910*// å¯é€‰å‚æ•°**// å°†å¯¹è±¡ o ä¸­å¯æšä¸¾çš„å±æ€§åè¿½åŠ åˆ°æ•°ç»„ a ä¸­ï¼Œå¹¶è¿”å›è¿™ä¸ªæ•°ç»„ a**// å¦‚æœçœç•¥ a ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„å¹¶è¿”å›è¿™ä¸ªæ–°æ•°ç»„*function getPropertyNames(o, /* optional */ a) &#123;    a = a || [];    for(var property in o) &#123;        a.push(property);    &#125;    return a;&#125;\nå¯å˜é•¿å‚æ•°123456789*// å¯å˜é•¿å‚æ•°*function max (/* ... */) &#123;    var max = Number.NEGATIVE_INFINITY;    for (var i = 0; i &lt; arguments.length; i++) &#123;        if (arguments[i] &gt; max) max = arguments[i];    &#125;    return max;&#125;\né—­åŒ…ä½œç”¨åŸŸé“¾JavaScript æ˜¯åŸºäºè¯æ³•ä½œç”¨åŸŸçš„è¯­è¨€ã€‚åœ¨ JavaScript çš„æœ€é¡¶å±‚ä»£ç ä¸­ï¼ˆä¹Ÿå°±æ˜¯ä¸åŒ…å«åœ¨ä»»ä½•å‡½æ•°å®šä¹‰å†…çš„ä»£ç ï¼‰ï¼Œä½œç”¨åŸŸé“¾ç”±ä¸€ä¸ªå…¨å±€å¯¹è±¡ç»„æˆï¼Œåœ¨ä¸åŒ…å«åµŒå¥—çš„å‡½æ•°ä½“å†…ï¼Œä½œç”¨åŸŸé“¾ä¸Šæœ‰ä¸¤ä¸ªå¯¹è±¡ï¼Œç¬¬ä¸€ä¸ªæ˜¯å®šä¹‰å‡½æ•°å‚æ•°å’Œå±€éƒ¨å˜é‡çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯å…¨å±€å¯¹è±¡ã€‚åœ¨ä¸€ä¸ªåµŒå¥—çš„å‡½æ•°ä½“å†…ï¼Œä½œç”¨åŸŸé“¾ä¸Šè‡³å°‘æœ‰ä¸‰ä¸ªå¯¹è±¡å½“å®šä¹‰ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒå®é™…ä¸Šä¿å­˜ä¸€ä¸ªä½œç”¨åŸŸé“¾ï¼Œå½“è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æ¥å­˜å‚¨ä»–çš„å±€éƒ¨å˜é‡ï¼Œå¹¶å°†è¿™ä¸ªå¯¹è±¡æ·»åŠ è‡³ä¿å­˜çš„é‚£ä¸ªä½œç”¨åŸŸé“¾ä¸Šï¼ŒåŒæ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ›´é•¿çš„è¡¨ç¤ºå‡½æ•°è°ƒç”¨ä½œç”¨åŸŸçš„é“¾ã€‚å¯¹äºåµŒå¥—å‡½æ•°æ¥è¯´ï¼Œæ¯æ¬¡è°ƒç”¨å¤–éƒ¨å‡½æ•°æ—¶ï¼Œå†…éƒ¨å‡½æ•°åˆä¼šé‡æ–°å®šä¹‰ä¸€éï¼Œå› ä¸ºæ¯æ¬¡è°ƒç”¨å¤–éƒ¨å‡½æ•°çš„æ—¶å€™ï¼Œä½œç”¨åŸŸé“¾éƒ½æ˜¯ä¸åŒçš„ã€‚å†…éƒ¨å‡½æ•°åœ¨æ¯æ¬¡å®šä¹‰çš„æ—¶å€™éƒ½æœ‰å¾®å¦™çš„å·®åˆ«ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨å¤–éƒ¨å‡½æ•°æ—¶ï¼Œå†…éƒ¨å‡½æ•°çš„ä»£ç éƒ½æ˜¯ä¸ç›¸åŒçš„ï¼Œè€Œä¸”å…³è”è¿™æ®µä»£ç çš„ä½œç”¨åŸŸé“¾ä¹Ÿä¸ç›¸åŒã€‚\né—­åŒ…\nå‡½æ•°å¯¹è±¡å¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾ç›¸äº’å…³è”èµ·æ¥ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„å˜é‡éƒ½å¯ä»¥ä¿å­˜åœ¨å‡½æ•°ä½œç”¨åŸŸå†…ï¼Œè¿™ç§ç‰¹æ€§åœ¨è®¡ç®—æœºç§‘å­¦æ–‡çŒ®ä¸­æˆä¸ºé—­åŒ…ã€‚  \n\nä»æŠ€æœ¯çš„è§’åº¦è®²ï¼Œæ‰€æœ‰çš„ JavaScript å‡½æ•°éƒ½æ˜¯é—­åŒ…ã€‚ä»–ä»¬éƒ½æ˜¯å¯¹è±¡ï¼Œä»–ä»¬éƒ½å…³è”åˆ°ä½œç”¨åŸŸé“¾ã€‚å‡½æ•°çš„æ‰§è¡Œä¾èµ–äºå˜é‡ä½œç”¨åŸŸï¼Œè¿™ä¸ªä½œç”¨åŸŸæ˜¯å‡½æ•°è¢«å®šä¹‰çš„æ—¶å€™å†³å®šçš„ï¼Œè€Œä¸æ˜¯å‡½æ•°è°ƒç”¨æ—¶å†³å®šçš„ã€‚å½“è°ƒç”¨å‡½æ•°æ—¶é—­åŒ…æ‰€æŒ‡å‘çš„ä½œç”¨åŸŸé“¾å’Œå®šä¹‰å‡½æ•°æ—¶å€™çš„ä½œç”¨åŸŸé“¾ä¸æ˜¯åŒä¸€ä¸ªä½œç”¨åŸŸé“¾çš„æ—¶å€™ï¼Œäº‹æƒ…å°±å˜å¾—éå¸¸å¾®å¦™ã€‚å½“ä¸€ä¸ªå‡½æ•°åµŒå¥—äº†ä¸€ä¸ªå‡½æ•°ï¼Œå¤–éƒ¨å‡½æ•°å°†åµŒå¥—çš„å‡½æ•°å¯¹è±¡ä½œä¸ºè¿”å›å€¼è¿”å›çš„æ—¶å€™ï¼Œé—­åŒ…çš„ä½œç”¨å°±æ˜¾ç°å‡ºæ¥äº†\næˆ‘ä»¬å°†ä½œç”¨åŸŸé“¾æè¿°ä¸ºä¸€ä¸ªå¯¹è±¡åˆ—è¡¨ï¼Œä¸æ˜¯ç»‘å®šçš„æ ˆã€‚æ¯æ¬¡è°ƒç”¨ JavaScript å‡½æ•°çš„æ—¶å€™ï¼Œéƒ½ä¼šä¸ºä¹‹åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ç”¨æ¥ä¿å­˜å±€éƒ¨å˜é‡ï¼ŒæŠŠè¿™ä¸ªå¯¹è±¡æ·»åŠ è‡³ä½œç”¨åŸŸé“¾ä¸­ã€‚å½“å‡½æ•°è¿”å›çš„æ—¶å€™ï¼Œå°±ä»ä½œç”¨åŸŸé“¾ä¸­å°†è¿™ä¸ªç»‘å®šå˜é‡çš„å¯¹è±¡åˆ é™¤ã€‚å¦‚æœä¸å­˜åœ¨åµŒå¥—çš„å‡½æ•°ï¼Œä¹Ÿæ²¡æœ‰å…¶ä»–å¼•ç”¨æŒ‡å‘è¿™ä¸ªç»‘å®šå¯¹è±¡ï¼Œä»–å°±ä¼šè¢«å½“ä½œåƒåœ¾å›æ”¶æ‰ã€‚å¦‚æœå®šä¹‰äº†åµŒå¥—çš„å‡½æ•°ï¼Œæ¯ä¸ªåµŒå¥—çš„å‡½æ•°å„è‡ªå¯¹åº”ä¸€ä¸ªä½œç”¨åŸŸé“¾ï¼Œå¹¶ä¸”è¿™ä¸ªä½œç”¨åŸŸé“¾æŒ‡å‘ä¸€ä¸ªå˜é‡ç»‘å®šå¯¹è±¡ã€‚å¦‚æœè¿™äº›åµŒå¥—çš„å‡½æ•°å¯¹è±¡åœ¨å¤–éƒ¨å‡½æ•°ä¸­ä¿å­˜ä¸‹æ¥ï¼Œé‚£ä¹ˆä»–ä»¬ä¹Ÿä¼šå’Œæ‰€æŒ‡å‘çš„å˜é‡ç»‘å®šå¯¹è±¡ä¸€æ ·å½“ä½œåƒåœ¾å›æ”¶ã€‚ä½†æ˜¯å¦‚æœè¿™ä¸ªå‡½æ•°å®šä¹‰äº†åµŒå¥—çš„å‡½æ•°ï¼Œå¹¶å°†å®ƒä½œä¸ºè¿”å›å€¼è¿”å›æˆ–è€…å­˜å‚¨åœ¨æŸå¤„çš„å†…å­˜ä¸­ï¼Œè¿™æ—¶å°±ä¼šæœ‰ä¸€ä¸ªå¤–éƒ¨å¼•ç”¨æŒ‡å‘è¿™ä¸ªåµŒå¥—çš„å‡½æ•°ã€‚ä»–å°±ä¸ä¼šè¢«å½“ä½œåƒåœ¾å›æ”¶ï¼Œå¹¶ä¸”ä»–æŒ‡å‘çš„å˜é‡ç»‘å®šå¯¹è±¡ä¹Ÿä¸ä¼šè¢«å½“ä½œåƒåœ¾å›æ”¶ã€‚\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// å­˜å–å™¨æ–¹æ³•æ”¹å†™function counter(n) &#123;    return &#123;        get count() &#123;            return n++;        &#125;,        set count(m) &#123;            if (m &gt;= n) n = m;            else throw Error(\"count can only be set to a larget value\");        &#125;    &#125;&#125;// è¿­ä»£function addPrivateProperty(o, name, predicate) &#123;    var value;    o[\"get\" + name] = function()&#123;return value;&#125;;    o[\"set\" + name] = function(v) &#123;        if(predicate &amp;&amp; !predicate(v)) &#123;            throw Error(`set + $&#123;name&#125; + é”™å•¦ $&#123;v&#125;`);        &#125;        else &#123;            value = v;        &#125;    &#125;&#125;var o = &#123;&#125;;addPrivateProperty(o, \"Name\", (x) =&gt; &#123;return typeof x == \"string\"&#125;);o.setName(\"fuck\");console.log(o.getName());o.setName(o);// é˜²æ­¢é—­åŒ…ä¸­çš„å˜é‡çš„ä¸æ°å½“å…±äº«function constfunc(v) &#123;return () =&gt; &#123;return v&#125;&#125;;var funcs = [];for (var i = 0; i &lt; 10; i++) &#123;    funcs[i] = constfunc(i);&#125;console.log(funcs[5]());// å°½é‡é¿å…åœ¨å¾ªç¯ä¸­ä½¿ç”¨é—­åŒ…ï¼Œå¯èƒ½ä¼šäº§ç”Ÿé—­åŒ…ä¸­å˜é‡çš„é”™è¯¯å…±äº«*// ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­ 10 ä¸ªé—­åŒ…å…±äº«åŒä¸€ä¸ªå˜é‡*function constfuncs() &#123;    var funcs = [];    for (var i = 0; i &lt; 10; i++)&#123;        // æœ€åä¸€ä¸ªé—­åŒ…å°†å˜é‡ i æ”¹ä¸º10ï¼Œå› æ­¤æ‰€æœ‰çš„é—­åŒ…ä¸­çš„å˜é‡éƒ½ä¼šè·Ÿç€æ”¹å˜.        funcs[i] = function() &#123;return i;&#125;;    &#125;    return funcs;&#125;var funcs = constfuncs();console.log(funcs[5]());\nå‡½æ•°å±æ€§ï¼Œæ–¹æ³•ï¼Œæ„é€ å‡½æ•°lengthå‡½æ•°å±æ€§ä¸­çš„ length ä»£è¡¨ç€å‡½æ•°å½¢å‚çš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°å¸Œæœ›å¾—åˆ°çš„å‚æ•°æ•°é‡ã€‚\nbind() æ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839// bind()function f(y) &#123;    return this.x + y;&#125;var o = &#123; x: 1 &#125;;var g = f.bind(o);g(2); // =&gt; 3// æ‰‹å†™ä¸€ä¸ª bind()function bind(f, o) &#123;    if (f.bind) return f.bind(o);    else        return function() &#123;            return f.apply(o, arguments);        &#125;;&#125;// æŸ¯é‡ŒåŒ– bind()const bind = function(o /*, args */) &#123;    var self = this,        boundArgs = arguments;    return function() &#123;        var args = [],            i;        // ä¿å­˜ bind æ—¶çš„å‚æ•°åˆ—è¡¨, æŸ¯é‡ŒåŒ–å‚æ•°ç»‘å®š        for (i = 1; i &lt; boundArgs.length; i++) &#123;            args.push(boundArgs[i]);        &#125;        // ä¿å­˜è¿”å›å€¼è°ƒç”¨æ—¶çš„å‚æ•°åˆ—è¡¨        for (i = 0; i &lt; arguments.length; i++) &#123;            args.push(arguments[i]);        &#125;        // å°† self ä½œä¸º o çš„æ–¹æ³•æ¥è°ƒç”¨ï¼Œä¼ å…¥å®å‚        return self.apply(o, args);    &#125;;&#125;;\nå‡½æ•°å¼ç¼–ç¨‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546// 5. å‡½æ•°å¼ç¼–ç¨‹var sum = (x, y) =&gt; &#123;return x + y;&#125;;var square = (x) =&gt; &#123;return x * x;&#125;;var data = [1,1,3,5,5];var mean = data.reduce(sum) / data.length;var deviations = data.map((x) =&gt; &#123;return x - mean&#125;);var stddev = Math.sqrt(deviations.map(square).reduce(sum) / data.length - 1);// æ‰‹å†™ä¸€ä¸ª mapvar data = [1, 1, 3, 5, 5];var myMap = Array.prototype.map ? (a, f) =&gt; &#123;return a.map(f);&#125; : (a, f) =&gt; &#123;    var results = [];    for (var i = 0, len = a.length; i &lt; len; i++) &#123;        if (i in a) results[i] = f.call(null, a[i], i, a);    &#125;    return results;&#125;// æ‰‹å†™ä¸€ä¸ª reducevar myReduce = (a, f, initial) =&gt; &#123;    var i = 0, len = a.length, accumulator;    if (arguments.length &gt; 2) accumulator = initial;    else &#123;        if (len == 0) throw TypeError();        while (i &lt; len) &#123;            if (i in a) &#123;                accumulator = a[i++];                break;            &#125;            else i++;        &#125;        // æ•°ç»„ä¸­æ²¡æœ‰å·²ç»å®šä¹‰çš„å…ƒç´         if (i == len) throw TypeError();    &#125;    while (i &lt; len) &#123;        if (i in a) &#123;            // å‚ä¸è¿ç®—çš„ä¸¤ä¸ªå‚æ•°æ˜¯ accumulator å’Œ ä¸‹ä¸€ä¸ª a[i]            accumulator = f.call(null, accumulator, a[i], i, a);        &#125;        i++;    &#125;    return accumulator;&#125;\nReferenceã€JSç‚¹æ»´ã€‘å£°æ˜æå‰ï¼Œå˜é‡å£°æ˜æå‰ï¼Œå‡½æ•°å£°æ˜æå‰ï¼Œå£°æ˜æå‰çš„å…ˆåé¡ºåº - å¬é£æ˜¯é£ - åšå®¢å›­\n","plink":"https://xkeith.space/post/arc-15/"},{"title":"ä» URL åˆ°æ˜¾ç¤ºç½‘é¡µåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼ˆå‰ç«¯æ»¡åˆ†å›ç­”è€ƒè™‘ç¼“å­˜å­˜åœ¨æ— æ•Œç»ˆæç‰ˆæœ¬ï¼‰","date":"2019-04-09T03:14:54.000Z","updated":"2019-04-09T03:17:47.520Z","content":"\nä¸»è¦æµç¨‹\nè¾“å…¥ URL å¹¶é€šè¿‡ DNS è§£æå¾—åˆ° IP åœ°å€\né€šè¿‡ ARP ç”¨ IP åœ°å€æ‰¾åˆ° MAC åœ°å€\né€šè¿‡ MAC å’Œ TCP ä¸‰æ¬¡æ¡æ‰‹ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥\nå¦‚æœä½¿ç”¨ HTTPS å‘é€æ•°æ®å‰éœ€è¦è¿›è¡Œ SSL æ¡æ‰‹ï¼ŒåŒæ—¶å¯¹æ•°æ®è¿›è¡Œ SSL åŠ å¯†\nä½¿ç”¨ HTTP / HTTPS å‘é€è¯·æ±‚æŠ¥æ–‡\næœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œå¹¶å¯¹è¯·æ±‚ä½œå‡ºç›¸åº”ï¼Œè¿”å›å“åº”æŠ¥æ–‡ï¼ˆå¯èƒ½ä¼šå‘ç”Ÿé‡å®šå‘å“¦ï¼‰\næµè§ˆå™¨æ”¶åˆ°å“åº”ï¼Œå¼€å§‹æ¸²æŸ“ç½‘é¡µ\nhtmlè§£æ -&gt; å¤–éƒ¨æ ·å¼ã€è„šæœ¬åŠ è½½ -&gt; å¤–éƒ¨æ ·å¼æ‰§è¡Œ -&gt; å¤–éƒ¨è„šæœ¬æ‰§è¡Œ -&gt; htmlç»§ç»­è§£æ -&gt; domæ ‘æ„å»ºå®Œæˆ -&gt; åŠ è½½å›¾ç‰‡ -&gt; é¡µé¢åŠ è½½å®Œæˆ\nå¼‚æ­¥è„šæœ¬å¯èƒ½è¿˜ä¼šç»§ç»­å‘èµ·è¯·æ±‚\n\nåœ°å€æ ç½‘å€ç¼“å­˜è¾“å…¥ç½‘å€çš„å‰å‡ ä¸ªå­—æ¯æµè§ˆå™¨å¯èƒ½ä¼šè§¦å‘è‡ªåŠ¨è¡¥å…¨ï¼Œæ­¤æ—¶ç½‘é¡µçš„é™æ€èµ„æºä¹Ÿæ˜¯ä¿å­˜åœ¨æµè§ˆå™¨ç¼“å­˜ä¸­çš„ï¼Œæ­¤æ—¶æˆ‘ä»¬çš„éƒ¨åˆ†è¯·æ±‚å¹¶ä¸ä¼šå‘é€åˆ°æœåŠ¡å™¨ï¼Œè€Œæ˜¯ç›´æ¥ä»ç¼“å­˜ä¸­å–å¾—ï¼ŒçŠ¶æ€ç æ˜¯ï¼š\n200 OK (from disk cache)\næ£€æŸ¥ HSTS é¢„åŠ è½½åˆ—è¡¨\nHSTSï¼ˆ HTTP Strict Transport Security ï¼‰å›½é™…äº’è”ç½‘å·¥ç¨‹ç»„ç»‡ IETE æ­£åœ¨æ¨è¡Œä¸€ç§æ–°çš„ Web å®‰å…¨åè®®ï¼Œä½œç”¨æ˜¯å¼ºåˆ¶å®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰ä½¿ç”¨ HTTPS ä¸æœåŠ¡å™¨åˆ›å»ºè¿æ¥ã€‚  \n\n307 Internal Redirectè¿™ä¸ªç‰¹æ®Šçš„é‡å®šå‘å¾€å¾€å‡ºç°åœ¨è¿™ä¸ªæ—¶å€™ã€‚ä¸€å¥è¯æ¥è¯´å°±æ˜¯å­˜åœ¨äº HSTS é¢„åŠ è½½åˆ—è¡¨çš„ç½‘å€è¦æ±‚æµè§ˆå™¨åªä½¿ç”¨ HTTPS å»ºç«‹è¿æ¥ï¼Œä»–ä¼šæŠŠä½ è¾“å…¥çš„ HTTP URL é‡å®šå‘åˆ° HTTPS åè®®çš„ URL ã€‚è€Œä¸æ”¯æŒ HSTS çš„ç½‘ç«™åˆ™ä¸ä¼šå‘ç”Ÿé‡å®šå‘ã€‚\nDNS ç¼“å­˜è¾“å…¥ URL å¹¶å›è½¦åï¼ŒåŸŸåè§£æå°±å¼€å§‹äº†ï¼Œæ­¤æ—¶æœ€å°‘æ¶‰åŠä¸‰ä¸ªåœ°æ–¹çš„ç¼“å­˜ã€‚\n\næµè§ˆå™¨çš„ DNS ç¼“å­˜\næ“ä½œç³»ç»Ÿä¸­çš„ DNS ç¼“å­˜\nhosts æ–‡ä»¶ä¸­çš„ç¼“å­˜ï¼Œå¯ä»¥æ‰‹åŠ¨å†™å…¥çš„ç¼“å­˜\n\nåŸŸåè§£æè¿‡ç¨‹\n\næµè§ˆå™¨æœç´¢è‡ªå·±çš„ DNS ç¼“å­˜ï¼ˆæµè§ˆå™¨ç»´æŠ¤ä¸€å¼ åŸŸåä¸ IP åœ°å€çš„å¯¹åº”è¡¨ï¼‰ï¼›å¦‚æœæ²¡æœ‰å‘½ä¸­ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ï¼›\næœç´¢æ“ä½œç³»ç»Ÿä¸­çš„ DNS ç¼“å­˜ï¼›å¦‚æœæ²¡æœ‰å‘½ä¸­ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ï¼›\næœç´¢æ“ä½œç³»ç»Ÿçš„ hosts æ–‡ä»¶ï¼ˆ Windows ç¯å¢ƒä¸‹ï¼Œç»´æŠ¤ä¸€å¼ åŸŸåä¸ IP åœ°å€çš„å¯¹åº”è¡¨ï¼‰ï¼›å¦‚æœæ²¡æœ‰å‘½ä¸­ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ï¼›\næ“ä½œç³»ç»Ÿå°†åŸŸåå‘é€è‡³ LDNS ï¼ˆæœ¬åœ°åŒºåŸŸåæœåŠ¡å™¨ï¼‰ï¼ŒLDNS æŸ¥è¯¢è‡ªå·±çš„ DNS ç¼“å­˜ï¼ˆä¸€èˆ¬å‘½ä¸­ç‡åœ¨ 80% å·¦å³ï¼‰ï¼ŒæŸ¥æ‰¾æˆåŠŸåˆ™è¿”å›ç»“æœï¼Œå¤±è´¥åˆ™å‘èµ·ä¸€ä¸ªè¿­ä»£ DNS è§£æè¯·æ±‚ï¼š\nLDNSå‘ Root Name Serverï¼ˆæ ¹åŸŸåæœåŠ¡å™¨ï¼Œå¦‚comã€netã€im ç­‰çš„é¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€ï¼‰å‘èµ·è¯·æ±‚ï¼Œæ­¤å¤„ï¼ŒRoot Name Server è¿”å› im åŸŸçš„é¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€ï¼›\nLDNS å‘ im åŸŸçš„é¡¶çº§åŸŸåæœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œè¿”å› juejin.im åŸŸåæœåŠ¡å™¨åœ°å€ï¼›\nLDNS å‘ juejin.im åŸŸåæœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå¾—åˆ° juejin.im çš„ IP åœ°å€ï¼›\nLDNS å°†å¾—åˆ°çš„ IP åœ°å€è¿”å›ç»™æ“ä½œç³»ç»Ÿï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå°† IP åœ°å€ç¼“å­˜èµ·æ¥ï¼›æ“ä½œç³»ç»Ÿå°† IP åœ°å€è¿”å›ç»™æµè§ˆå™¨ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå°† IP åœ°å€ç¼“å­˜èµ·æ¥ã€‚\n\nDNS PrefetchDNS é¢„è·å–ï¼Œæ˜¯å‰ç«¯ä¼˜åŒ–çš„ä¸€éƒ¨åˆ†ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä¼˜åŒ– DNS ä¸»è¦æ˜¯ä»¥ä¸‹ä¸¤ç‚¹ï¼š\n\nå‡å°‘ DNS è¯·æ±‚æ¬¡æ•°\nè¿›è¡Œ DNS é¢„è·å–\n\nå…¸å‹çš„ä¸€æ¬¡ DNS è§£æéœ€è¦è€—è´¹ 20-120 æ¯«ç§’ï¼Œå‡å°‘DNSè§£ææ—¶é—´å’Œæ¬¡æ•°æ˜¯ä¸ªå¾ˆå¥½çš„ä¼˜åŒ–æ–¹å¼ã€‚DNS Prefetching æ˜¯è®©å…·æœ‰æ­¤å±æ€§çš„åŸŸåä¸éœ€è¦ç”¨æˆ·ç‚¹å‡»é“¾æ¥å°±åœ¨åå°è§£æï¼Œè€ŒåŸŸåè§£æå’Œå†…å®¹è½½å…¥æ˜¯ä¸²è¡Œçš„ç½‘ç»œæ“ä½œï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹å¼èƒ½å‡å°‘ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚\né—®ï¼šæµè§ˆå™¨ DNS ç¼“å­˜çš„æ—¶é—´ä¸€èˆ¬ä¸ä¼šå¤ªé•¿ï¼Œä¸€åˆ†é’Ÿå·¦å³ã€‚ä¸ºä»€ä¹ˆç¼“å­˜ä¸è®¾ç½®è¾ƒé•¿æ—¶é—´å‘¢ï¼Ÿç­”ï¼šè™½ç„¶ DNS ç¼“å­˜å¯ä»¥æé«˜è·å– DNS çš„é€Ÿåº¦ï¼Œä½†ç¼“å­˜æ—¶é—´è¿‡é•¿ä¹Ÿä¼šå½±å“ DNS åœ¨ IP å˜æ›´æ—¶ä¸èƒ½åŠæ—¶è§£æåˆ°æœ€æ–°çš„ IPã€‚\nARP ç¼“å­˜\nARP æ˜¯ä¸€ç§ç”¨ä»¥è§£é‡Šåœ°å€çš„åè®®ï¼Œæ ¹æ®é€šä¿¡æ–¹çš„ IP åœ°å€å°±å¯ä»¥åæŸ¥å‡ºå¯¹åº”æ–¹çš„ MAC åœ°å€ã€‚  \n\nARP ç¼“å­˜æ˜¯ä¸ªç”¨æ¥å‚¨å­˜ IP åœ°å€å’Œ MAC åœ°å€çš„ç¼“å†²åŒºï¼Œå…¶æœ¬è´¨å°±æ˜¯ä¸€ä¸ª IP åœ°å€ä¸ MAC åœ°å€çš„å¯¹åº”è¡¨ï¼Œè¡¨ä¸­æ¯ä¸€ä¸ªæ¡ç›®åˆ†åˆ«è®°å½•äº†å…¶ä»–ä¸»æœºçš„ IP åœ°å€å’Œå¯¹åº”çš„ MAC åœ°å€ã€‚å½“åœ°å€è§£æåè®®è¢«è¯¢é—®ä¸€ä¸ªå·²çŸ¥ IP åœ°å€èŠ‚ç‚¹çš„ MAC åœ°å€æ—¶ï¼Œå…ˆåœ¨ AR ç¼“å­˜ä¸­æŸ¥çœ‹ï¼Œè‹¥å­˜åœ¨ï¼Œå°±ç›´æ¥è¿”å›ä¸ä¹‹å¯¹åº”çš„MACåœ°å€ï¼›è‹¥ä¸å­˜åœ¨ï¼Œæ‰å‘é€ ARP è¯·æ±‚æŸ¥è¯¢ã€‚\nTCP å‘é€/æ¥æ”¶ç¼“å†²åŒºå»ºç«‹ TCP è¿æ¥è¿™ä¸€æ­¥ä¹Ÿæ¶‰åŠåˆ°ç¼“å­˜ â€”â€” ç”¨æ¥ä¸´æ—¶å­˜æ”¾åŒæ–¹é€šä¿¡çš„æ•°æ®ï¼Œä¿è¯é€šä¿¡æ•°æ®ä¸ä¼šä¸¢åŒ…ã€‚æ¯ä¸ª TCP è¿æ¥åœ¨å†…æ ¸ä¸­éƒ½æœ‰ä¸€ä¸ªå‘é€ç¼“å†²åŒºå’Œæ¥æ”¶ç¼“å†²åŒºï¼ŒTCP çš„å…¨åŒå·¥çš„å·¥ä½œæ¨¡å¼ä»¥åŠ TCP çš„æµé‡(æ‹¥å¡)æ§åˆ¶ä¾¿æ˜¯ä¾èµ–äºè¿™ä¸¤ä¸ªç‹¬ç«‹çš„ buffer ä»¥åŠ buffer çš„å¡«å……çŠ¶æ€ã€‚\nå‘é€ç¼“å†²åŒºå†…æ ¸åŸºæœ¬ä¸Šæ˜¯æŒ‰ç…§ MSSï¼ˆMaximum Segment Sizeï¼Œæœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ï¼‰ ä»ç¼“å†²åŒºä¸­å–æ•°æ®å‘é€å‡ºå»ï¼Œå½“ç¼“å†²åŒºä¸­æ•°æ®å°äº MSSï¼Œåˆ™å°†å‰©ä½™æ•°æ®å…¨éƒ¨å‘é€å‡ºå»ã€‚TCP çš„å‘é€ç¼“å†²åŒºå¿…é¡»ä¸ºå·²å‘é€çš„æ•°æ®ä¿ç•™ä¸€ä¸ªå‰¯æœ¬ï¼Œç›´åˆ°å®ƒè¢«å¯¹ç«¯ç¡®è®¤ä¸ºæ­¢ï¼Œæ‰èƒ½ä»ç¼“å†²åŒºä¸­åˆ æ‰å·²ç¡®è®¤çš„æ•°æ®ã€‚\næ¥æ”¶ç¼“å†²åŒºæ¥æ”¶ç¼“å†²åŒºæŠŠæ•°æ®ç¼“å­˜å…¥å†…æ ¸ï¼Œç­‰å¾…recv()æ–¹æ³•è¯»å–ï¼Œrecv()æ–¹æ³•æ‰€åšçš„å·¥ä½œï¼Œå°±æ˜¯æŠŠå†…æ ¸ç¼“å†²åŒºä¸­çš„æ•°æ®æ‹·è´åˆ°åº”ç”¨å±‚ç”¨æˆ·çš„bufferé‡Œé¢ï¼Œæ‹·è´åå°±åˆ æ‰å·²ç¡®è®¤çš„æ•°æ®ã€‚\nHTTP è¯·æ±‚ç¼“å­˜é¦–å…ˆè¯´ç»“è®ºï¼Œç¼“å­˜çš„è¯·æ±‚é¡ºåºå’ŒçŠ¶æ€\n\nå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜åŒæ—¶å­˜åœ¨æ—¶ï¼Œå¦‚æœå¼ºç¼“å­˜è¿˜åœ¨æœ‰æ•ˆæœŸå†…ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼ˆ200 OK from dist cacheï¼‰ï¼Œå¦‚æœå¼ºç¼“å­˜è¿‡æœŸï¼Œä½¿ç”¨åå•†ç¼“å­˜ï¼ˆ304 Not Modifiedï¼‰ã€‚\nå¼ºç¼“å­˜çš„ expires å’Œ cache-control åŒæ—¶å­˜åœ¨æ—¶ï¼Œcache-control ä¼šè¦†ç›– expiresï¼Œæ— è®ºæœ‰æ²¡æœ‰è¿‡æœŸï¼Œéƒ½æ— æ•ˆã€‚\nåå•†ç¼“å­˜çš„ Etag å’Œ Last-Modified åŒæ—¶å­˜åœ¨æ—¶ï¼Œä¼˜å…ˆæ¯”å¯¹  Etagï¼Œéšåæ‰æ¯”è¾ƒ  Last-Modified\n\nï¿¼\nå¼ºç¼“å­˜ï¼ˆCache-Control å’Œ Expiresï¼‰\nå¦‚æœé‡‡ç”¨å¼ºç¼“å­˜ï¼Œåœ¨ç¼“å­˜æœ‰æ•ˆæœŸå†…æœåŠ¡å™¨èµ„æºå‘ç”Ÿæ”¹å˜é¡µé¢æ•°æ®å¹¶ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œç¼“å­˜åªä¼šåœ¨ä¸‹æ¬¡è¿‡æœŸæ—¶æ›´æ–°\nåå•†ç¼“å­˜ï¼ˆLast-Modified å’Œ Etagï¼‰\nLast-Modified å’Œ If-Modified-Since\nå½“å®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚è¯¥èµ„æºçš„æ—¶å€™ï¼Œä¼šåœ¨å…¶è¯·æ±‚å¤´ä¸Šé™„å¸¦ä¸Š If-Modified-Since å­—æ®µï¼ˆå€¼å°±æ˜¯ç¬¬ä¸€æ¬¡è·å–è¯·æ±‚èµ„æºæ—¶å“åº”å¤´ä¸­è¿”å›çš„ Last-Modifiedå€¼ï¼‰ã€‚å¦‚æœä¿®æ”¹æ—¶é—´æœªæ”¹å˜åˆ™è¡¨æ˜èµ„æºæœªè¿‡æœŸï¼Œå‘½ä¸­ç¼“å­˜ï¼ŒæœåŠ¡å™¨å°±ç›´æ¥è¿”å› 304 çŠ¶æ€ç ï¼Œå®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨æœ¬åœ°çš„èµ„æºã€‚å¦åˆ™ï¼ŒæœåŠ¡å™¨é‡æ–°å‘é€å“åº”èµ„æºï¼Œä»è€Œä¿è¯èµ„æºçš„æœ‰æ•ˆæ€§ã€‚\nEtag å’Œ If-None-Match\nå½“å®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚è¯¥èµ„æºçš„æ—¶å€™ï¼Œä¼šåœ¨å…¶è¯·æ±‚å¤´ä¸Šé™„å¸¦ä¸Š If-None-Matchå­—æ®µï¼ˆå€¼å°±æ˜¯ç¬¬ä¸€æ¬¡è·å–è¯·æ±‚èµ„æºæ—¶å“åº”å¤´ä¸­è¿”å›çš„Etag å€¼ï¼‰ï¼Œå…¶å€¼ä¸æœåŠ¡å™¨ç«¯èµ„æºæ–‡ä»¶çš„éªŒè¯ç è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœåŒ¹é…æˆåŠŸç›´æ¥è¿”å› 304 çŠ¶æ€ç ï¼Œä»æµè§ˆå™¨æœ¬åœ°ç¼“å­˜å–èµ„æºæ–‡ä»¶ã€‚å¦‚æœä¸åŒ¹é…ï¼ŒæœåŠ¡å™¨ä¼šæŠŠæ–°çš„éªŒè¯ç æ”¾åœ¨è¯·æ±‚å¤´çš„ Etag å­—æ®µä¸­ï¼Œå¹¶ä¸”ä»¥ 200 çŠ¶æ€ç è¿”å›èµ„æºã€‚\nç›¸åŒçš„èµ„æºï¼Œåœ¨ä¸¤å°æœåŠ¡å™¨äº§ç”Ÿçš„Etagæ˜¯ä¸æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥å¯¹äºä½¿ç”¨æœåŠ¡å™¨é›†ç¾¤æ¥å¤„ç†è¯·æ±‚çš„ç½‘ç«™æ¥è¯´ï¼ŒEtagçš„åŒ¹é…æ¦‚ç‡ä¼šå¤§å¹…é™ä½ã€‚æ‰€åœ¨åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨Etagæ¥å¤„ç†ç¼“å­˜ï¼Œåè€Œä¼šæœ‰æ›´å¤§çš„å¼€é”€ã€‚\nReferenceã€å‰ç«¯è¯å…¸ã€‘ä»è¾“å…¥ URL åˆ°å±•ç°æ¶‰åŠå“ªäº›ç¼“å­˜ç¯èŠ‚(éå¸¸è¯¦ç»†) - æ˜é‡‘HTTPç¼“å­˜æœºåˆ¶åŠåŸç† - æ˜é‡‘\n","plink":"https://xkeith.space/post/arc-14/"},{"title":"å¦‚ä½•æ‹¿ä¸‹å‰ç«¯é¢è¯•ï¼ˆæ€§èƒ½ç¯‡ï¼‰","date":"2019-03-30T15:39:32.000Z","updated":"2019-03-31T09:05:33.892Z","content":"\nåŸºç¡€çŸ¥è¯†RAILChrome å›¢é˜Ÿæå‡ºäº†ä¸€ä¸ªä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„æ€§èƒ½æ¨¡å‹è¢«ç§°ä¸º RAILã€‚RAIL å°†å½±å“æ€§èƒ½çš„è¡Œä¸ºåˆ’åˆ†ä¸ºå››ä¸ªæ–¹é¢ï¼Œåˆ†åˆ«æ˜¯: Response, Animation, Idle, Loadã€‚\n\nå“åº”æµç•…çš„ç½‘é¡µå¯¹äºç”¨æˆ·çš„è¾“å…¥æ“ä½œçš„ååº”æ—¶é—´ä¸åº”è¶…è¿‡ 100msã€‚\nåŠ¨ç”»ç°å¦‚ä»Šå¤§å¤šæ•°è®¾å¤‡çš„å±å¹•åˆ·æ–°é¢‘ç‡æ˜¯60Hzï¼Œä¹Ÿå°±æ˜¯æ¯ç§’é’Ÿå±å¹•åˆ·æ–°60æ¬¡ï¼›å› æ­¤ç½‘é¡µåŠ¨ç”»çš„è¿è¡Œé€Ÿåº¦åªè¦è¾¾åˆ°60FPSï¼Œæˆ‘ä»¬å°±ä¼šè§‰å¾—åŠ¨ç”»å¾ˆæµç•…ã€‚æ¢ç®—ä¸‹æ¥æ¯ä¸€å¸§çš„æ—¶é—´æ˜¯ 16ms(1 ç§’ = 1000 æ¯«ç§’) / 60 å¸§ = 16.66 æ¯«ç§’/å¸§\nä½†é€šå¸¸æµè§ˆå™¨éœ€è¦èŠ±è´¹ä¸€äº›æ—¶é—´å°†æ¯ä¸€å¸§çš„å†…å®¹ç»˜åˆ¶åˆ°å±å¹•ä¸Šï¼ˆåŒ…æ‹¬æ ·å¼è®¡ç®—ã€å¸ƒå±€ã€ç»˜åˆ¶ã€åˆæˆç­‰å·¥ä½œï¼‰ï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬åªæœ‰10æ¯«ç§’æ¥æ‰§è¡ŒJSä»£ç ã€‚ä¸€ä¸ªè§£å†³åŠæ³•æ˜¯ä½¿ç”¨Web Workerï¼Œä¸»çº¿ç¨‹åªç”¨äºUIæ¸²æŸ“ï¼Œç„¶åè·ŸUIæ¸²æŸ“ä¸ç›¸å¹²çš„ä»»åŠ¡ï¼Œéƒ½æ”¾åœ¨Workerçº¿ç¨‹ã€‚\nç©ºé—²ä¸ºäº†æ›´å¥½çš„æ€§èƒ½ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå……åˆ†åˆ©ç”¨æµè§ˆå™¨ç©ºé—²å‘¨æœŸåšä¸€äº›ä½ä¼˜å…ˆçº§çš„äº‹æƒ…ã€‚ä¾‹å¦‚ï¼šåœ¨ç©ºé—²å‘¨æœŸé¢„è¯·æ±‚ä¸€äº›æ¥ä¸‹æ¥å¯èƒ½ä¼šç”¨åˆ°çš„æ•°æ®æˆ–ä¸ŠæŠ¥åˆ†ææ•°æ®ç­‰ã€‚\nRAILè§„å®šï¼Œç©ºé—²å‘¨æœŸå†…è¿è¡Œçš„ä»»åŠ¡ä¸å¾—è¶…è¿‡50msï¼Œå½“ç„¶ä¸æ­¢RAILè§„å®šï¼ŒW3Cæ€§èƒ½å·¥ä½œç»„çš„Longtasksæ ‡å‡†ä¹Ÿè§„å®šäº†è¶…è¿‡50æ¯«ç§’çš„ä»»åŠ¡å±äºé•¿ä»»åŠ¡ï¼Œé‚£ä¹ˆ50msè¿™ä¸ªæ•°å­—æ˜¯æ€ä¹ˆå¾—æ¥çš„å‘¢ï¼Ÿæµè§ˆå™¨æ˜¯å•çº¿ç¨‹çš„ï¼Œè¿™æ„å‘³ç€åŒä¸€æ—¶é—´ä¸»çº¿ç¨‹åªèƒ½å¤„ç†ä¸€ä¸ªä»»åŠ¡ï¼Œå¦‚æœä¸€ä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œæµè§ˆå™¨åˆ™æ— æ³•æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œç”¨æˆ·ä¼šæ„Ÿè§‰åˆ°æµè§ˆå™¨è¢«å¡æ­»äº†ï¼Œå› ä¸ºä»–çš„è¾“å…¥å¾—ä¸åˆ°ä»»ä½•å“åº”ã€‚ä¸ºäº†è¾¾åˆ°100mså†…ç»™å‡ºå“åº”ï¼Œå°†ç©ºé—²å‘¨æœŸæ‰§è¡Œçš„ä»»åŠ¡é™åˆ¶ä¸º50msæ„å‘³ç€ï¼Œå³ä½¿ç”¨æˆ·çš„è¾“å…¥è¡Œä¸ºå‘ç”Ÿåœ¨ç©ºé—²ä»»åŠ¡åˆšå¼€å§‹æ‰§è¡Œï¼Œæµè§ˆå™¨ä»æœ‰å‰©ä½™çš„50msæ—¶é—´ç”¨æ¥å“åº”ç”¨æˆ·è¾“å…¥ï¼Œè€Œä¸ä¼šäº§ç”Ÿç”¨æˆ·å¯å¯Ÿè§‰çš„å»¶è¿Ÿã€‚\n\nåŠ è½½å¦‚æœä¸èƒ½åœ¨1ç§’é’Ÿå†…åŠ è½½ç½‘é¡µå¹¶è®©ç”¨æˆ·çœ‹åˆ°å†…å®¹ï¼Œç”¨æˆ·çš„æ³¨æ„åŠ›å°±ä¼šåˆ†æ•£ã€‚ç”¨æˆ·ä¼šè§‰å¾—ä»–è¦åšçš„äº‹æƒ…è¢«æ‰“æ–­ï¼Œå¦‚æœ10ç§’é’Ÿè¿˜æ‰“ä¸å¼€ç½‘é¡µï¼Œç”¨æˆ·ä¼šæ„Ÿåˆ°å¤±æœ›ï¼Œä¼šæ”¾å¼ƒä»–ä»¬æƒ³åšçš„äº‹ï¼Œä»¥åä»–ä»¬æˆ–è®¸éƒ½ä¸ä¼šå†å›æ¥ã€‚\nç½‘é¡µç”Ÿæˆçš„è¿‡ç¨‹\nç½‘é¡µçš„ç”Ÿæˆè¿‡ç¨‹ï¼Œå¤§è‡´å¯ä»¥åˆ†æˆäº”æ­¥ã€‚\n\nHTML ä»£ç è½¬åŒ–æˆ DOMã€‚\nCSS ä»£ç è½¬åŒ–æˆ CSSOM (CSS Object Model)ã€‚\nç»“åˆ DOM å’Œ CSSOMï¼Œç”Ÿæˆä¸€é¢—æ¸²æŸ“æ ‘ã€‚\nç”Ÿæˆå¸ƒå±€ï¼Œå°†æ¸²æŸ“æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œå¹³é¢åˆæˆã€‚\nå°†å¸ƒå±€ç»˜åˆ¶åœ¨å±å¹•ä¸Šã€‚\n\näº”æ­¥ä¸­ï¼Œä¸€åˆ°ä¸‰æ­¥éƒ½éå¸¸å¿«ï¼Œè€—æ—¶çš„æ˜¯ç¬¬å››æ­¥å’Œç¬¬äº”æ­¥ã€‚ç”Ÿæˆå¸ƒå±€ï¼ˆflowï¼‰å’Œç»˜åˆ¶ï¼ˆpaintï¼‰è¿™ä¸¤æ­¥ï¼Œåˆç§°ä¸ºæ¸²æŸ“ï¼ˆrenderï¼‰ã€‚\n\né‡æ’å’Œé‡ç»˜ç½‘é¡µç”Ÿæˆçš„æ—¶å€™ï¼Œè‡³å°‘ä¼šæ¸²æŸ“ä¸€æ¬¡ã€‚ç”¨æˆ·è®¿é—®çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜ä¼šä¸æ–­é‡æ–°æ¸²æŸ“ã€‚ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼Œä¼šå¯¼è‡´ç½‘é¡µé‡æ–°æ¸²æŸ“ã€‚\n\nä¿®æ”¹DOM\nä¿®æ”¹æ ·å¼è¡¨\nç”¨æˆ·äº‹ä»¶ï¼ˆæ¯”å¦‚é¼ æ ‡æ‚¬åœã€é¡µé¢æ»šåŠ¨ã€è¾“å…¥æ¡†é”®å…¥æ–‡å­—ã€æ”¹å˜çª—å£å¤§å°ç­‰ç­‰ï¼‰\n\né‡æ–°æ¸²æŸ“ï¼Œå°±éœ€è¦é‡æ–°ç”Ÿæˆå¸ƒå±€å’Œé‡æ–°ç»˜åˆ¶ã€‚å‰è€…å«åšâ€é‡æ’â€ï¼ˆreflowï¼‰ï¼Œåè€…å«åšâ€é‡ç»˜â€ï¼ˆrepaintï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œâ€é‡ç»˜â€ä¸ä¸€å®šéœ€è¦â€é‡æ’â€ï¼Œæ¯”å¦‚æ”¹å˜æŸä¸ªç½‘é¡µå…ƒç´ çš„é¢œè‰²ï¼Œå°±åªä¼šè§¦å‘â€é‡ç»˜â€ï¼Œä¸ä¼šè§¦å‘â€é‡æ’â€ï¼Œå› ä¸ºå¸ƒå±€æ²¡æœ‰æ”¹å˜ã€‚ä½†æ˜¯ï¼Œâ€é‡æ’â€å¿…ç„¶å¯¼è‡´â€é‡ç»˜â€ï¼Œæ¯”å¦‚æ”¹å˜ä¸€ä¸ªç½‘é¡µå…ƒç´ çš„ä½ç½®ï¼Œå°±ä¼šåŒæ—¶è§¦å‘â€é‡æ’â€å’Œâ€é‡ç»˜â€ï¼Œå› ä¸ºå¸ƒå±€æ”¹å˜äº†ã€‚\nè§¦å‘é‡æ’çš„å±æ€§ï¼š123456781.ç›’å­æ¨¡å‹ç›¸å…³å±æ€§ï¼š width ,height ,padding ,margin ,display ,border-width ,border2.å®šä½å±æ€§åŠæµ®åŠ¨ï¼š top ,bottom ,left ,right ,position ,float ,clear3.æ”¹å˜èŠ‚ç‚¹å†…éƒ¨æ–‡å­—ç»“æ„ï¼štext-align, overflow-y ,font-weight ,overflow, font-family, line-height, vertival-align ,white-space,font-size\nè§¦å‘é‡ç»˜çš„å±æ€§ï¼š123color,border-style,border-radius ,visibility,text-decoration ,background ,background-image ,background-position ,background-repeat,background-size ,outline-color ,outline ,outline-style ,outline-width ,box-shadow\nå¸¸è§æ€§èƒ½æ¼æ´é¿å…é‡ç»˜é‡æ’å’Œé‡ç»˜ä¼šä¸æ–­è§¦å‘ï¼Œè¿™æ˜¯ä¸å¯é¿å…çš„ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬éå¸¸è€—è´¹èµ„æºï¼Œæ˜¯å¯¼è‡´ç½‘é¡µæ€§èƒ½ä½ä¸‹çš„æ ¹æœ¬åŸå› ã€‚æé«˜ç½‘é¡µæ€§èƒ½ï¼Œå°±æ˜¯è¦é™ä½â€é‡æ’â€å’Œâ€é‡ç»˜â€çš„é¢‘ç‡å’Œæˆæœ¬ï¼Œå°½é‡å°‘è§¦å‘é‡æ–°æ¸²æŸ“ã€‚å‰é¢æåˆ°ï¼ŒDOMå˜åŠ¨å’Œæ ·å¼å˜åŠ¨ï¼Œéƒ½ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ã€‚ä½†æ˜¯ï¼Œæµè§ˆå™¨å·²ç»å¾ˆæ™ºèƒ½äº†ï¼Œä¼šå°½é‡æŠŠæ‰€æœ‰çš„å˜åŠ¨é›†ä¸­åœ¨ä¸€èµ·ï¼Œæ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åä¸€æ¬¡æ€§æ‰§è¡Œï¼Œå°½é‡é¿å…å¤šæ¬¡é‡æ–°æ¸²æŸ“ã€‚\n12div.style.color = 'blue';div.style.marginTop = '30px';\nä¸Šé¢ä»£ç ä¸­ï¼Œdivå…ƒç´ æœ‰ä¸¤ä¸ªæ ·å¼å˜åŠ¨ï¼Œä½†æ˜¯æµè§ˆå™¨åªä¼šè§¦å‘ä¸€æ¬¡é‡æ’å’Œé‡ç»˜ã€‚å¦‚æœå†™å¾—ä¸å¥½ï¼Œå°±ä¼šè§¦å‘ä¸¤æ¬¡é‡æ’å’Œé‡ç»˜ã€‚è¿™ç§æƒ…å†µä¹Ÿè¢«ç§°ä¸º FSL Forced Synchronous Layouts å¼ºåˆ¶åŒæ­¥å¸ƒå±€ã€‚\n123div.style.color = 'blue';var margin = parseInt(div.style.marginTop);div.style.marginTop = (margin + 10) + 'px';\nä¸Šé¢ä»£ç å¯¹divå…ƒç´ è®¾ç½®èƒŒæ™¯è‰²ä»¥åï¼Œç¬¬äºŒè¡Œè¦æ±‚æµè§ˆå™¨ç»™å‡ºè¯¥å…ƒç´ çš„ä½ç½®ï¼Œæ‰€ä»¥æµè§ˆå™¨ä¸å¾—ä¸ç«‹å³é‡æ’ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ ·å¼çš„å†™æ“ä½œä¹‹åï¼Œå¦‚æœæœ‰ä¸‹é¢è¿™äº›å±æ€§çš„è¯»æ“ä½œï¼Œéƒ½ä¼šå¼•å‘æµè§ˆå™¨ç«‹å³é‡æ–°æ¸²æŸ“ã€‚\n\noffsetTop/offsetLeft/offsetWidth/offsetHeight\nscrollTop/scrollLeft/scrollWidth/scrollHeight\nclientTop/clientLeft/clientWidth/clientHeight\ngetComputedStyle()\n\næ‰€ä»¥ï¼Œä»æ€§èƒ½è§’åº¦è€ƒè™‘ï¼Œå°½é‡ä¸è¦æŠŠè¯»æ“ä½œå’Œå†™æ“ä½œï¼Œæ”¾åœ¨ä¸€ä¸ªè¯­å¥é‡Œé¢ã€‚\n123456789// baddiv.style.left = div.offsetLeft + 10 + \"px\";div.style.top = div.offsetTop + 10 + \"px\";// goodvar left = div.offsetLeft;var top  = div.offsetTop;div.style.left = left + 10 + \"px\";div.style.top = top + 10 + \"px\";\nä¸€èˆ¬çš„è§„åˆ™æ˜¯ï¼š\n\næ ·å¼è¡¨è¶Šç®€å•ï¼Œé‡æ’å’Œé‡ç»˜å°±è¶Šå¿«ã€‚\né‡æ’å’Œé‡ç»˜çš„DOMå…ƒç´ å±‚çº§è¶Šé«˜ï¼Œæˆæœ¬å°±è¶Šé«˜ã€‚\ntableå…ƒç´ çš„é‡æ’å’Œé‡ç»˜æˆæœ¬ï¼Œè¦é«˜äºdivå…ƒç´ \n\nå¸¸ç”¨ä¼˜åŒ–æ–¹æ³•æµè§ˆå™¨ä¼˜åŒ–å›¾ç‰‡ä¼˜åŒ–å›¾ç‰‡æ ¼å¼é€‰æ‹©ï¼š1.jpgå›¾ç‰‡\nç‰¹ç‚¹æ˜¯æœ‰æŸå‹ç¼©ã€é«˜è´¨é‡å‹ç¼©ã€ä½“ç§¯å°ã€åŠ è½½å¿«ã€ä¸æ”¯æŒé€æ˜ï¼Œé€‚ç”¨äºå‘ˆç°è‰²å½©ä¸°å¯Œçš„å›¾ç‰‡ï¼Œé€‚åˆç”¨ä½œèƒŒæ™¯å›¾ã€è½®æ’­å›¾æˆ–Bannerå›¾çš„æ ¼å¼\n2.pngå›¾ç‰‡\nç‰¹ç‚¹æ˜¯æ— æŸå‹ç¼©ã€é«˜è´¨é‡å‹ç¼©ã€ä½“ç§¯å¤§ã€æ”¯æŒé€æ˜ï¼Œé€‚ç”¨äºå‘ˆç°å°çš„Logoï¼Œæˆ–è€…é¢œè‰²ç®€å•ä¸”å¯¹æ¯”å¼ºçƒˆçš„å›¾ç‰‡æˆ–èƒŒæ™¯å›¾çš„æ ¼å¼\n3.SVGå›¾ç‰‡\nç‰¹ç‚¹æ˜¯ä½“ç§¯å°ï¼Œä¸å¤±çœŸï¼Œå…¼å®¹æ€§å¥½ï¼Œå¯å‹ç¼©æ€§å¼ºï¼Œå¯ç¼–ç¨‹ï¼Œæ¸²æŸ“æˆæœ¬é«˜ï¼Œå­¦ä¹ æˆæœ¬é«˜ï¼Œæœ€é€‚åˆå¸¦æœ‰å¤§å‹æ¸²æŸ“åŒºåŸŸçš„åº”ç”¨ç¨‹åºï¼ˆåœ°å›¾åº”ç”¨ï¼‰\n4.é›ªç¢§å›¾\nå°†ä¸€ä¸ªé¡µé¢æ¶‰åŠåˆ°çš„æ‰€æœ‰å›¾ç‰‡éƒ½åŒ…å«åˆ°ä¸€å¼ å¤§å›¾ä¸­å»ï¼Œç„¶ååˆ©ç”¨CSSçš„ background-imageï¼Œbackground- repeatï¼Œbackground-position çš„ç»„åˆè¿›è¡ŒèƒŒæ™¯å®šä½ã€‚åˆ©ç”¨CSS Spritesèƒ½å¾ˆå¥½åœ°å‡å°‘ç½‘é¡µçš„httpè¯·æ±‚ï¼Œä»è€Œå¤§å¤§çš„æé«˜é¡µé¢çš„æ€§èƒ½ï¼›CSS Spritesèƒ½å‡å°‘å›¾ç‰‡çš„å­—èŠ‚ã€‚\n5.Base64\nå¯¹å›¾ç‰‡è¿›è¡ŒBase64ç¼–ç ï¼Œä¼šå¾—åˆ°ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œæµè§ˆå™¨ä¼šç›´æ¥å°†è¿™ä¸²å­—ç¬¦ä¸²è§£ç ä¸ºå›¾ç‰‡ï¼Œè¿™æ ·å°±ä¸ç”¨å‘é€httpè¯·æ±‚äº†ï¼Œä½†æ˜¯è¿™æ ·çš„ç¼ºç‚¹æ˜¯å›¾ç‰‡ä¼šè†¨èƒ€ï¼Œä½“ç§¯ä¼šå¢åŠ ï¼Œæ‰€ä»¥å®ƒçš„åº”ç”¨æ¡ä»¶æ˜¯ï¼šå›¾ç‰‡å°ºå¯¸å°ã€æ— æ³•ç”¨é›ªç¢§å›¾ã€å›¾ç‰‡æ›´æ–°é¢‘ç‡ä½ï¼ˆä¸éœ€è¦æˆ‘ä»¬é‡å¤ç¼–ç å’Œä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼Œç»´æŠ¤æˆæœ¬è¾ƒä½ï¼‰\n6.webP\né›†å„ç§æ ¼å¼çš„ä¼˜ç‚¹äºä¸€èº«ï¼Œç¼ºç‚¹å°±æ˜¯å…¼å®¹æ€§ä¸å¥½ï¼Œæ‰€ä»¥åº”ç”¨æ—¶éœ€è¦åˆ¤æ–­æµè§ˆå™¨\nå›¾ç‰‡æ‡’åŠ è½½ï¼Œå°±æ˜¯å½“å›¾ç‰‡å‡ºç°åœ¨æµè§ˆå™¨çš„å¯è§†åŒºåŸŸå†…æ—¶ï¼Œè®¾ç½®å›¾ç‰‡çœŸæ­£çš„è·¯å¾„ï¼Œè®©å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ã€‚å½“ä¸€ä¸ªé¡µé¢ä¸­ç”±è®¸å¤šå›¾ç‰‡æ—¶ï¼Œä½¿ç”¨æ‡’åŠ è½½ï¼Œå¯å¤§å¤§æé«˜é¡µé¢æ€§èƒ½ã€‚\nå…·ä½“å®Œæˆè¿‡ç¨‹ä¸ºï¼Œå…ˆç»™å›¾ç‰‡ä¸€ä¸ªå‡çš„src,ä¸è®©å›¾ç‰‡åŠ è½½ï¼Œé€šè¿‡ç›‘å¬æ»šåŠ¨æ—¶é—´+å‡½æ•°èŠ‚æµï¼Œæ¥å®Œæˆåˆ¤æ–­å…ƒç´ è·ç¦»å¯è§†åŒºåŸŸé¡¶éƒ¨çš„é«˜åº¦ï¼Œè¦æ˜¯é«˜åº¦å·®&gt;=0ï¼Œé‚£ä¹ˆå°±å°†æ­£ç¡®çš„srcèµ‹ç»™å›¾ç‰‡ï¼Œå›¾ç‰‡å®ŒæˆåŠ è½½ã€‚\nç¼“å­˜ä¼˜åŒ–æµè§ˆå™¨ç¼“å­˜æœºåˆ¶1.MemoryCacheï¼Œå³åœ¨å†…å­˜ä¸­çš„ç¼“å­˜ï¼Œä»ä¼˜å…ˆçº§ä¸Šæ¥è¯´ï¼Œå®ƒæ˜¯æµè§ˆå™¨æœ€å…ˆå°è¯•å»å‘½ä¸­çš„ä¸€ç§ç¼“å­˜ã€‚ä»æ•ˆç‡ä¸Šæ¥è¯´ï¼Œå®ƒæ˜¯å“åº”é€Ÿåº¦æœ€å¿«çš„ä¸€ç§ç¼“å­˜ã€‚\n2.Services Worker Cacheï¼ŒService Worker æ˜¯ä¸€ç§ç‹¬ç«‹äºä¸»çº¿ç¨‹ä¹‹å¤–çš„ Javascript çº¿ç¨‹ã€‚å®ƒè„±ç¦»äºæµè§ˆå™¨çª—ä½“ï¼Œå› æ­¤æ— æ³•ç›´æ¥è®¿é—® DOMã€‚è¿™æ ·ç‹¬ç«‹çš„ä¸ªæ€§ä½¿å¾— Service Worker çš„â€œä¸ªäººè¡Œä¸ºâ€æ— æ³•å¹²æ‰°é¡µé¢çš„æ€§èƒ½ï¼Œå¯åˆ©ç”¨è¿™ä¸€ç‚¹å¸®æˆ‘ä»¬å®ç°ç¦»çº¿ç¼“å­˜ã€æ¶ˆæ¯æ¨é€å’Œç½‘ç»œä»£ç†ç­‰åŠŸèƒ½\n3.Httpç¼“å­˜ï¼Œåˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜\nhttpç¼“å­˜çš„æ˜¯æŒ‡:å½“Webè¯·æ±‚æŠµè¾¾ç¼“å­˜æ—¶ï¼Œ å¦‚æœæœ¬åœ°æœ‰â€œå·²ç¼“å­˜çš„â€å‰¯æœ¬ï¼Œå°±å¯ä»¥ä»æœ¬åœ°å­˜å‚¨è®¾å¤‡è€Œä¸æ˜¯ä»åŸå§‹æœåŠ¡å™¨ä¸­æå–è¿™ä¸ªæ–‡æ¡£\nå¼ºç¼“å­˜ï¼ˆä¼˜å…ˆäºåå•†ç¼“å­˜ï¼Œè¿”å›ç 200ï¼‰ï¼š\nåˆ©ç”¨Expiresï¼ˆhttp1.0ï¼Œè®°å½•ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼‰å’ŒCache-Controlï¼ˆhttp1.1ï¼Œè®°å½•ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼‰æ¥æ§åˆ¶ï¼ŒCache-Controlä¼˜å…ˆçº§é«˜äºExpiresï¼ŒExpires ä½¿ç”¨çš„æ˜¯æœåŠ¡å™¨ç«¯çš„æ—¶é—´ï¼Œè¦æ˜¯å®¢æˆ·ç«¯æ—¶é—´å’ŒæœåŠ¡ç«¯ä¸åŒæ­¥ï¼Œå°±å¯èƒ½é€ æˆæµè§ˆå™¨æœ¬åœ°çš„ç¼“å­˜æ— ç”¨æˆ–è€…ä¸€ç›´æ— æ³•è¿‡æœŸï¼ŒCache-Controlä½¿ç”¨çš„æ˜¯ä½¿ç”¨çš„æ˜¯å®¢æˆ·ç«¯æœ¬åœ°æ—¶é—´çš„è®¡ç®—ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°ä¸Šè¿°æƒ…å†µï¼ŒCache-Controlä¼˜å…ˆçº§é«˜äºExpiresï¼Œ\nåå•†ç¼“å­˜ï¼ˆè¿”å›ç 304ï¼‰ï¼š\nåˆ©ç”¨If-None-Matchï¼ˆè¯·æ±‚å¤´ï¼‰/Etagï¼ˆå“åº”å¤´ï¼‰å’ŒIf-Modified-Sinceï¼ˆè¯·æ±‚å¤´ï¼‰/Last-Modifiedï¼ˆå“åº”å¤´ï¼‰ï¼ŒIf-None-Matchå’ŒEtagè®°å½•çš„æ˜¯æœåŠ¡å™¨ä¸ºæ¯ä¸ªèµ„æºç”Ÿæˆçš„å”¯ä¸€çš„æ ‡è¯†å­—ç¬¦ä¸²ï¼Œç¼“å­˜çš„æ•°æ®è¦æ˜¯æ”¹å˜äº†ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°æ®å°±ä¼šå˜ï¼Œè¿™æ ·å¯åˆ¤æ–­ç¼“å­˜åˆ°åº•æœ‰æ²¡æœ‰æ›´æ–°ï¼ŒIf-Modified-Sinceå’ŒLast-Modifiedè®°å½•çš„æ˜¯æœåŠ¡ç«¯çš„æ–‡ä»¶æœ€åæ”¹å˜çš„æ—¶é—´ï¼Œé€šè¿‡åˆ¤æ–­è¿™ä¸ªï¼Œå¯ä»¥ç¼“å­˜æœ‰æ²¡æœ‰è¢«æ›´æ–°ï¼ŒLast-Modifiedæœ‰ä¸€ä¸ªç¼ºé™·å°±æ˜¯åªèƒ½ç²¾ç¡®åˆ°1sï¼Œæ‰€ä»¥å¯¹äºç²¾ç¡®æ›´é«˜çš„å¯èƒ½ä¸é€‚ç”¨ï¼ŒEtagä¼˜å…ˆçº§é«˜äºLast-Modifiedï¼ŒEtagç”Ÿæˆè¿‡ç¨‹éœ€è¦æœåŠ¡å™¨é¢å¤–ä»˜å‡ºå¼€é”€ï¼Œä¼šå½±å“æœåŠ¡å™¨æ€§èƒ½ï¼Œæ‰€ä»¥è¦çœ‹æƒ…å†µä½¿ç”¨Etag\n4.Push Cache\nhttp2é˜¶æ®µçš„ç¼“å­˜ï¼Œåº”ç”¨å°šå¤„äºèŒèŠ½é˜¶æ®µï¼Œæ˜¯ç¼“å­˜çš„æœ€åä¸€é“é˜²çº¿ã€‚\næµè§ˆå™¨åªæœ‰åœ¨ Memory Cacheã€HTTP Cache å’Œ Service Worker Cache å‡æœªå‘½ä¸­çš„æƒ…å†µä¸‹æ‰ä¼šå»è¯¢é—® Push Cacheã€‚Push Cache æ˜¯ä¸€ç§å­˜åœ¨äºä¼šè¯é˜¶æ®µçš„ç¼“å­˜ï¼Œå½“ session ç»ˆæ­¢æ—¶ï¼Œç¼“å­˜ä¹Ÿéšä¹‹é‡Šæ”¾ã€‚ä¸åŒçš„é¡µé¢åªè¦å…±äº«äº†åŒä¸€ä¸ª HTTP2 è¿æ¥ï¼Œé‚£ä¹ˆå®ƒä»¬å°±å¯ä»¥å…±äº«åŒä¸€ä¸ª Push Cacheã€‚\næœ¬åœ°å­˜å‚¨æœºåˆ¶1.åˆ©ç”¨WebStorage\nWebStorageæä¾›äº†ä¸€ç§æ–¹å¼è®©ç½‘ç«™èƒ½å¤ŸæŠŠä¿¡æ¯å­˜å‚¨åˆ°æœ¬åœ°çš„è®¡ç®—æœºä¸Šï¼Œå¹¶åœ¨ä»¥åéœ€è¦çš„æ—¶å€™è¿›è¡Œè·å–ã€‚è¿™æ ·ä¸€æ¥ï¼Œå½“éœ€è¦ç”¨åˆ°ä»€ä¹ˆèµ„æºæ—¶ï¼Œå¯ä»¥ç›´æ¥åœ¨æœ¬åœ°å­˜å‚¨é‡Œè·å–ï¼Œè€Œä¸ç”¨å‘èµ·ç½‘ç»œè¯·æ±‚ç­‰å¾…å“åº”ã€‚WebStorageåˆ†ä¸ºlocalStorageï¼ˆåªæ”¯æŒstringç±»å‹çš„å­˜å‚¨ï¼‰ä¸Session Storageï¼ˆåªæ”¯æŒstringç±»å‹çš„å­˜å‚¨ï¼‰ï¼ŒSession Storageåœ¨ä¼šè¯ç»“æŸæ¶ˆå¤±ï¼Œ localStorageæ°¸ä¹…æœ‰æ•ˆï¼Œæ‰‹åŠ¨åˆ é™¤æ‰ä¼šæ¶ˆå¤±ï¼ŒSession Storage å’ŒlocalStorageéƒ½éµå¾ªåŒæºç­–ç•¥ï¼Œä½†æ˜¯å¯¹Session Storageç‰¹æ®Šçš„ä¸€å®šåœ¨äºï¼Œå³ä¾¿æ˜¯ç›¸åŒåŸŸåä¸‹çš„ä¸¤ä¸ªé¡µé¢ï¼Œåªè¦å®ƒä»¬ä¸åœ¨åŒä¸€ä¸ªæµè§ˆå™¨çª—å£ä¸­æ‰“å¼€ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ Session Storage å†…å®¹ä¾¿æ— æ³•å…±äº«ã€‚\n2.åˆ©ç”¨IndexDB\nIndexDBè¿è¡Œåœ¨æµè§ˆå™¨ä¸Šçš„éå…³ç³»å‹æ•°æ®åº“ï¼Œçªç ´äº†WebStorageçš„å­˜å‚¨å¤§å°é™åˆ¶ï¼Œæ”¯æŒå­˜å‚¨å­—ç¬¦ä¸²å’ŒäºŒè¿›åˆ¶æ•°æ®ï¼ŒIndexDBå¯åˆ›å»ºæ•°æ®åº“å’Œè¡¨ï¼Œå¯ä»¥è¢«å½“æˆä¸€ä¸ªçœŸæ­£çš„æ•°æ®åº“ä½¿ç”¨ã€‚\nCSS ä¼˜åŒ–é€‰æ‹©å™¨cssæ˜¯ä»å³å¾€å·¦è¿›è¡Œè§£æçš„ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´ (ul&gt;li)è¿™ç§å†™æ³•ï¼Œæµè§ˆå™¨æ˜¯å…ˆå»æ‰¾åˆ°liï¼Œå†å»çœ‹æ¯ä¸ªliçš„çˆ¶å…ƒç´ æ˜¯ä¸æ˜¯ul,å½“ä½¿ç”¨å±‚çº§è¾ƒå¤šçš„é€‰æ‹©å™¨æ—¶ï¼ˆå¦‚ï¼šbody&gt;div&gt;p&gt;spanï¼‰ï¼Œä¼šåŠ å¤§æµè§ˆå™¨çš„å¯»æ‰¾æ—¶é—´ï¼Œè€Œæˆ‘ä»¬çš„åŸåˆ™å› å½“æ˜¯ä½¿æµè§ˆå™¨èƒ½å¤Ÿå°½å¿«çš„æ‰¾åˆ°ç›¸åº”çš„å…ƒç´ ã€‚æ‰€ä»¥cssé€‰æ‹©å™¨æ–¹é¢çš„ä¼˜åŒ–æ–¹æ¡ˆä¸ºï¼š\n\né¿å…åä»£é€‰æ‹©ç¬¦(åä»£é€‰æ‹©å™¨çš„å¼€é”€å¾ˆé«˜)\né¿å…é“¾å¼é€‰æ‹©ç¬¦ï¼Œé¿å…ä½¿ç”¨å¤æ‚çš„é€‰æ‹©å™¨ï¼Œå±‚çº§è¶Šå°‘è¶Šå¥½\né¿å…ä½¿ç”¨é€šé…ç¬¦ï¼ˆä½¿ç”¨é€šé…ç¬¦ä¼šä½¿æµè§ˆå™¨æ‰¾éæ‰€æœ‰çš„å…ƒç´ ï¼‰\nå°‘ç”¨æ ‡ç­¾é€‰æ‹©å™¨ï¼Œå°½é‡ç”¨ç±»é€‰æ‹©å™¨ä»£æ›¿\né¿å…ä¸å¿…è¦çš„é‡å¤\n\nå‡å°‘ CSS é˜»å¡å½“æˆ‘ä»¬åœ¨htmlæ—¶ï¼Œæ€»æ˜¯åœ¨è§£æåˆ°linkæ ‡ç­¾æˆ–styleæ ‡ç­¾æ—¶ï¼ŒCSSDOMæ‰ä¼šå¼€å§‹æ„å»ºï¼Œè¿™ä¸ªæ„å»ºè¿‡ç¨‹ä¼šå¯¼è‡´DOMè§£æçš„é˜»å¡ï¼Œæ‰€ä»¥ä¸ºäº†å‡å°‘é˜»å¡æ—¶é—´ï¼Œæˆ‘ä»¬éœ€è¦å°½å¿«å®ŒæˆåŠ è½½ï¼ˆå¯ç”¨CDNï¼‰ï¼Œå°½æ—©å®ŒæˆåŠ è½½ï¼ˆåœ¨headå…ƒç´ ä¸­å¼•ç”¨cssç›¸å…³æ ‡ç­¾ï¼‰\nJavaScript ä¼˜åŒ–window.requestAnimationFrame()å³ä¾¿ä½ èƒ½ä¿è¯æ¯ä¸€å¸§çš„æ€»è€—æ—¶éƒ½å°äº16msï¼Œä¹Ÿæ— æ³•ä¿è¯ä¸€å®šä¸ä¼šå‡ºç°ä¸¢å¸§çš„æƒ…å†µï¼Œè¿™å–å†³äºè§¦å‘JSæ‰§è¡Œçš„æ–¹å¼ã€‚å‡è®¾ä½¿ç”¨ setTimeout æˆ– setInterval æ¥è§¦å‘JSæ‰§è¡Œå¹¶ä¿®æ”¹æ ·å¼ä»è€Œå¯¼è‡´è§†è§‰å˜åŒ–ï¼›é‚£ä¹ˆä¼šæœ‰è¿™æ ·ä¸€ç§æƒ…å†µï¼Œå› ä¸ºsetTimeout æˆ– setIntervalæ²¡æœ‰åŠæ³•ä¿è¯å›è°ƒå‡½æ•°ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œå®ƒå¯èƒ½åœ¨æ¯ä¸€å¸§çš„ä¸­é—´æ‰§è¡Œï¼Œä¹Ÿå¯èƒ½åœ¨æ¯ä¸€å¸§çš„æœ€åæ‰§è¡Œã€‚æ‰€ä»¥ä¼šå¯¼è‡´å³ä¾¿æˆ‘ä»¬èƒ½ä¿éšœæ¯ä¸€å¸§çš„æ€»è€—æ—¶å°äº16msï¼Œä½†æ˜¯æ‰§è¡Œçš„æ—¶æœºå¦‚æœåœ¨æ¯ä¸€å¸§çš„ä¸­é—´æˆ–æœ€åï¼Œæœ€åçš„ç»“æœä¾ç„¶æ˜¯æ²¡æœ‰åŠæ³•æ¯éš”16msè®©å±å¹•äº§ç”Ÿä¸€æ¬¡å˜åŒ–ã€‚\n\nå³ä¾¿æˆ‘ä»¬èƒ½ä¿è¯æ¯ä¸€å¸§æ€»ä½“æ—¶é—´å°äº16msï¼Œä½†å¦‚æœä½¿ç”¨å®šæ—¶å™¨è§¦å‘åŠ¨ç”»ï¼Œé‚£ä¹ˆç”±äºå®šæ—¶å™¨çš„è§¦å‘æ—¶æœºä¸ç¡®å®šï¼Œæ‰€ä»¥è¿˜æ˜¯ä¼šå¯¼è‡´åŠ¨ç”»ä¸¢å¸§ã€‚ç°åœ¨æ•´ä¸ªWebåªæœ‰ä¸€ä¸ªAPIå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯requestAnimationFrameï¼Œå®ƒå¯ä»¥ä¿è¯å›è°ƒå‡½æ•°ç¨³å®šçš„åœ¨æ¯ä¸€å¸§æœ€å¼€å§‹è§¦å‘ã€‚\n\nåº”ç”¨äº† RAF çš„ç½‘é¡µåŠ¨ç”»ä¾‹å­ï¼š\n12345678910var rAF = window.requestAnimationFrame;var degrees = 0;function update() &#123;  div.style.transform = \"rotate(\" + degrees + \"deg)\";  console.log('updated to degrees ' + degrees);  degrees = degrees + 1;  rAF(update);&#125;rAF(update);\nwindow.requestIdleCallback()è¿˜æœ‰ä¸€ä¸ªå‡½æ•° window.requestIdleCallback() ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥è°ƒèŠ‚é‡æ–°æ¸²æŸ“ã€‚å®ƒæŒ‡å®šåªæœ‰å½“ä¸€å¸§çš„æœ«å°¾æœ‰ç©ºé—²æ—¶é—´ï¼Œæ‰ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚\nå‡å°‘JSé˜»å¡é¡µé¢æ„å»ºdomæ ‘çš„è¿‡ç¨‹ï¼Œå³ä»ä¸Šåˆ°ä¸‹è§£æHTMLæ–‡æ¡£ç”ŸæˆDOMèŠ‚ç‚¹æ ‘ï¼Œå½“è§£æåˆ°&lt;script&gt;æ ‡ç­¾æ—¶ï¼Œä¼šè§£æå…¶ä¸­çš„è„šæœ¬ï¼ˆå¯¹äºå¤–é“¾çš„JavaScriptæ–‡ä»¶ï¼Œéœ€è¦å…ˆåŠ è½½è¯¥æ–‡ä»¶å†…å®¹ï¼‰ï¼Œç„¶åç«‹å³æ‰§è¡Œï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹éƒ½ä¼šé˜»å¡æ–‡æ¡£è§£æï¼Œç›´åˆ°è„šæœ¬æ‰§è¡Œå®Œæ‰ä¼šç»§ç»­è§£ææ–‡æ¡£ã€‚å¦‚æœjsæ–‡ä»¶çš„æ•°é‡å’Œå†…å®¹éƒ½æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆé¡µé¢ç©ºç™½ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…è¿™ä¸€çŠ¶å†µï¼Œåº”è¯¥æŠŠ &lt;script&gt;æ ‡ç­¾æ”¾åœ¨&lt;/body&gt;æ ‡ç­¾å‰é¢ï¼Œè€Œä¸æ˜¯æ”¾åœ¨&lt;head&gt;æ ‡ç­¾é‡Œ,è¦ä½¿ç”¨async(å¼‚æ­¥åŠ è½½ï¼Œè„šæœ¬åŠ è½½å®Œç«‹åˆ»æ‰§è¡Œ)å’Œdefer(å¼‚æ­¥åŠ è½½ï¼Œæ–‡æ¡£è§£æå®Œæ‰§è¡Œ)\nåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­å®ç° DOM ä¿®æ”¹æ—¶ï¼ŒæŠŠå®ƒåŒ…è£…æˆ micro ä»»åŠ¡(å¾®ä»»åŠ¡ï¼‰äº‹ä»¶å¾ªç¯ä¸€èˆ¬æ˜¯è¿™æ ·ï¼Œå…ˆå¤„ç†Macro-taskï¼ˆå®ä»»åŠ¡ï¼‰,å†å¤„ç†micro ä»»åŠ¡ï¼Œmicro ä»»åŠ¡å¤„ç†å®Œåé¢ç´§è·Ÿç€å°±æ˜¯æ¸²æŸ“çš„æ­¥éª¤ï¼Œç„¶åæ›´æ–°ç•Œé¢ï¼Œå¤„ç†Web workä»»åŠ¡ã€‚åŒ…è£…æˆ micro ä»»åŠ¡ï¼Œè¿™æ ·ä¸ç”¨ç­‰æ–°çš„ä¸€è½®äº‹ä»¶å¾ªç¯ï¼Œç›´æ¥æ¸²æŸ“å‘ˆç°\nDomæ–¹é¢ï¼ˆä»å‡å°‘é¡µé¢å›æµæ–¹é¢æ¥è€ƒè™‘ï¼‰å‡å°‘Domæ“ä½œï¼Œç¼“å­˜domå˜é‡var a=document.querySelector(&quot;#demo&quot;);\né¿å…å¾ªç¯æ›´æ”¹domï¼Œåœ¨æ›´æ”¹æ—¶åˆ›å»ºä¸€ä¸ªdocumentFragmentæˆ–divï¼Œåœ¨å®ƒä¸Šé¢åº”ç”¨æ‰€æœ‰DOMæ“ä½œï¼Œæœ€åå†æŠŠå®ƒæ·»åŠ åˆ°ç›¸åº”domä¸­\nåœ¨è„šæœ¬ä¸­ document.imagesã€document.forms ã€getElementsByTagName()è¿”å›çš„éƒ½æ˜¯ HTMLCollectionç±»å‹çš„é›†åˆï¼Œåœ¨å¹³æ—¶ä½¿ç”¨çš„æ—¶å€™å¤§å¤šå°†å®ƒä½œä¸ºæ•°ç»„æ¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæœ‰ lengthå±æ€§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç´¢å¼•è®¿é—®æ¯ä¸€ä¸ªå…ƒç´ ã€‚ä¸è¿‡åœ¨è®¿é—®æ€§èƒ½ä¸Šåˆ™æ¯”æ•°ç»„è¦å·®å¾ˆå¤šï¼ŒåŸå› æ˜¯è¿™ä¸ªé›†åˆå¹¶ä¸æ˜¯ä¸€ä¸ªé™æ€çš„ç»“æœï¼Œå®ƒè¡¨ç¤ºçš„ä»…ä»…æ˜¯ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢ï¼Œæ¯æ¬¡è®¿é—®è¯¥é›†åˆæ—¶éƒ½ä¼šé‡æ–°æ‰§è¡Œè¿™ä¸ªæŸ¥è¯¢ä»è€Œæ›´æ–°æŸ¥è¯¢ç»“æœã€‚æ‰€è°“çš„ â€œè®¿é—®é›†åˆâ€ åŒ…æ‹¬è¯»å–é›†åˆçš„ lengthå±æ€§ã€è®¿é—®é›†åˆä¸­çš„å…ƒç´ ã€‚ã€€ã€€å› æ­¤ï¼Œå½“ä½ éœ€è¦éå† HTML Collectionçš„æ—¶å€™ï¼Œå°½é‡å°†å®ƒè½¬ä¸ºæ•°ç»„åå†è®¿é—®ï¼Œä»¥æé«˜æ€§èƒ½ã€‚å³ä½¿ä¸è½¬æ¢ä¸ºæ•°ç»„ï¼Œä¹Ÿè¯·å°½å¯èƒ½å°‘çš„è®¿é—®å®ƒï¼Œä¾‹å¦‚åœ¨éå†çš„æ—¶å€™å¯ä»¥å°† lengthå±æ€§ã€æˆå‘˜ä¿å­˜åˆ°å±€éƒ¨å˜é‡åå†ä½¿ç”¨å±€éƒ¨å˜é‡ã€‚\nä»£ç æ–¹é¢æ…ç”¨ withwith åœ¨è´è¶ä¹¦é‡Œé¢å°±è¢«æ˜ç¡®çš„è§†ä¸ºç¦æœ¯ï¼Œä»–ä¼šå»¶é•¿å½“å‰å¯¹è±¡çš„ä½œç”¨åŸŸé“¾ï¼Œä½¿å¾—æŸ¥æ‰¾ä½œç”¨åŸŸçš„æ€§èƒ½å¤§å¤§é™ä½ï¼Œè¯·ä¸è¦å› ä¸ºæ‡’å¾—å†™å‡ è¡Œä»£ç å°±ç›´æ¥ä½¿ç”¨ with ã€‚å¯æ˜¯ä½¿ç”¨å±€éƒ¨å˜é‡æ¥ä»£æ›¿ withã€‚\né¿å…ä½¿ç”¨ eval å’Œ Functionæ¯æ¬¡ eval æˆ– Function æ„é€ å‡½æ•°ä½œç”¨äºå­—ç¬¦ä¸²è¡¨ç¤ºçš„æºä»£ç æ—¶ï¼Œè„šæœ¬å¼•æ“éƒ½éœ€è¦å°†æºä»£ç è½¬æ¢æˆå¯æ‰§è¡Œä»£ç ã€‚è¿™æ˜¯å¾ˆæ¶ˆè€—èµ„æºçš„æ“ä½œ â€”â€” é€šå¸¸æ¯”ç®€å•çš„å‡½æ•°è°ƒç”¨æ…¢ 100å€ä»¥ä¸Šã€‚eval å‡½æ•°æ•ˆç‡ç‰¹åˆ«ä½ï¼Œç”±äºäº‹å…ˆæ— æ³•çŸ¥æ™“ä¼ ç»™ eval çš„å­—ç¬¦ä¸²ä¸­çš„å†…å®¹ï¼Œevalåœ¨å…¶ä¸Šä¸‹æ–‡ä¸­è§£é‡Šè¦å¤„ç†çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´ç¼–è¯‘å™¨æ— æ³•ä¼˜åŒ–ä¸Šä¸‹æ–‡ï¼Œå› æ­¤åªèƒ½æœ‰æµè§ˆå™¨åœ¨è¿è¡Œæ—¶è§£é‡Šä»£ç ã€‚è¿™å¯¹æ€§èƒ½å½±å“å¾ˆå¤§ã€‚Function æ„é€ å‡½æ•°æ¯” evalç•¥å¥½ï¼Œå› ä¸ºä½¿ç”¨æ­¤ä»£ç ä¸ä¼šå½±å“å‘¨å›´ä»£ç  ;ä½†å…¶é€Ÿåº¦ä»å¾ˆæ…¢ã€‚æ­¤å¤–ï¼Œä½¿ç”¨ evalå’Œ Functionä¹Ÿä¸åˆ©äºJavascript å‹ç¼©å·¥å…·æ‰§è¡Œå‹ç¼©ã€‚\nVue ä¼˜åŒ–ä½¿ç”¨v-ifä»£æ›¿v-showä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼šv-ifä¸æ¸²æŸ“DOMï¼Œv-showä¼šé¢„æ¸²æŸ“DOMé™¤ä»¥ä¸‹æƒ…å†µä½¿ç”¨v-showï¼Œå…¶ä»–æƒ…å†µå°½é‡ä½¿ç”¨v-if\n\næœ‰é¢„æ¸²æŸ“éœ€æ±‚\néœ€è¦é¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€\n\nv-forå¿…é¡»åŠ ä¸Škeyï¼Œå¹¶é¿å…åŒæ—¶ä½¿ç”¨v-ifä¸€èˆ¬æˆ‘ä»¬åœ¨ä¸¤ç§å¸¸è§çš„æƒ…å†µä¸‹ä¼šå€¾å‘äºè¿™æ ·åš:\n\nä¸ºäº†è¿‡æ»¤ä¸€ä¸ªåˆ—è¡¨ä¸­çš„é¡¹ç›®æ¯”å¦‚v-for=â€œuser in usersâ€ v-if=â€œuser.isActiveâ€ã€‚åœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œè¯·å°†usersæ›¿æ¢ä¸ºä¸€ä¸ªè®¡ç®—å±æ€§ (æ¯”å¦‚activeUsers)ï¼Œè®©å…¶è¿”å›è¿‡æ»¤åçš„åˆ—è¡¨\nä¸ºäº†é¿å…æ¸²æŸ“æœ¬åº”è¯¥è¢«éšè—çš„åˆ—è¡¨æ¯”å¦‚v-for=â€œuser in usersâ€ v-if=â€œshouldShowUsersâ€ã€‚è¿™ç§æƒ…å½¢ä¸‹ï¼Œè¯·å°†v-ifç§»åŠ¨è‡³å®¹å™¨å…ƒç´ ä¸Š (æ¯”å¦‚ul,ol)\n\näº‹ä»¶åŠæ—¶é”€æ¯Vueç»„ä»¶é”€æ¯æ—¶ï¼Œä¼šè‡ªåŠ¨æ¸…ç†å®ƒä¸å…¶å®ƒå®ä¾‹çš„è¿æ¥ï¼Œè§£ç»‘å®ƒçš„å…¨éƒ¨æŒ‡ä»¤åŠäº‹ä»¶ç›‘å¬å™¨ï¼Œä½†æ˜¯ä»…é™äºç»„ä»¶æœ¬èº«çš„äº‹ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨jså†…ä½¿ç”¨addEventListenerç­‰æ–¹å¼æ˜¯ä¸ä¼šè‡ªåŠ¨é”€æ¯çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç»„ä»¶é”€æ¯æ—¶æ‰‹åŠ¨ç§»é™¤è¿™äº›äº‹ä»¶çš„ç›‘å¬ï¼Œä»¥å…é€ æˆå†…å­˜æ³„éœ²ï¼Œå¦‚ï¼š\n123456created() &#123;  addEventListener('touchmove', this.touchmove, false)&#125;,beforeDestroy() &#123;  removeEventListener('touchmove', this.touchmove, false)&#125;\nèµ„æºæå‰è¯·æ±‚ç»æµ‹è¯•ï¼ŒVueé¡¹ç›®ä¸­å„æ–‡ä»¶çš„åŠ è½½é¡ºåºä¸ºï¼šrouter.jsã€main.jsã€App.vueã€[page].vueã€[component].vueï¼Œå¦‚å›¾ï¼š\n\nå…¶ä¸­ï¼Œrouterçš„åŠ è½½æ—¶é—´ç›¸æ¯”äºpage.vueå¿«è¿‘100msï¼Œå¦‚æœpage.vueçš„æ–‡ä»¶è¾ƒå¤šï¼Œæ—¶é—´å·®å¼‚ä¼šæ›´å¤§ã€‚ æ‰€ä»¥ï¼Œå¯ä»¥åœ¨é¡µé¢æŒ‚è½½ã€æ¸²æŸ“çš„åŒæ—¶å»è¯·æ±‚æ¥å£æ•°æ®ï¼Œå¦‚åœ¨router.jsä¸­è¯·æ±‚æ•°æ®ï¼š\n1234import Router from 'vue-router'import store from './store'store.dispatch('initAjax')\nå¤šä½¿ç”¨å¼‚æ­¥ç»„ä»¶å’Œæ’ä»¶ä¸éœ€è¦é¦–å±åŠ è½½çš„ç»„ä»¶éƒ½ä½¿ç”¨å¼‚æ­¥ç»„ä»¶çš„æ–¹å¼æ¥åŠ è½½ï¼Œå¦‚å¤š tabã€‚åŒ…æ‹¬éœ€è¦è§¦å‘æ¡ä»¶çš„åŠ¨ä½œä¹Ÿä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼ˆå¦‚å¼¹çª—ï¼‰ ä½¿ç”¨æ–¹å¼ä¸ºï¼šv-ifæ¥æ§åˆ¶æ˜¾ç¤ºæ—¶æœºï¼Œå¼•å…¥ç»„ä»¶çš„Promiseå³å¯ã€‚\nç½‘ç»œä¼˜åŒ–å‡å°‘ç½‘ç»œè¯·æ±‚\næµè§ˆå™¨å¯¹åŒä¸€æ—¶é—´é’ˆå¯¹åŒä¸€åŸŸåä¸‹çš„è¯·æ±‚æœ‰ä¸€å®šæ•°é‡é™åˆ¶ï¼ˆä¸€èˆ¬æ˜¯6ä¸ªï¼‰ï¼Œè¶…è¿‡é™åˆ¶æ•°ç›®çš„è¯·æ±‚ä¼šè¢«é˜»å¡  \n\né¦–å±å°½å¯èƒ½å‡å°‘åŒåŸŸåçš„è¯·æ±‚ï¼ŒåŒ…æ‹¬æ¥å£å’Œjsï¼›æŒ‰éœ€å‡å°‘é¦–å±çš„chunk.jsï¼Œåˆå¹¶æ¥å£è¯·æ±‚\nDNS è§£æä¼˜åŒ–DNS ç¼“å­˜ -&gt; å‡å°‘ DNS è§£ææ—¶é—´keep-alive å‡å°‘é“¾æ¥å»ºç«‹æ¬¡æ•°ã€‚\nCDN å’Œ SSRCDNå…¨ç§°æ˜¯å†…å®¹åˆ†å‘ç½‘ç»œï¼Œç®€å•çš„æ¥è¯´ï¼ŒCDNåšçš„äº‹ï¼Œå°±æ˜¯æŠŠèµ„æºå­˜åœ¨ç¦»è‡ªå·±æœ€è¿‘çš„æœåŠ¡å™¨é‡Œï¼Œä»è€Œå®ç°å°±è¿‘è®¿é—®æ•°æ®ï¼Œå¿«é€Ÿè·å–åˆ°éœ€è¦çš„æ•°æ®\nCDN å¾€å¾€è¢«ç”¨æ¥å­˜æ”¾é™æ€èµ„æº(åƒ JSã€CSSã€å›¾ç‰‡ç­‰ä¸éœ€è¦ä¸šåŠ¡æœåŠ¡å™¨è¿›è¡Œè®¡ç®—å³å¾—çš„èµ„æº),å¯ä»¥å°†é™æ€èµ„æºå’Œä¸»é¡µé¢ç½®äºä¸åŒçš„åŸŸåä¸‹ï¼Œé¿å…cookieçš„æºå¸¦ï¼Œè¿™æ ·å¯ä»¥åšåˆ°ä¼˜åŒ–CDN\n\næœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±æ˜¯å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚é¡µé¢æ—¶ï¼Œç”±æœåŠ¡å™¨æŠŠéœ€è¦çš„ç»„ä»¶æˆ–é¡µé¢æ¸²æŸ“æˆ HTML å­—ç¬¦ä¸²ï¼Œç„¶åæŠŠå®ƒè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ‹¿åˆ°æ‰‹çš„ï¼Œæ˜¯å¯ä»¥ç›´æ¥æ¸²æŸ“ç„¶åå‘ˆç°ç»™ç”¨æˆ·çš„ HTML å†…å®¹ã€‚\næ²¡æœ‰æœåŠ¡å™¨æ¸²æŸ“ï¼Œå½“æµè§ˆå™¨è§£æhtmlæ–‡æ¡£è§£æåˆ°&lt;script&gt;æ ‡ç­¾æ—¶ï¼Œå°±éœ€è¦åœä¸‹htmlæ¸²æŸ“ï¼Œå»è§£æå…¶ä¸­çš„è„šæœ¬å¹¶æ‰§è¡Œï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹éƒ½ä¼šé˜»å¡æ–‡æ¡£è§£æï¼Œç›´åˆ°è„šæœ¬æ‰§è¡Œå®Œæ‰ä¼šç»§ç»­è§£ææ–‡æ¡£è¿›è¡Œæ¸²æŸ“ã€‚å¦‚æœjsæ–‡ä»¶çš„æ•°é‡å’Œå†…å®¹éƒ½æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆé¡µé¢ç©ºç™½ï¼Œè¿™æ ·æ˜¯éå¸¸ä¸åˆ©äºç”¨æˆ·ä½“éªŒçš„ï¼ŒæœåŠ¡å™¨æ¸²æŸ“å°±èƒ½å¾ˆå¥½çš„è§£å†³è¿™ä¸€é—®é¢˜ã€‚\næœåŠ¡ç«¯æ¸²æŸ“ä¹Ÿä¸æ˜¯éšä¾¿å°±èƒ½ç”¨çš„ï¼Œå®ƒåŠ é‡äº†æœåŠ¡å™¨çš„å‹åŠ›ï¼Œä¹Ÿéœ€è¦åˆç†ä½¿ç”¨\nReferenceè®©ä½ çš„ç½‘é¡µæ›´ä¸æ»‘ï¼ˆä¸€ï¼‰ - æ˜é‡‘\nç½‘é¡µæ€§èƒ½ç®¡ç†è¯¦è§£ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—\nå¦‚ä½•è¯»æ‡‚ç«ç„°å›¾ï¼Ÿ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—\nå‰ç«¯æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆéƒ½æœ‰å“ªäº›ï¼Ÿ - coober - åšå®¢å›­\næ˜é‡‘å°å†Œå‰ç«¯æ€§èƒ½ä¼˜åŒ–åŸç†ä¸å®è·µè¯»åæ€»ç»“ - loisandyuçš„åšå®¢ - CSDNåšå®¢\nä¸€å¼ å›¾è¯´æ˜CDNç½‘ç»œçš„åŸç† - coolmeçš„ä¸“æ  - CSDNåšå®¢\nä»4ä¸ªæ–¹é¢ä¼˜åŒ–ä½ çš„Vueé¡¹ç›® - æ˜é‡‘\n2018ä½ åº”è¯¥çŸ¥é“çš„Webæ€§èƒ½ä¿¡æ¯é‡‡é›†æŒ‡å— - æ˜é‡‘\n","plink":"https://xkeith.space/post/arc-12/"},{"title":"å‰ç«¯å·¥ç¨‹å¸ˆæŠ€æœ¯å›¾è°±","date":"2019-03-27T10:45:34.000Z","updated":"2019-03-27T10:46:51.634Z","content":"\n","plink":"https://xkeith.space/post/arc-11/"},{"title":"TCP çš„ä¸‰æ¬¡ğŸ¤ä¸å››æ¬¡ğŸ™‹è¯¦è§£","date":"2019-03-26T14:03:37.000Z","updated":"2019-04-17T13:24:13.642Z","content":"\nTCP åè®®å¦‚ä½•ä¿è¯å¯é è¿è¾“é€šè¿‡åºåˆ—å·ä¸ç¡®è®¤åº”ç­”æé«˜å¯é æ€§åœ¨ TCP ä¸­ï¼Œå½“å‘é€ç«¯çš„æ•°æ®åˆ°è¾¾æ¥æ”¶ç«¯çš„æ—¶å€™ï¼Œæ¥æ”¶ç«¯ä¼šè¿”å›ä¸€ä¸ªå·²æ”¶åˆ°æ¶ˆæ¯çš„é€šçŸ¥ï¼Œè¿™ä¸ªæ¶ˆæ¯å«åš ACK (Positive Acknowled-gement)ã€‚TCP é€šè¿‡æ£€æŸ¥ ACK å®ç°å¯é çš„æ•°æ®ä¼ è¾“ã€‚å¦‚æœæ¥æ”¶ç«¯æˆåŠŸè¿”å› ACKï¼Œè¯´æ˜æ•°æ®å·²ç»æˆåŠŸåˆ°è¾¾ã€‚åä¹‹ï¼Œä¸¢å¤±æ•°æ®çš„å¯èƒ½æ€§å¾ˆå¤§ã€‚ä¸€å®šæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ° ACK çš„è¯ï¼Œå‘é€ç«¯å°±ä¼šå¯¹æ•°æ®åŒ…è¿›è¡Œé‡ä¼ ã€‚\né‡ä¼ å‘ç”Ÿçš„å‡ ç§æƒ…å†µ\nè¶…æ—¶é‡ä¼ \n\nï¿¼\nè¶…æ—¶é‡ä¼ æ˜¯æŒ‡åªè¦è¶…è¿‡ä¸€æ®µæ—¶é—´ä»ç„¶æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œå°±é‡ä¼ å‰é¢å‘é€è¿‡çš„åˆ†ç»„ï¼ˆè®¤ä¸ºåˆšæ‰å‘é€è¿‡çš„åˆ†ç»„ä¸¢å¤±äº†ï¼‰ã€‚\n\nç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°\n\n\nå½“Aå‘é€M1æ¶ˆæ¯ï¼ŒBæ”¶åˆ°åï¼ŒBå‘Aå‘é€äº†ä¸€ä¸ªM1ç¡®è®¤æ¶ˆæ¯ï¼Œä½†å´åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±ã€‚è€ŒAå¹¶ä¸çŸ¥é“ï¼Œåœ¨è¶…æ—¶è®¡æ—¶è¿‡åï¼ŒAé‡ä¼ M1æ¶ˆæ¯ï¼ŒBå†æ¬¡æ”¶åˆ°è¯¥æ¶ˆæ¯åé‡‡å–ä»¥ä¸‹ä¸¤ç‚¹æªæ–½ï¼š\n\nä¸¢å¼ƒè¿™ä¸ªé‡å¤çš„M1æ¶ˆæ¯ï¼Œä¸å‘ä¸Šå±‚äº¤ä»˜ã€‚\nå‘Aå‘é€ç¡®è®¤æ¶ˆæ¯ã€‚ï¼ˆä¸ä¼šè®¤ä¸ºå·²ç»å‘é€è¿‡äº†ï¼Œå°±ä¸å†å‘é€ã€‚Aèƒ½é‡ä¼ ï¼Œå°±è¯æ˜Bçš„ç¡®è®¤æ¶ˆæ¯ä¸¢å¤±ï¼‰ã€‚\n\n\nAå‘é€M1æ¶ˆæ¯ï¼ŒBæ”¶åˆ°å¹¶å‘é€ç¡®è®¤ã€‚åœ¨è¶…æ—¶æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ç¡®è®¤æ¶ˆæ¯ï¼ŒAé‡ä¼ M1æ¶ˆæ¯ï¼ŒBä»ç„¶æ”¶åˆ°å¹¶ç»§ç»­å‘é€ç¡®è®¤æ¶ˆæ¯ï¼ˆBæ”¶åˆ°äº†2ä»½M1ï¼‰ã€‚æ­¤æ—¶Aæ”¶åˆ°äº†Bç¬¬äºŒæ¬¡å‘é€çš„ç¡®è®¤æ¶ˆæ¯ã€‚æ¥ç€å‘é€å…¶ä»–æ•°æ®ã€‚è¿‡äº†ä¸€ä¼šï¼ŒAæ”¶åˆ°äº†Bç¬¬ä¸€æ¬¡å‘é€çš„å¯¹M1çš„ç¡®è®¤æ¶ˆæ¯ï¼ˆAä¹Ÿæ”¶åˆ°äº†2ä»½ç¡®è®¤æ¶ˆæ¯ï¼‰ã€‚å¤„ç†å¦‚ä¸‹ï¼š\n\nAæ”¶åˆ°é‡å¤çš„ç¡®è®¤åï¼Œç›´æ¥ä¸¢å¼ƒã€‚\nBæ”¶åˆ°é‡å¤çš„M1åï¼Œä¹Ÿç›´æ¥ä¸¢å¼ƒé‡å¤çš„M1ã€‚\n\nè¶…æ—¶æ—¶é—´çš„ç¡®å®šæœ€ç†æƒ³çš„è¶…æ—¶æ—¶é—´æ˜¯ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€å°æ—¶é—´ï¼Œä»–èƒ½ä¿è¯ç¡®è®¤åº”ç­”ä¸€å®šèƒ½åœ¨è¿™ä¸ªæ—¶é—´å†…è¿”å›ã€‚ç„¶è€Œè¿™ä¸ªæ—¶é—´ä¼šæ ¹æ®ç½‘ç»œç¯å¢ƒçš„ä¸åŒè€Œå˜åŒ–ã€‚TCP è¦æ±‚ä¸è®ºå¤„åœ¨ä½•ç§ç½‘ç»œç¯å¢ƒä¸‹éƒ½è¦æä¾›é«˜æ€§èƒ½é€šä¿¡ï¼Œå¹¶ä¸”æ— è®ºç½‘ç»œæ‹¥å µæƒ…å†µå‘ç”Ÿä½•ç§å˜åŒ–ï¼Œéƒ½å¿…é¡»ä¿æŒè¿™ä¸€ç‰¹æ€§ã€‚å› æ­¤å®ƒåœ¨æ¯æ¬¡å‘åŒ…çš„æ—¶å€™éƒ½ä¼šè®¡ç®—å¾€è¿”æ—¶é—´åŠå…¶åå·®ã€‚å°†è¿™ä¸ªå¾€è¿”æ—¶é—´å’Œåå·®æ—¶é—´ç›¸åŠ ï¼Œé‡å‘è¶…æ—¶æ—¶é—´ä¼šæ¯”è¿™ä¸ªå€¼è¿˜ç¨å¾®å¤§ä¸€ç‚¹ã€‚ä¸€èˆ¬æƒ…å†µä¸‹é‡å‘æ—¶é—´éƒ½æ˜¯ 0.5s çš„æ•´æ•°å€ï¼ŒåŒæ—¶å› ä¸ºåå·®æ—¶é—´çš„æœ€å°å€¼ä¹Ÿæ˜¯ 0.5s ï¼Œå› æ­¤æœ€å°çš„é‡å‘è¶…æ—¶æ—¶é—´è‡³å°‘æ˜¯ 1sã€‚ä¸€èˆ¬æƒ…å†µä¸‹è¶…æ—¶æ—¶é—´è®¾ç½®ä¸º 6sï¼Œå¦‚æœæ•°æ®è¢«é‡å‘åè¿˜æ˜¯æ²¡æœ‰æ­£å¸¸æ”¶åˆ° ACKï¼Œç­‰å¾…ç¡®è®¤çš„æ—¶é—´ä¼šä»¥ 2å€ï¼Œ4å€â€¦çš„æŒ‡æ•°æ–¹å¼å¢é•¿ã€‚å¦‚æœè¾¾åˆ°ä¸€å®šé‡å‘æ¬¡æ•°åè¿˜æ˜¯ä¸æˆåŠŸï¼Œå°±ä¼šåˆ¤å®šä¸ºç½‘ç»œå¼‚å¸¸ï¼Œå¼ºåˆ¶å…³é—­é“¾æ¥ï¼Œå¹¶ä¸”é€šçŸ¥åº”ç”¨ç¨‹åºã€‚\nä¸¤ç§é‡ä¼ åè®®è‡ªåŠ¨é‡ä¼ è¯·æ±‚ ARQ åè®®åœæ­¢ç­‰å¾…åè®®ä¸­è¶…æ—¶é‡ä¼ æ˜¯æŒ‡åªè¦è¶…è¿‡ä¸€æ®µæ—¶é—´ä»ç„¶æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œå°±é‡ä¼ å‰é¢å‘é€è¿‡çš„åˆ†ç»„ï¼ˆè®¤ä¸ºåˆšæ‰å‘é€è¿‡çš„åˆ†ç»„ä¸¢å¤±äº†ï¼‰ã€‚å› æ­¤æ¯å‘é€å®Œä¸€ä¸ªåˆ†ç»„éœ€è¦è®¾ç½®ä¸€ä¸ªè¶…æ—¶è®¡æ—¶å™¨ï¼Œå…¶é‡è½¬æ—¶é—´åº”æ¯”æ•°æ®åœ¨åˆ†ç»„ä¼ è¾“çš„å¹³å‡å¾€è¿”æ—¶é—´æ›´é•¿ä¸€äº›ã€‚è¿™ç§è‡ªåŠ¨é‡ä¼ æ–¹å¼å¸¸ç§°ä¸ºè‡ªåŠ¨é‡ä¼ è¯·æ±‚ARQã€‚ä¼˜ç‚¹ï¼š ç®€å•ç¼ºç‚¹ï¼š ä¿¡é“åˆ©ç”¨ç‡ä½\nè¿ç»­ARQåè®®è¿ç»­ ARQ åè®®å¯æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚å‘é€æ–¹ç»´æŒä¸€ä¸ªå‘é€çª—å£ï¼Œå‡¡ä½äºå‘é€çª—å£å†…çš„åˆ†ç»„å¯ä»¥è¿ç»­å‘é€å‡ºå»ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚æ¥æ”¶æ–¹ä¸€èˆ¬é‡‡ç”¨ç´¯è®¡ç¡®è®¤ï¼Œå¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªåˆ†ç»„å‘é€ç¡®è®¤ï¼Œè¡¨æ˜åˆ°è¿™ä¸ªåˆ†ç»„ä¸ºæ­¢çš„æ‰€æœ‰åˆ†ç»„éƒ½å·²ç»æ­£ç¡®æ”¶åˆ°äº†ã€‚ä¼˜ç‚¹ï¼š ä¿¡é“åˆ©ç”¨ç‡é«˜ï¼Œå®¹æ˜“å®ç°ï¼Œå³ä½¿ç¡®è®¤ä¸¢å¤±ï¼Œä¹Ÿä¸å¿…é‡ä¼ ã€‚ç¼ºç‚¹ï¼š ä¸èƒ½å‘å‘é€æ–¹åæ˜ å‡ºæ¥æ”¶æ–¹å·²ç»æ­£ç¡®æ”¶åˆ°çš„æ‰€æœ‰åˆ†ç»„çš„ä¿¡æ¯ã€‚ æ¯”å¦‚ï¼šå‘é€æ–¹å‘é€äº† 5æ¡ æ¶ˆæ¯ï¼Œä¸­é—´ç¬¬ä¸‰æ¡ä¸¢å¤±ï¼ˆ3å·ï¼‰ï¼Œè¿™æ—¶æ¥æ”¶æ–¹åªèƒ½å¯¹å‰ä¸¤ä¸ªå‘é€ç¡®è®¤ã€‚å‘é€æ–¹æ— æ³•çŸ¥é“åä¸‰ä¸ªåˆ†ç»„çš„ä¸‹è½ï¼Œè€Œåªå¥½æŠŠåä¸‰ä¸ªå…¨éƒ¨é‡ä¼ ä¸€æ¬¡ã€‚è¿™ä¹Ÿå« Go-Back-Nï¼ˆå›é€€ Nï¼‰ï¼Œè¡¨ç¤ºéœ€è¦é€€å›æ¥é‡ä¼ å·²ç»å‘é€è¿‡çš„ N ä¸ªæ¶ˆæ¯ã€‚\nåºåˆ—å·ä¸Šè¿°è¿™äº›ç¡®è®¤åº”ç­”å¤„ç†ï¼Œé‡å‘æ§åˆ¶ä»¥åŠé‡å¤æ§åˆ¶ç­‰åŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡åºåˆ—å·å®ç°ã€‚åºåˆ—å·æ˜¯æŒ‰é¡ºåºç»™å‘é€æ•°æ®çš„æ¯ä¸€ä¸ªå­—èŠ‚ï¼ˆ8ä½ï¼‰éƒ½æ ‡ä¸Šå·ç çš„ç¼–å·ï¼Œæ¥æ”¶ç«¯æŸ¥è¯¢æ•°æ® TCP é¦–éƒ¨ä¸­çš„åºåˆ—å·å’Œæ•°æ®çš„é•¿åº¦ï¼Œå°†è‡ªå·±ä¸‹ä¸€æ­¥åº”è¯¥æ¥å—çš„åºå·è¿”å›ï¼Œè¿™æ ·é€šè¿‡ ACK å’Œåºåˆ—å·çš„ç»“åˆå¯ä»¥å®ç°å¯é çš„è¿è¾“ã€‚\nTCP ä»¥æ®µä¸ºå•ä½å‘é€æ•°æ®TCP å°†åŸå§‹æ•°æ®æŠ¥åˆ†å‰²æˆåˆé€‚çš„å¤§å°è¿›è¡Œä¼ è¾“ï¼Œè¿™ä¸ªå¤§å°å«åšæœ€å¤§æ¶ˆæ¯é•¿åº¦ MSS: Maximum Segment Size ã€‚æœ€ç†æƒ³çš„æƒ…å†µæ˜¯ï¼Œæœ€å¤§æ¶ˆæ¯é•¿åº¦æ­£å¥½æ˜¯ IP ä¸­ä¸ä¼šè¢«åˆ†ç‰‡å¤„ç†çš„æœ€å¤§æ•°æ®é•¿åº¦ã€‚TCP åœ¨æ•°æ®å‘é€å’Œé‡å‘çš„æ—¶å€™éƒ½æ˜¯ä»¥ MSS ä¸ºå•ä½çš„ã€‚MSS æ˜¯åœ¨ä¸‰æ¬¡æ¡æ‰‹çš„æ—¶å€™ï¼Œåœ¨ä¸¤ç«¯ä¸»æœºä¹‹é—´è¢«è®¡ç®—å¾—å‡ºã€‚ä¸¤ç«¯åœ¨å»ºç«‹è¿æ¥çš„æ—¶å€™ï¼Œä¼šåœ¨ TCP é¦–éƒ¨å†™å…¥ MSS é€‰é¡¹ï¼Œå‘Šè¯‰å¯¹æ–¹è‡ªå·±çš„æ¥å£èƒ½å¤Ÿé€‚åº”çš„ MSS å¤§å°ï¼Œç„¶åä¼šåœ¨ä¸¤è€…ä¹‹é—´é€‰æ‹©ä¸€ä¸ªè¾ƒå°çš„å€¼æŠ•å…¥ä½¿ç”¨ã€‚\næ»‘åŠ¨çª—å£æˆ‘ä»¬å·²ç»äº†è§£åˆ° TCP å°†æ•°æ®æŠ¥åˆ†æ®µè¿›è¡Œå¤„ç†ï¼Œæ¯æ¬¡å‘é€ä¸€ä¸ªæ®µå°±è¿›è¡Œä¸€æ¬¡ç¡®è®¤åº”ç­”çš„å¤„ç†ï¼Œè¿™åˆå¸¦æ¥ä¸€ä¸ªç¼ºç‚¹ï¼ŒåŒ…çš„å¾€è¿”æ—¶é—´è¶Šé•¿ï¼ŒåŒ…çš„æ•°é‡è¶Šå¤šï¼Œé€šä¿¡æ€§èƒ½å°±ä¼šå¤§å¤§é™ä½ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTCP å¼•å…¥äº†çª—å£è¿™ä¸ªæ¦‚å¿µã€‚å³ä½¿åœ¨å¾€è¿”æ—¶é—´è¾ƒé•¿çš„æƒ…å†µä¸‹ï¼Œä»–ä¹Ÿèƒ½æ§åˆ¶ç½‘ç»œæ€§èƒ½çš„ä¸‹é™ã€‚ç¡®è®¤åº”ç­”ä¸å†æ˜¯ä¸€å¯¹ä¸€çš„ï¼Œè€Œæ˜¯ä»¥çª—å£ä¸ºå•ä½è¿›è¡Œç¡®è®¤ã€‚ä¹Ÿå°±æ„å‘³ç€å‘é€ç«¯ä¸»æœºåœ¨å‘é€äº†ä¸€ä¸ªæ®µä»¥åä¸å¿…è¦ä¸€ç›´ç­‰å¾…ç¡®è®¤åº”ç­”ï¼Œè€Œæ˜¯ç»§ç»­å‘é€ã€‚è¿™ä¸ªæœºåˆ¶éœ€è¦å¤§é‡çš„ç¼“å†²åŒºï¼Œä¸€ä¸ªçª—å£å†…çš„æ•°æ®å³ä¾¿æ²¡æœ‰æ”¶åˆ°ç¡®è®¤åº”ç­”ä¹Ÿå¯ä»¥å‘é€å‡ºå»ï¼ŒåŒæ—¶ä¸ºäº†è§£å†³å‘é€è¿‡ç¨‹ä¸­çš„æ•°æ®ä¸¢å¤±ï¼Œä¿è¯å¯ä»¥åŠæ—¶é‡å‘ç¼ºå¤±çš„æ•°æ®ï¼Œå‘é€ç«¯ä¸»æœºåœ¨ç­‰åˆ°ç¡®è®¤åº”ç­”è¿”å›ä¹‹å‰ï¼Œå¿…é¡»åœ¨ç¼“å†²åŒºä¸­ä¿ç•™è¿™éƒ¨åˆ†æ•°æ®ã€‚å¦‚æœä¸€ä¸ªçª—å£ä¸­çš„æŸæ®µæ•°æ®æ²¡æœ‰æˆåŠŸé€è¾¾ï¼Œé‚£ä¹ˆè¯¥æ®µä¹‹åçš„æ•°æ®éƒ½ä¼šé‡ä¼ ï¼Œçª—å£ä¼šæ»‘åŠ¨åˆ°ä»¥è¯¥æ®µæ•°æ®ä¸ºèµ·ç‚¹ã€‚\n\næ‹¥å¡æ§åˆ¶åœ¨æŸæ®µæ—¶é—´ï¼Œè‹¥å¯¹ç½‘ç»œä¸­æŸä¸€èµ„æºçš„éœ€æ±‚è¶…è¿‡äº†è¯¥èµ„æºæ‰€èƒ½æä¾›çš„å¯ç”¨éƒ¨åˆ†ï¼Œç½‘ç»œçš„æ€§èƒ½å°±è¦å˜åã€‚è¿™ç§æƒ…å†µå°±å«æ‹¥å¡ã€‚æ‹¥å¡æ§åˆ¶å°±æ˜¯ä¸ºäº†é˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç½‘ç»œä¸­çš„è·¯ç”±å™¨æˆ–é“¾è·¯ä¸è‡´è¿‡è½½ã€‚æ‹¥å¡æ§åˆ¶æ‰€è¦åšçš„éƒ½æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯ç½‘ç»œèƒ½å¤Ÿæ‰¿å—ç°æœ‰çš„ç½‘ç»œè´Ÿè·ã€‚æ‹¥å¡æ§åˆ¶æ˜¯ä¸€ä¸ªå…¨å±€æ€§çš„è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°æ‰€æœ‰çš„ä¸»æœºï¼Œæ‰€æœ‰çš„è·¯ç”±å™¨ï¼Œä»¥åŠä¸é™ä½ç½‘ç»œä¼ è¾“æ€§èƒ½æœ‰å…³çš„æ‰€æœ‰å› ç´ ã€‚ç›¸åï¼Œæµé‡æ§åˆ¶å¾€å¾€æ˜¯ç‚¹å¯¹ç‚¹é€šä¿¡é‡çš„æ§åˆ¶ï¼Œæ˜¯ä¸ªç«¯åˆ°ç«¯çš„é—®é¢˜ã€‚æµé‡æ§åˆ¶æ‰€è¦åšåˆ°çš„å°±æ˜¯æŠ‘åˆ¶å‘é€ç«¯å‘é€æ•°æ®çš„é€Ÿç‡ï¼Œä»¥ä¾¿ä½¿æ¥æ”¶ç«¯æ¥å¾—åŠæ¥æ”¶ã€‚ä¸ºäº†è¿›è¡Œæ‹¥å¡æ§åˆ¶ï¼ŒTCP å‘é€æ–¹è¦ç»´æŒä¸€ä¸ª æ‹¥å¡çª—å£(cwnd) çš„çŠ¶æ€å˜é‡ã€‚æ‹¥å¡æ§åˆ¶çª—å£çš„å¤§å°å–å†³äºç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ï¼Œå¹¶ä¸”åŠ¨æ€å˜åŒ–ã€‚å‘é€æ–¹è®©è‡ªå·±çš„å‘é€çª—å£å–ä¸ºæ‹¥å¡çª—å£å’Œæ¥æ”¶æ–¹çš„æ¥å—çª—å£ä¸­è¾ƒå°çš„ä¸€ä¸ªã€‚TCPçš„æ‹¥å¡æ§åˆ¶é‡‡ç”¨äº†å››ç§ç®—æ³•ï¼Œå³ æ…¢å¼€å§‹ ã€ æ‹¥å¡é¿å… ã€å¿«é‡ä¼  å’Œ å¿«æ¢å¤ã€‚åœ¨ç½‘ç»œå±‚ä¹Ÿå¯ä»¥ä½¿è·¯ç”±å™¨é‡‡ç”¨é€‚å½“çš„åˆ†ç»„ä¸¢å¼ƒç­–ç•¥ï¼ˆå¦‚ä¸»åŠ¨é˜Ÿåˆ—ç®¡ç† AQMï¼‰ï¼Œä»¥å‡å°‘ç½‘ç»œæ‹¥å¡çš„å‘ç”Ÿã€‚\n\næ…¢å¼€å§‹ï¼š æ…¢å¼€å§‹ç®—æ³•çš„æ€è·¯æ˜¯å½“ä¸»æœºå¼€å§‹å‘é€æ•°æ®æ—¶ï¼Œå¦‚æœç«‹å³æŠŠå¤§é‡æ•°æ®å­—èŠ‚æ³¨å…¥åˆ°ç½‘ç»œï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¼•èµ·ç½‘ç»œé˜»å¡ï¼Œå› ä¸ºç°åœ¨è¿˜ä¸çŸ¥é“ç½‘ç»œçš„ç¬¦åˆæƒ…å†µã€‚ç»éªŒè¡¨æ˜ï¼Œè¾ƒå¥½çš„æ–¹æ³•æ˜¯å…ˆæ¢æµ‹ä¸€ä¸‹ï¼Œå³ç”±å°åˆ°å¤§é€æ¸å¢å¤§å‘é€çª—å£ï¼Œä¹Ÿå°±æ˜¯ç”±å°åˆ°å¤§é€æ¸å¢å¤§æ‹¥å¡çª—å£æ•°å€¼ã€‚cwndåˆå§‹å€¼ä¸º1ï¼Œæ¯ç»è¿‡ä¸€ä¸ªä¼ æ’­è½®æ¬¡ï¼ŒcwndåŠ å€ã€‚\n\nå¿«é‡ä¼ å’Œå¿«æ¢å¤åœ¨ TCP/IP ä¸­ï¼Œå¿«é€Ÿé‡ä¼ å’Œæ¢å¤ï¼ˆfast retransmit and recoveryï¼ŒFRRï¼‰æ˜¯ä¸€ç§æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œå®ƒèƒ½å¿«é€Ÿæ¢å¤ä¸¢å¤±çš„æ•°æ®åŒ…ã€‚æ²¡æœ‰ FRRï¼Œå¦‚æœæ•°æ®åŒ…ä¸¢å¤±äº†ï¼ŒTCP å°†ä¼šä½¿ç”¨å®šæ—¶å™¨æ¥è¦æ±‚ä¼ è¾“æš‚åœã€‚åœ¨æš‚åœçš„è¿™æ®µæ—¶é—´å†…ï¼Œæ²¡æœ‰æ–°çš„æˆ–å¤åˆ¶çš„æ•°æ®åŒ…è¢«å‘é€ã€‚æœ‰äº† FRRï¼Œå¦‚æœæ¥æ”¶æœºæ¥æ”¶åˆ°ä¸€ä¸ªä¸æŒ‰é¡ºåºçš„æ•°æ®æ®µï¼Œå®ƒä¼šç«‹å³ç»™å‘é€æœºå‘é€ä¸€ä¸ªé‡å¤ç¡®è®¤ã€‚å¦‚æœå‘é€æœºæ¥æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œå®ƒä¼šå‡å®šç¡®è®¤ä»¶æŒ‡å‡ºçš„æ•°æ®æ®µä¸¢å¤±äº†ï¼Œå¹¶ç«‹å³é‡ä¼ è¿™äº›ä¸¢å¤±çš„æ•°æ®æ®µã€‚æœ‰äº† FRRï¼Œå°±ä¸ä¼šå› ä¸ºé‡ä¼ æ—¶è¦æ±‚çš„æš‚åœè¢«è€½è¯¯ã€‚ â€ƒå½“æœ‰å•ç‹¬çš„æ•°æ®åŒ…ä¸¢å¤±æ—¶ï¼Œå¿«é€Ÿé‡ä¼ å’Œæ¢å¤ï¼ˆFRRï¼‰èƒ½æœ€æœ‰æ•ˆåœ°å·¥ä½œã€‚å½“æœ‰å¤šä¸ªæ•°æ®ä¿¡æ¯åŒ…åœ¨æŸä¸€æ®µå¾ˆçŸ­çš„æ—¶é—´å†…ä¸¢å¤±æ—¶ï¼Œå®ƒåˆ™ä¸èƒ½å¾ˆæœ‰æ•ˆåœ°å·¥ä½œã€‚\nå“ªäº›é¢è¯•å®˜éå¸¸å–œæ¬¢é—®çš„é—®é¢˜ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ä¸¤æ¬¡æ¡æ‰‹è¿›è¡Œè¿æ¥ï¼Ÿä¸€å¥è¯ï¼Œä¸»è¦é˜²æ­¢å·²ç»å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡çªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡å™¨ï¼Œä»è€Œäº§ç”Ÿé”™è¯¯ã€‚\nå¦‚æœä½¿ç”¨çš„æ˜¯ä¸¤æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå‡è®¾æœ‰è¿™æ ·ä¸€ç§åœºæ™¯ï¼Œå®¢æˆ·ç«¯å‘é€äº†ç¬¬ä¸€ä¸ªè¯·æ±‚è¿æ¥å¹¶ä¸”æ²¡æœ‰ä¸¢å¤±ï¼Œåªæ˜¯å› ä¸ºåœ¨ç½‘ç»œç»“ç‚¹ä¸­æ»ç•™çš„æ—¶é—´å¤ªé•¿äº†ï¼Œç”±äºTCPçš„å®¢æˆ·ç«¯è¿Ÿè¿Ÿæ²¡æœ‰æ”¶åˆ°ç¡®è®¤æŠ¥æ–‡ï¼Œä»¥ä¸ºæœåŠ¡å™¨æ²¡æœ‰æ”¶åˆ°ï¼Œæ­¤æ—¶é‡æ–°å‘æœåŠ¡å™¨å‘é€è¿™æ¡æŠ¥æ–‡ï¼Œæ­¤åå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç»è¿‡ä¸¤æ¬¡æ¡æ‰‹å®Œæˆè¿æ¥ï¼Œä¼ è¾“æ•°æ®ï¼Œç„¶åå…³é—­è¿æ¥ã€‚æ­¤æ—¶æ­¤å‰æ»ç•™çš„é‚£ä¸€æ¬¡è¯·æ±‚è¿æ¥ï¼Œç½‘ç»œé€šç•…äº†åˆ°è¾¾äº†æœåŠ¡å™¨ï¼Œè¿™ä¸ªæŠ¥æ–‡æœ¬è¯¥æ˜¯å¤±æ•ˆçš„ï¼Œä½†æ˜¯ï¼Œä¸¤æ¬¡æ¡æ‰‹çš„æœºåˆ¶å°†ä¼šè®©å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å†æ¬¡å»ºç«‹è¿æ¥ï¼Œè¿™å°†å¯¼è‡´ä¸å¿…è¦çš„é”™è¯¯å’Œèµ„æºçš„æµªè´¹ã€‚\nå¦‚æœé‡‡ç”¨çš„æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå°±ç®—æ˜¯é‚£ä¸€æ¬¡å¤±æ•ˆçš„æŠ¥æ–‡ä¼ é€è¿‡æ¥äº†ï¼ŒæœåŠ¡ç«¯æ¥å—åˆ°äº†é‚£æ¡å¤±æ•ˆæŠ¥æ–‡å¹¶ä¸”å›å¤äº†ç¡®è®¤æŠ¥æ–‡ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¸ä¼šå†æ¬¡å‘å‡ºç¡®è®¤ã€‚ç”±äºæœåŠ¡å™¨æ”¶ä¸åˆ°ç¡®è®¤ï¼Œå°±çŸ¥é“å®¢æˆ·ç«¯å¹¶æ²¡æœ‰è¯·æ±‚è¿æ¥ã€‚\nä¸ºä»€ä¹ˆå®¢æˆ·ç«¯æœ€åè¿˜è¦ç­‰å¾…2MSLï¼ŸMSLï¼ˆMaximum Segment Lifetimeï¼‰ï¼ŒTCPå…è®¸ä¸åŒçš„å®ç°å¯ä»¥è®¾ç½®ä¸åŒçš„MSLå€¼ã€‚\nç¬¬ä¸€ï¼Œä¿è¯å®¢æˆ·ç«¯å‘é€çš„æœ€åä¸€ä¸ªACKæŠ¥æ–‡èƒ½å¤Ÿåˆ°è¾¾æœåŠ¡å™¨ï¼Œå› ä¸ºè¿™ä¸ªACKæŠ¥æ–‡å¯èƒ½ä¸¢å¤±ï¼Œç«™åœ¨æœåŠ¡å™¨çš„è§’åº¦çœ‹æ¥ï¼Œæˆ‘å·²ç»å‘é€äº†FIN+ACKæŠ¥æ–‡è¯·æ±‚æ–­å¼€äº†ï¼Œå®¢æˆ·ç«¯è¿˜æ²¡æœ‰ç»™æˆ‘å›åº”ï¼Œåº”è¯¥æ˜¯æˆ‘å‘é€çš„è¯·æ±‚æ–­å¼€æŠ¥æ–‡å®ƒæ²¡æœ‰æ”¶åˆ°ï¼Œäºæ˜¯æœåŠ¡å™¨åˆä¼šé‡æ–°å‘é€ä¸€æ¬¡ï¼Œè€Œå®¢æˆ·ç«¯å°±èƒ½åœ¨è¿™ä¸ª2MSLæ—¶é—´æ®µå†…æ”¶åˆ°è¿™ä¸ªé‡ä¼ çš„æŠ¥æ–‡ï¼Œæ¥ç€ç»™å‡ºå›åº”æŠ¥æ–‡ï¼Œå¹¶ä¸”ä¼šé‡å¯2MSLè®¡æ—¶å™¨ã€‚\nç¬¬äºŒï¼Œé˜²æ­¢ç±»ä¼¼ä¸â€œä¸‰æ¬¡æ¡æ‰‹â€ä¸­æåˆ°äº†çš„â€œå·²ç»å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µâ€å‡ºç°åœ¨æœ¬è¿æ¥ä¸­ã€‚å®¢æˆ·ç«¯å‘é€å®Œæœ€åä¸€ä¸ªç¡®è®¤æŠ¥æ–‡åï¼Œåœ¨è¿™ä¸ª2MSLæ—¶é—´ä¸­ï¼Œå°±å¯ä»¥ä½¿æœ¬è¿æ¥æŒç»­çš„æ—¶é—´å†…æ‰€äº§ç”Ÿçš„æ‰€æœ‰æŠ¥æ–‡æ®µéƒ½ä»ç½‘ç»œä¸­æ¶ˆå¤±ã€‚è¿™æ ·æ–°çš„è¿æ¥ä¸­ä¸ä¼šå‡ºç°æ—§è¿æ¥çš„è¯·æ±‚æŠ¥æ–‡ã€‚\nä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­è¿æ¥ç¡®æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢ï¼Ÿå»ºç«‹è¿æ¥çš„æ—¶å€™ï¼Œ æœåŠ¡å™¨åœ¨LISTENçŠ¶æ€ä¸‹ï¼Œæ”¶åˆ°å»ºç«‹è¿æ¥è¯·æ±‚çš„SYNæŠ¥æ–‡åï¼ŒæŠŠACKå’ŒSYNæ”¾åœ¨ä¸€ä¸ªæŠ¥æ–‡é‡Œå‘é€ç»™å®¢æˆ·ç«¯ã€‚è€Œå…³é—­è¿æ¥æ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°å¯¹æ–¹çš„FINæŠ¥æ–‡æ—¶ï¼Œä»…ä»…è¡¨ç¤ºå¯¹æ–¹ä¸å†å‘é€æ•°æ®äº†ä½†æ˜¯è¿˜èƒ½æ¥æ”¶æ•°æ®ï¼Œè€Œè‡ªå·±ä¹Ÿæœªå¿…å…¨éƒ¨æ•°æ®éƒ½å‘é€ç»™å¯¹æ–¹äº†ï¼Œæ‰€ä»¥å·±æ–¹å¯ä»¥ç«‹å³å…³é—­ï¼Œä¹Ÿå¯ä»¥å‘é€ä¸€äº›æ•°æ®ç»™å¯¹æ–¹åï¼Œå†å‘é€FINæŠ¥æ–‡ç»™å¯¹æ–¹æ¥è¡¨ç¤ºåŒæ„ç°åœ¨å…³é—­è¿æ¥ï¼Œå› æ­¤ï¼Œå·±æ–¹ACKå’ŒFINä¸€èˆ¬éƒ½ä¼šåˆ†å¼€å‘é€ï¼Œä»è€Œå¯¼è‡´å¤šäº†ä¸€æ¬¡ã€‚\nå¦‚æœå·²ç»å»ºç«‹äº†è¿æ¥ï¼Œä½†æ˜¯å®¢æˆ·ç«¯çªç„¶å‡ºç°æ•…éšœäº†æ€ä¹ˆåŠï¼ŸTCPè¿˜è®¾æœ‰ä¸€ä¸ªä¿æ´»è®¡æ—¶å™¨ï¼Œæ˜¾ç„¶ï¼Œå®¢æˆ·ç«¯å¦‚æœå‡ºç°æ•…éšœï¼ŒæœåŠ¡å™¨ä¸èƒ½ä¸€ç›´ç­‰ä¸‹å»ï¼Œç™½ç™½æµªè´¹èµ„æºã€‚æœåŠ¡å™¨æ¯æ”¶åˆ°ä¸€æ¬¡å®¢æˆ·ç«¯çš„è¯·æ±‚åéƒ½ä¼šé‡æ–°å¤ä½è¿™ä¸ªè®¡æ—¶å™¨ï¼Œæ—¶é—´é€šå¸¸æ˜¯è®¾ç½®ä¸º2å°æ—¶ï¼Œè‹¥ä¸¤å°æ—¶è¿˜æ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯çš„ä»»ä½•æ•°æ®ï¼ŒæœåŠ¡å™¨å°±ä¼šå‘é€ä¸€ä¸ªæ¢æµ‹æŠ¥æ–‡æ®µï¼Œä»¥åæ¯éš”75ç§’å‘é€ä¸€æ¬¡ã€‚è‹¥ä¸€è¿å‘é€10ä¸ªæ¢æµ‹æŠ¥æ–‡ä»ç„¶æ²¡ååº”ï¼ŒæœåŠ¡å™¨å°±è®¤ä¸ºå®¢æˆ·ç«¯å‡ºäº†æ•…éšœï¼Œæ¥ç€å°±å…³é—­è¿æ¥ã€‚\næ¡æ‰‹å’ŒæŒ¥æ‰‹è¯¦ç»†è¿‡ç¨‹ä¸‰æ¬¡æ¡æ‰‹\nå››æ¬¡æŒ¥æ‰‹\nReferenceTCPçš„ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹ï¼ˆè¯¦è§£+åŠ¨å›¾ï¼‰ - qzcsuçš„åšå®¢ - CSDNåšå®¢\nè®¡ç®—æœºç½‘ç»œï¼šè¿™æ˜¯ä¸€ä»½å…¨é¢ &amp; è¯¦ç»† çš„TCPåè®®å­¦ä¹ æŒ‡å— - ä¸“æ³¨åˆ†äº« Androidå¼€å‘ å¹²è´§ - CSDNåšå®¢\næå®šè®¡ç®—æœºç½‘ç»œé¢è¯•ï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº†ï¼ˆè¡¥å……ç‰ˆï¼‰ - æ˜é‡‘\nTCPçš„ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹ç†è§£åŠé¢è¯•é¢˜ï¼ˆå¾ˆå…¨é¢ï¼‰ - lucky_jun - CSDNåšå®¢\n","plink":"https://xkeith.space/post/arc-10/"},{"title":"Top-K é—®é¢˜","date":"2019-03-25T08:51:45.000Z","updated":"2019-03-25T12:04:23.644Z","content":"\n\nä» n ä¸ªæ•°ä¸­æ‰¾å‡ºæœ€å¤§çš„ k ä¸ªæ•°  \n\nå…¨å±€æ’åºæœ€å®¹æ˜“çš„æ–¹æ³•ï¼Œå…¨éƒ¨æ’åºï¼Œå–å‡ºæœ€å¤§çš„ k ä¸ªã€‚æ—¶é—´å¤æ‚åº¦å–å†³äºå…·ä½“ä½¿ç”¨çš„æ’åºç®—æ³•ã€‚é—®é¢˜å‡ºåœ¨å½“æ•°æ®æ•°é‡ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼ŒèŠ±è´¹äº†å¾ˆå¤šæ—¶é—´åœ¨ä¸éœ€è¦çš„å…ƒç´ çš„æ’åºä¸Šã€‚\nå±€éƒ¨æ’åºä¸å†å…¨å±€æ’åºï¼Œåªå¯¹æœ€å¤§çš„ k ä¸ªæ’åºã€‚ç›¸å½“äºå†’æ³¡æ’åºæˆ–è€…æ˜¯é€‰æ‹©æ’åºï¼Œä¸æ–­é€‰æ‹©æœ€å¤§å€¼æ”¾åˆ°å‰é¢ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯ O(n * k)ä½†æ˜¯æˆ‘ä»¬è¦æ³¨æ„ï¼Œtop-k é—®é¢˜ä¸­çš„è¿™ k ä¸ªæœ€å¤§å…ƒç´ æ˜¯ä¸éœ€è¦æœ‰åºçš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥å‡å°‘æ“ä½œã€‚\nå †å…ˆç”¨å‰ k ä¸ªå…ƒç´ ç”Ÿæˆä¸€ä¸ªå°é¡¶å †ï¼Œç”¨äºå­˜å‚¨å½“å‰æ‰«æè¿‡çš„æ•°æ®ä¸­æœ€å¤§çš„ k ä¸ªå…ƒç´ ã€‚ä¹‹åä»ç¬¬ k+1 ä¸ªå…ƒç´ å¼€å§‹æ‰«æï¼Œå¦‚æœæœ‰å…ƒç´ å¤§äºå½“å‰å †é¡¶çš„å…ƒç´ ï¼Œé‚£ä¹ˆæ·˜æ±°å½“å‰å †é¡¶å…ƒç´ ï¼Œæ›¿æ¢ä¸ºæ–°å…ƒç´ ï¼ŒåŒæ—¶è°ƒæ•´å †çš„å¹³è¡¡ã€‚æœ€åå‰©ä¸‹çš„ k ä¸ªå…ƒç´ ç»„æˆçš„å †ï¼Œå°±æ˜¯ top-k ã€‚å‡è®¾æ¯æ¬¡å †éƒ½å‘ç”Ÿäº†è°ƒæ•´ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ä¸º O(n * lg(k) )å †æ˜¯è§£å†³ top-k çš„ç»å…¸ç®—æ³•ï¼Œæ¥ä¸‹æ¥è¦å¼€å§‹æ›´ç§€çš„æ“ä½œäº†ğŸ¤’\néšæœºé€‰æ‹©éšæœºé€‰æ‹©ç®—æ³•æ˜¯ã€Šç®—æ³•å¯¼è®ºã€‹ä¸­ä¸€ä¸ªç»å…¸çš„ç®—æ³•ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæ˜¯ä¸€ä¸ªçº¿æ€§å¤æ‚åº¦çš„æ–¹æ³•ã€‚åˆ©ç”¨å¿«æ’æ¥å¯»æ‰¾ top-k ï¼Œæ‰¾åˆ°æ•°ç»„ä¸­ç¬¬ k å¤§çš„å…ƒç´ ï¼Œæ­¤æ—¶æ•°ç»„ä¸­è¯¥å…ƒç´ å·¦è¾¹çš„å…ƒç´ å³æ˜¯ top-kã€‚\nå¿«é€Ÿæ’åºç¬¬ä¸€æ¬¡partitionï¼Œåˆ’åˆ†ä¹‹åï¼ši = partition(arr, 1, n);\n\nå¦‚æœiå¤§äºkï¼Œåˆ™è¯´æ˜arr[i]å·¦è¾¹çš„å…ƒç´ éƒ½å¤§äºkï¼Œäºæ˜¯åªé€’å½’arr[1, i-1]é‡Œç¬¬kå¤§çš„å…ƒç´ å³å¯ï¼›\n\nå¦‚æœiå°äºkï¼Œåˆ™è¯´æ˜è¯´æ˜ç¬¬kå¤§çš„å…ƒç´ åœ¨arr[i]çš„å³è¾¹ï¼Œäºæ˜¯åªé€’å½’arr[i+1, n]é‡Œç¬¬k-iå¤§çš„å…ƒç´ å³å¯ï¼›\n\n\n1234567891011121314151617181920212223242526272829let partitionLomuto = function(*arr*, *low*, *high*) &#123;  high--;  const pivot = arr[high];  for (var j = low; j &lt; high; j++) &#123;    if (arr[j] &gt;= pivot) &#123;      var temp = arr[low];      arr[low] = arr[j];      arr[j] = temp;      low ++;    &#125;  &#125;  temp = arr[low];  arr[low] = arr[high];  arr[high] = temp;  return low;&#125;let RS = function(*arr*, *low*, *high*, *k*) &#123;  let i = partitionLomuto(arr, low, high);  let temp = i - low;  if (temp === k)&#123;    return;  &#125;  if (temp &gt; k) &#123;    RS(arr, low, i, k);  &#125;else &#123;    RS(arr, i+1, high, k-i);  &#125;&#125;;\n\nBitMapä½å›¾æ˜¯ä¸ªå¾ˆæç«¯çš„ç©ºé—´æ¢æ—¶é—´çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œé›†åˆS={1,3,5,7,9}ï¼Œå®¹æ˜“å‘ç°ï¼ŒSä¸­æ‰€æœ‰å…ƒç´ éƒ½åœ¨1-16ä¹‹é—´ï¼Œäºæ˜¯ï¼Œå¯ä»¥ç”¨16ä¸ªbitæ¥è¡¨ç¤ºè¿™ä¸ªé›†åˆï¼šå­˜åœ¨äºé›†åˆä¸­çš„å…ƒç´ ï¼Œå¯¹åº”bitç½®1ï¼Œå¦åˆ™ç½®0ã€‚ç”»å¤–éŸ³ï¼šç©¶ç«Ÿéœ€è¦å¤šå°‘å­˜å­˜å‚¨ç©ºé—´ï¼Œå–å†³äºé›†åˆä¸­å…ƒç´ çš„å€¼åŸŸï¼Œåœ¨ä»€ä¹ˆèŒƒå›´ä¹‹å†…ã€‚ä¸Šè¿°é›†åˆSï¼Œå¯ä»¥ç”¨1010101010000000è¿™æ ·ä¸€ä¸ª16bitçš„bitmapæ¥è¡¨ç¤ºï¼Œå…¶ä¸­ï¼Œç¬¬1, 3, 5, 7, 9ä¸ªbitä½ç½®æ˜¯1ã€‚å‡è®¾TopKçš„nä¸ªå…ƒç´ éƒ½æ˜¯intï¼Œä¸”å…ƒç´ ä¹‹é—´æ²¡æœ‰é‡å¤ï¼Œåªéœ€è¦ç”³è¯·2^32ä¸ªbitï¼Œå³4Gçš„å†…å­˜ï¼Œå°±èƒ½å¤Ÿç”¨bitmapè¡¨ç¤ºè¿™nå…ƒç´ ã€‚æ‰«æä¸€æ¬¡æ‰€æœ‰nä¸ªå…ƒç´ ï¼Œä»¥ç”Ÿæˆbitmapï¼Œå…¶æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚ç”Ÿæˆåï¼Œå–TopKåªéœ€è¦æ‰¾åˆ°æœ€é«˜ä½çš„kä¸ªbitå³å¯ã€‚ç®—æ³•æ€»æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(n)ã€‚\nfalse is false, true may be trueä½†æ˜¯ bitmap æœ‰ä¸ªé—®é¢˜ï¼Œé‡å¤çš„å…ƒç´ ä¼šè¢«è¦†ç›–ï¼Œè¿™æ ·å¯èƒ½ä¼šä½¿å¾—èƒ½è¡¨è¾¾çš„æ•°æ®å˜å°‘ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸€ç§è®¡æ•°çš„ä½å›¾æ¥è§£å†³é—®é¢˜ï¼Œå¦‚æœæ•°æ®å‡ºç°é‡å¤ï¼Œé‚£ä¹ˆè¯¥ä½ count + 1ï¼Œtop-k å°±æˆä¸ºäº†ä»ååˆ°å‰ï¼Œcount ä¹‹å’Œ = kã€‚\n\nReferenceTop-Ké—®é¢˜ | æ˜“å­¦æ•™ç¨‹\n","plink":"https://xkeith.space/post/arc-09/"},{"title":"å¦‚ä½•æ‹¿ä¸‹å‰ç«¯é¢è¯•ï¼ˆç½‘ç»œç¯‡ï¼‰","date":"2019-03-23T13:47:33.000Z","updated":"2019-03-26T12:47:44.348Z","content":"\n\nåº”ç”¨å±‚ï¼ˆHTTP / HTTPSï¼‰\nçŠ¶æ€ç 1XXä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œè¡¨ç¤ºæ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç†ã€‚\n2XXæˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºè¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•\n200 OKè¯·æ±‚æ­£å¸¸å¤„ç†ï¼Œä¼šæ ¹æ®ä¸åŒçš„è¯·æ±‚æ–¹æ³•è¿”å›ä¸åŒçš„å“åº”ä¿¡æ¯ã€‚\n204 No Contentè¯·æ±‚æˆåŠŸå¤„ç†ï¼Œä½†åœ¨è¿”å›çš„å“åº”æŠ¥æ–‡ä¸­ä¸å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ã€‚ä¹Ÿä¸å…è®¸è¿”å›ä»»ä½•å®ä½“çš„ä¸»ä½“ã€‚ä¸€èˆ¬ç”¨äºå®¢æˆ·ç«¯çš„ä¿¡æ¯å‘é€ï¼Œä¸éœ€è¦æ¥æ”¶ä»»ä½•æ–°ä¿¡æ¯çš„æ—¶å€™ã€‚\n206 Partial Contentè¡¨ç¤ºèŒƒå›´è¯·æ±‚æˆåŠŸå¤„ç†ï¼Œå“åº”æŠ¥æ–‡ä¸­åŒ…å«ç”± Content-Range æŒ‡å®šèŒƒå›´çš„å®ä½“å†…å®¹ã€‚\n3XXé‡å®šå‘çŠ¶æ€ç ï¼Œè¡¨ç¤ºéœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚\n301 Moved Permanentlyæ°¸ä¹…æ€§é‡å®šå‘ã€‚è¡¨ç¤ºè¯¥è¯·æ±‚çš„èµ„æºå·²ç»è¢«åˆ†é…åˆ°äº†å…¶ä»–çš„ URL ä¸Šã€‚\n302 Foundä¸´æ—¶é‡å®šå‘\n303 See Otherè¡¨ç¤ºç”±äºè¯·æ±‚å¯¹åº”çš„èµ„æºå­˜åœ¨å¦ä¸€ä¸ª URLï¼Œåº”ä½¿ç”¨ GET æ–¹æ³•å®šå‘è·å–è¯·æ±‚çš„èµ„æºã€‚\n304 Not Modifiedå¦‚æœå®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ªå¸¦æ¡ä»¶çš„GET è¯·æ±‚ä¸”è¯¥è¯·æ±‚å·²è¢«å…è®¸ï¼Œè€Œæ–‡æ¡£çš„å†…å®¹ï¼ˆè‡ªä¸Šæ¬¡è®¿é—®ä»¥æ¥æˆ–è€…æ ¹æ®è¯·æ±‚çš„æ¡ä»¶ï¼‰å¹¶æ²¡æœ‰æ”¹å˜ï¼Œåˆ™æœåŠ¡å™¨åº”å½“è¿”å›è¿™ä¸ª304çŠ¶æ€ç ã€‚ç®€å•çš„è¡¨è¾¾å°±æ˜¯ï¼šå®¢æˆ·ç«¯å·²ç»æ‰§è¡Œäº†GETï¼Œä½†æ–‡ä»¶æœªå˜åŒ–ã€‚\n307 Temporary Redirectä¸´æ—¶é‡å®šå‘ï¼Œä¸ 302 æœ‰ç‚¹åŒºåˆ«ã€‚\n4XXå®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚\n400 Bad Requestè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ã€‚\n401 Unauthorizedè¡¨ç¤ºç”¨æˆ·æœªæˆæƒï¼Œå¯ç”¨äºç”¨æˆ·çŠ¶æ€éªŒè¯ã€‚\n403 Forbiddenè¡¨ç¤ºè¯·æ±‚è¢«æœåŠ¡å™¨æ‹’ç»äº†ï¼Œæ²¡æœ‰è®¿é—®æƒé™ã€‚\n404 Not FoundæœåŠ¡å™¨ä¸Šæ²¡æœ‰è¯·æ±‚çš„èµ„æºã€‚\n5XXæœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™\n500 Internal Server Erroråå°æœåŠ¡å™¨ bug å•¦\n503 Service UnavailableæœåŠ¡å™¨è¶…è´Ÿè½½æˆ–è€…æ˜¯åœæœºç»´æŠ¤ã€‚\nGET å’Œ POST çš„åŒºåˆ«å¸¸è§„æ„ä¹‰ä¸Šçš„åŒºåˆ«\nGETåœ¨æµè§ˆå™¨å›é€€æ—¶æ˜¯æ— å®³çš„ï¼Œè€ŒPOSTä¼šå†æ¬¡æäº¤è¯·æ±‚ã€‚\nGETäº§ç”Ÿçš„URLåœ°å€å¯ä»¥è¢«Bookmarkï¼Œè€ŒPOSTä¸å¯ä»¥ã€‚\nGETè¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨cacheï¼Œè€ŒPOSTä¸ä¼šï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®ã€‚\nGETè¯·æ±‚åªèƒ½è¿›è¡Œurlç¼–ç ï¼Œè€ŒPOSTæ”¯æŒå¤šç§ç¼–ç æ–¹å¼ã€‚\nGETè¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•é‡Œï¼Œè€ŒPOSTä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™ã€‚\nGETè¯·æ±‚åœ¨URLä¸­ä¼ é€çš„å‚æ•°æ˜¯æœ‰é•¿åº¦é™åˆ¶çš„ï¼Œè€ŒPOSTä¹ˆæœ‰ã€‚\nå¯¹å‚æ•°çš„æ•°æ®ç±»å‹ï¼ŒGETåªæ¥å—ASCIIå­—ç¬¦ï¼Œè€ŒPOSTæ²¡æœ‰é™åˆ¶ã€‚\nGETæ¯”POSTæ›´ä¸å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ç›´æ¥æš´éœ²åœ¨URLä¸Šï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ¥ä¼ é€’æ•æ„Ÿä¿¡æ¯ã€‚\nGETå‚æ•°é€šè¿‡URLä¼ é€’ï¼ŒPOSTæ”¾åœ¨Request bodyä¸­ã€‚\n\nå®¹æ˜“é”™è¯¯çš„ç†è§£GETä½¿ç”¨URLæˆ–Cookieä¼ å‚ï¼Œè€ŒPOSTå°†æ•°æ®æ”¾åœ¨BODYä¸­\nGETå’ŒPOSTæ˜¯ä»€ä¹ˆï¼ŸHTTPåè®®ä¸­çš„ä¸¤ç§å‘é€è¯·æ±‚çš„æ–¹æ³•ã€‚HTTPæ˜¯ä»€ä¹ˆï¼ŸHTTPæ˜¯åŸºäºTCP/IPçš„å…³äºæ•°æ®å¦‚ä½•åœ¨ä¸‡ç»´ç½‘ä¸­å¦‚ä½•é€šä¿¡çš„åè®®ã€‚HTTPçš„åº•å±‚æ˜¯TCP/IPã€‚æ‰€ä»¥GETå’ŒPOSTçš„åº•å±‚ä¹Ÿæ˜¯TCP/IPï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒGET/POSTéƒ½æ˜¯TCPé“¾æ¥ã€‚GETå’ŒPOSTèƒ½åšçš„äº‹æƒ…æ˜¯ä¸€æ ·ä¸€æ ·çš„ã€‚ä½ è¦ç»™GETåŠ ä¸Šrequest bodyï¼Œç»™POSTå¸¦ä¸Šurlå‚æ•°ï¼ŒæŠ€æœ¯ä¸Šæ˜¯å®Œå…¨è¡Œçš„é€šçš„ã€‚\nGETå’ŒPOSTæ˜¯ç”±HTTPåè®®å®šä¹‰çš„ã€‚åœ¨HTTPåè®®ä¸­ï¼ŒMethodå’ŒDataï¼ˆURLï¼Œ Bodyï¼Œ Headerï¼‰æ˜¯æ­£äº¤çš„ä¸¤ä¸ªæ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨å“ªä¸ªMethodä¸åº”ç”¨å±‚çš„æ•°æ®å¦‚ä½•ä¼ è¾“æ˜¯æ²¡æœ‰ç›¸äº’å…³ç³»çš„ã€‚\nHTTPæ²¡æœ‰è¦æ±‚ï¼Œå¦‚æœMethodæ˜¯POSTæ•°æ®å°±è¦æ”¾åœ¨BODYä¸­ã€‚ä¹Ÿæ²¡æœ‰è¦æ±‚ï¼Œå¦‚æœMethodæ˜¯GETï¼Œæ•°æ®ï¼ˆå‚æ•°ï¼‰å°±ä¸€å®šè¦æ”¾åœ¨URLä¸­è€Œä¸èƒ½æ”¾åœ¨BODYä¸­ã€‚\nGETæ–¹å¼æäº¤çš„æ•°æ®æœ‰é•¿åº¦é™åˆ¶ï¼Œåˆ™POSTçš„æ•°æ®åˆ™å¯ä»¥éå¸¸å¤§\nHTTPåè®®å¯¹GETå’ŒPOSTéƒ½æ²¡æœ‰å¯¹é•¿åº¦çš„é™åˆ¶ã€‚HTTPåè®®æ˜ç¡®åœ°æŒ‡å‡ºäº†ï¼ŒHTTPå¤´å’ŒBodyéƒ½æ²¡æœ‰é•¿åº¦çš„è¦æ±‚ã€‚é¦–å…ˆæ˜¯â€GETæ–¹å¼æäº¤çš„æ•°æ®æœ‰é•¿åº¦é™åˆ¶â€ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨GETé€šè¿‡URLæäº¤æ•°æ®ï¼Œé‚£ä¹ˆGETå¯æäº¤çš„æ•°æ®é‡å°±è·ŸURLçš„é•¿åº¦æœ‰ç›´æ¥å…³ç³»äº†ã€‚è€Œå®é™…ä¸Šï¼ŒURLä¸å­˜åœ¨å‚æ•°ä¸Šé™çš„é—®é¢˜ï¼ŒHTTPåè®®è§„èŒƒæ²¡æœ‰å¯¹URLé•¿åº¦è¿›è¡Œé™åˆ¶ã€‚è¿™ä¸ªé™åˆ¶æ˜¯ç‰¹å®šçš„æµè§ˆå™¨åŠæœåŠ¡å™¨å¯¹å®ƒçš„é™åˆ¶ã€‚IEå¯¹URLé•¿åº¦çš„é™åˆ¶æ˜¯2083å­—èŠ‚(2K+35)ã€‚å¯¹äºå…¶ä»–æµè§ˆå™¨ï¼Œå¦‚Netscapeã€FireFoxç­‰ï¼Œç†è®ºä¸Šæ²¡æœ‰é•¿åº¦é™åˆ¶ï¼Œå…¶é™åˆ¶å–å†³äºæ“ä½œç³»ç»Ÿçš„æ”¯æŒã€‚\næ³¨æ„è¿™ä¸ªé™åˆ¶æ˜¯æ•´ä¸ªURLé•¿åº¦ï¼Œè€Œä¸ä»…ä»…æ˜¯ä½ çš„å‚æ•°å€¼æ•°æ®é•¿åº¦ã€‚POSTä¹Ÿæ˜¯ä¸€æ ·ï¼ŒPOSTæ˜¯æ²¡æœ‰å¤§å°é™åˆ¶çš„ï¼ŒHTTPåè®®è§„èŒƒä¹Ÿæ²¡æœ‰å¯¹POSTæ•°æ®è¿›è¡Œå¤§å°é™åˆ¶ï¼Œèµ·é™åˆ¶ä½œç”¨çš„æ˜¯æœåŠ¡å™¨çš„å¤„ç†ç¨‹åºçš„å¤„ç†èƒ½åŠ›ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¸¸è¯´GETçš„URLä¼šæœ‰é•¿åº¦ä¸Šçš„é™åˆ¶è¿™ä¸ªè¯´æ³•æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿè™½ç„¶è¿™ä¸ªä¸æ˜¯GETå’ŒPOSTçš„æœ¬è´¨åŒºåˆ«ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯´è¯´å¯¼è‡´URLé•¿åº¦é™åˆ¶çš„ä¸¤æ–¹é¢çš„åŸå› ï¼š\n\næµè§ˆå™¨ã€‚æ—©æœŸçš„æµè§ˆå™¨ä¼šå¯¹URLé•¿åº¦åšé™åˆ¶ã€‚è€Œç°åœ¨çš„å…·ä½“é™åˆ¶æ˜¯æ€ä¹ˆæ ·çš„ï¼Œæˆ‘è‡ªå·±æ²¡æœ‰äº²æµ‹è¿‡ï¼Œå°±ä¸å¤åˆ¶ç½‘ä¸Šçš„è¯´æ³•å•¦ã€‚\næœåŠ¡å™¨ã€‚URLé•¿äº†ï¼Œå¯¹æœåŠ¡å™¨å¤„ç†ä¹Ÿæ˜¯ä¸€ç§è´Ÿæ‹…ã€‚åŸæœ¬ä¸€ä¸ªä¼šè¯å°±æ²¡æœ‰å¤šå°‘æ•°æ®ï¼Œç°åœ¨å¦‚æœæœ‰äººæ¶æ„åœ°æ„é€ å‡ ä¸ªMå¤§å°çš„URLï¼Œå¹¶ä¸åœåœ°è®¿é—®ä½ çš„æœåŠ¡å™¨ã€‚æœåŠ¡å™¨çš„æœ€å¤§å¹¶å‘æ•°æ˜¾ç„¶ä¼šä¸‹é™ã€‚å¦ä¸€ç§æ”»å‡»æ–¹å¼æ˜¯ï¼Œå‘Šè¯‰æœåŠ¡å™¨Content-Lengthæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œç„¶ååªç»™æœåŠ¡å™¨å‘ä¸€ç‚¹å„¿æ•°æ®ï¼ŒæœåŠ¡å™¨ä½ å°±å‚»ç­‰ç€å»å§ã€‚å“ªæ€•ä½ æœ‰è¶…æ—¶è®¾ç½®ï¼Œè¿™ç§æ•…æ„çš„æ¬¡æ¬¡è®¿é—®è¶…æ—¶ä¹Ÿèƒ½è®©æœåŠ¡å™¨åƒä¸äº†å…œç€èµ°ã€‚æœ‰é‰´äºæ­¤ï¼Œå¤šæ•°æœåŠ¡å™¨å‡ºäºå®‰å…¨å•¦ã€ç¨³å®šå•¦æ–¹é¢çš„è€ƒè™‘ï¼Œä¼šç»™URLé•¿åº¦åŠ é™åˆ¶ã€‚ä½†æ˜¯è¿™ä¸ªé™åˆ¶æ˜¯é’ˆå¯¹æ‰€æœ‰HTTPè¯·æ±‚çš„ï¼Œä¸GETã€POSTæ²¡æœ‰å…³ç³»ã€‚\n\nPOSTæ¯”GETå®‰å…¨ï¼Œå› ä¸ºæ•°æ®åœ¨åœ°å€æ ä¸Šä¸å¯è§\nè¿™ä¸ªè¯´æ³•å…¶å®ä¹Ÿæ˜¯åŸºäºä¸Šé¢çš„1ï¼Œ2ä¸¤ç‚¹çš„åŸºç¡€ä¸Šæ¥è¯´çš„ï¼Œæˆ‘è§‰å¾—æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯éœ€è¦æ˜ç™½ä¸ºä»€ä¹ˆä½¿ç”¨GETåœ¨åœ°å€æ ä¸Šå°±ä¸å®‰å…¨äº†ï¼Œä»¥åŠè¿˜æœ‰æ²¡æœ‰å…¶ä»–åŸå› è¯´æ˜â€œPOSTæ¯”GETå®‰å…¨â€ã€‚é€šè¿‡GETæäº¤æ•°æ®ï¼Œç”¨æˆ·åå’Œå¯†ç å°†æ˜æ–‡å‡ºç°åœ¨URLä¸Šï¼Œå› ä¸ºç™»å½•é¡µé¢æœ‰å¯èƒ½è¢«æµè§ˆå™¨ç¼“å­˜ï¼Œå…¶ä»–äººæŸ¥çœ‹æµè§ˆå™¨çš„å†å²çºªå½•ï¼Œé‚£ä¹ˆåˆ«äººå°±å¯ä»¥æ‹¿åˆ°ä½ çš„è´¦å·å’Œå¯†ç äº†ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä½¿ç”¨GETæäº¤æ•°æ®è¿˜å¯èƒ½ä¼šé€ æˆCross-site request forgeryæ”»å‡»ã€‚\næ»¡åˆ†å›ç­”æ˜¯å•¥æ ·GETå’ŒPOSTè¿˜æœ‰ä¸€ä¸ªé‡å¤§åŒºåˆ«ï¼Œç®€å•çš„è¯´ï¼šGETäº§ç”Ÿä¸€ä¸ªTCPæ•°æ®åŒ…ï¼›POSTäº§ç”Ÿä¸¤ä¸ªTCPæ•°æ®åŒ…ã€‚é•¿çš„è¯´ï¼šå¯¹äºGETæ–¹å¼çš„è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šæŠŠhttp headerå’Œdataä¸€å¹¶å‘é€å‡ºå»ï¼ŒæœåŠ¡å™¨å“åº”200ï¼ˆè¿”å›æ•°æ®ï¼‰ï¼›è€Œå¯¹äºPOSTï¼Œæµè§ˆå™¨å…ˆå‘é€headerï¼ŒæœåŠ¡å™¨å“åº”100 continueï¼Œæµè§ˆå™¨å†å‘é€dataï¼ŒæœåŠ¡å™¨å“åº”200 okï¼ˆè¿”å›æ•°æ®ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒGETåªéœ€è¦æ±½è½¦è·‘ä¸€è¶Ÿå°±æŠŠè´§é€åˆ°äº†ï¼Œè€ŒPOSTå¾—è·‘ä¸¤è¶Ÿï¼Œç¬¬ä¸€è¶Ÿï¼Œå…ˆå»å’ŒæœåŠ¡å™¨æ‰“ä¸ªæ‹›å‘¼â€œå—¨ï¼Œæˆ‘ç­‰ä¸‹è¦é€ä¸€æ‰¹è´§æ¥ï¼Œä½ ä»¬æ‰“å¼€é—¨è¿æ¥æˆ‘â€ï¼Œç„¶åå†å›å¤´æŠŠè´§é€è¿‡å»ã€‚å› ä¸ºPOSTéœ€è¦ä¸¤æ­¥ï¼Œæ—¶é—´ä¸Šæ¶ˆè€—çš„è¦å¤šä¸€ç‚¹ï¼Œçœ‹èµ·æ¥GETæ¯”POSTæ›´æœ‰æ•ˆã€‚å› æ­¤Yahooå›¢é˜Ÿæœ‰æ¨èç”¨GETæ›¿æ¢POSTæ¥ä¼˜åŒ–ç½‘ç«™æ€§èƒ½ã€‚ä½†è¿™æ˜¯ä¸€ä¸ªå‘ï¼è·³å…¥éœ€è°¨æ…ã€‚ä¸ºä»€ä¹ˆï¼Ÿ\n\nGETä¸POSTéƒ½æœ‰è‡ªå·±çš„è¯­ä¹‰ï¼Œä¸èƒ½éšä¾¿æ··ç”¨ã€‚\næ®ç ”ç©¶ï¼Œåœ¨ç½‘ç»œç¯å¢ƒå¥½çš„æƒ…å†µä¸‹ï¼Œå‘ä¸€æ¬¡åŒ…çš„æ—¶é—´å’Œå‘ä¸¤æ¬¡åŒ…çš„æ—¶é—´å·®åˆ«åŸºæœ¬å¯ä»¥æ— è§†ã€‚è€Œåœ¨ç½‘ç»œç¯å¢ƒå·®çš„æƒ…å†µä¸‹ï¼Œä¸¤æ¬¡åŒ…çš„TCPåœ¨éªŒè¯æ•°æ®åŒ…å®Œæ•´æ€§ä¸Šï¼Œæœ‰éå¸¸å¤§çš„ä¼˜ç‚¹ã€‚\nå¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½ä¼šåœ¨POSTä¸­å‘é€ä¸¤æ¬¡åŒ…ï¼ŒFirefoxå°±åªå‘é€ä¸€æ¬¡ã€‚\n\nGETå’ŒPOSTæœ€å¤§çš„åŒºåˆ«ä¸»è¦æ˜¯GETè¯·æ±‚æ˜¯å¹‚ç­‰æ€§çš„ï¼ŒPOSTè¯·æ±‚ä¸æ˜¯ã€‚è¿™ä¸ªæ˜¯å®ƒä»¬æœ¬è´¨åŒºåˆ«ï¼Œä¸Šé¢çš„åªæ˜¯åœ¨ä½¿ç”¨ä¸Šçš„åŒºåˆ«ã€‚\nä»€ä¹ˆæ˜¯å¹‚ç­‰æ€§ï¼Ÿå¹‚ç­‰æ€§æ˜¯æŒ‡ä¸€æ¬¡å’Œå¤šæ¬¡è¯·æ±‚æŸä¸€ä¸ªèµ„æºåº”è¯¥å…·æœ‰åŒæ ·çš„å‰¯ä½œç”¨ã€‚ç®€å•æ¥è¯´æ„å‘³ç€å¯¹åŒä¸€URLçš„å¤šä¸ªè¯·æ±‚åº”è¯¥è¿”å›åŒæ ·çš„ç»“æœã€‚\næ­£å› ä¸ºå®ƒä»¬æœ‰è¿™æ ·çš„åŒºåˆ«ï¼Œæ‰€ä»¥ä¸åº”è¯¥ä¸”ä¸èƒ½ç”¨getè¯·æ±‚åšæ•°æ®çš„å¢åˆ æ”¹è¿™äº›æœ‰å‰¯ä½œç”¨çš„æ“ä½œã€‚å› ä¸ºgetè¯·æ±‚æ˜¯å¹‚ç­‰çš„ï¼Œåœ¨ç½‘ç»œä¸å¥½çš„éš§é“ä¸­ä¼šå°è¯•é‡è¯•ã€‚å¦‚æœç”¨getè¯·æ±‚å¢æ•°æ®ï¼Œä¼šæœ‰é‡å¤æ“ä½œçš„é£é™©ï¼Œè€Œè¿™ç§é‡å¤æ“ä½œå¯èƒ½ä¼šå¯¼è‡´å‰¯ä½œç”¨ï¼ˆæµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿå¹¶ä¸çŸ¥é“ä½ ä¼šç”¨getè¯·æ±‚å»åšå¢æ“ä½œï¼‰ã€‚POST æ“ä½œå…·æœ‰å‰¯ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šæ›´æ”¹æœåŠ¡å™¨ä¸Šçš„çŠ¶æ€ã€‚å¦å¤– POST æ“ä½œä¸€èˆ¬ä¸æ˜¯å¹‚ç­‰çš„ï¼Œæ¯æ¬¡ POST æ“ä½œéƒ½åº”è¯¥åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æºã€‚\ncookieã€localstroageã€sessionstroageçš„åŒºåˆ«Cookieé€‚åˆå­˜å‚¨ä¸€äº›sessionä¿¡æ¯ï¼š\n\ncookieé™åˆ¶å¤§å°ï¼Œçº¦4kå·¦å³ï¼Œä¸é€‚åˆå­˜å‚¨ä¸šåŠ¡æ•°æ®ï¼Œå°¤å…¶æ˜¯æ•°æ®é‡è¾ƒå¤§çš„å€¼\nå­˜åœ¨æœ‰æ•ˆæœŸï¼Œåˆ°æœŸè‡ªåŠ¨é”€æ¯\ncookieä¼šæ¯æ¬¡éšhttpè¯·æ±‚ä¸€èµ·å‘é€ï¼Œæµªè´¹å®½\ncookieè®¾ç½®äº†domainå¯ä»¥åœ¨å­åŸŸå…±äº«è·¨åŸŸ\nå¯ä»¥ä½¿ç”¨çˆ¬è™«æŠ“å–localstroageé€‚åˆå­˜å‚¨åº”ç”¨å…±äº«çš„åœ°å€ä¿¡æ¯ç­‰ï¼š\nå­˜å‚¨æ•°æ®é‡å¤§ï¼Œ5Mæˆ–è€…æ›´å¤§\næœ‰æ•ˆæœŸä¸ºæ°¸ä¹…\nä¸ä¼šéšhttpè¯·æ±‚ä¸€èµ·å‘é€\nä¸èƒ½è·¨åŸŸï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨postMessageå’Œiframeæ¶ˆé™¤è¿™ä¸ªå½±å“,ä¾‹å¦‚ï¼š cross-storage \nåœ¨æµè§ˆå™¨çš„éšç§æ¨¡å¼ä¸‹ä¸èƒ½è¯»å–\nä¸èƒ½è¢«çˆ¬è™«è¯»å–sessionstroageé€‚åˆå­˜å‚¨æµè§ˆçŠ¶æ€ç­‰ï¼š\nå­˜å‚¨æ•°æ®é‡å¤§ï¼Œ5Mæˆ–è€…æ›´å¤§\næœ‰æ•ˆæœŸä¸ºåˆ°æµè§ˆå™¨å…³é—­\nä¸ä¼šéšhttpè¯·æ±‚ä¸€èµ·å‘é€\nä¸èƒ½è¢«çˆ¬è™«è¯»å–\n\nSessionHTTP æ˜¯ä¸ªæ— çŠ¶æ€çš„é“¾æ¥ï¼Œä¸ºäº†è®°å½• HTTP çŠ¶æ€ï¼Œå‚¬ç”Ÿäº† Cookie å’Œ Session ã€‚\nCookie å­˜åœ¨å®¢æˆ·ç«¯ï¼ŒSession å­˜åœ¨æœåŠ¡å™¨ã€‚ä¾èµ– Cookie åœ¨å“åº”å¤´ä¸­ Set-Cookie: JSESSIONID = xxx\nå¸¸ç”¨çš„ä¸‰ç§å®ç°æ–¹å¼\n\nä¾èµ– Cookie å®ç°\nç›´æ¥åœ¨ URL åè¾¹é‡å†™\nè®¾ç½®ä¸€ä¸ªéšè—çš„è¡¨å•åŸŸ\n\nè¿‡å¤šçš„æµè§ˆå™¨è¯·æ±‚ï¼Œä¼šåœ¨æœåŠ¡å™¨ç«¯åˆ›å»ºå¾ˆå¤šçš„Sessionä¿¡æ¯ï¼Œä¼šå¯¹æµè§ˆå™¨é€ æˆä¸€å®šçš„å†…å­˜å‹åŠ›ï¼Œè€Œä¸”ä¸æ˜“äºç»´æŠ¤ã€‚\ntokenåŸºäºtokençš„éªŒè¯æ˜¯æ— çŠ¶æ€çš„ã€‚æœåŠ¡å™¨ä¸è®°å½•å“ªäº›ç”¨æˆ·å·²ç™»é™†æˆ–è€…å·²ç»å‘å¸ƒäº†å“ªäº›JWTã€‚å¯¹æœåŠ¡å™¨çš„æ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦å¸¦ä¸ŠéªŒè¯è¯·æ±‚çš„tokenã€‚è¯¥æ ‡è®°æ—¢å¯ä»¥åŠ åœ¨headerä¸­ï¼Œå¯ä»¥åœ¨POSTè¯·æ±‚çš„ä¸»ä½“ä¸­å‘é€ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæŸ¥è¯¢å‚æ•°å‘é€ã€‚\nå­˜å‚¨æ–¹å¼\n\nå­˜åœ¨ Cookie\nå­˜åœ¨ localStorage\n\nå·¥ä½œæµç¨‹ï¼š\n\nç”¨æˆ·è¾“å…¥ç™»é™†å‡­æ®ï¼›\næœåŠ¡å™¨éªŒè¯å‡­æ®æ˜¯å¦æ­£ç¡®ï¼Œç„¶åè¿”å›ä¸€ä¸ªç»è¿‡ç­¾åçš„tokenï¼›\nå®¢æˆ·ç«¯è´Ÿè´£å­˜å‚¨tokenï¼Œå¯ä»¥å­˜åœ¨local storageï¼Œæˆ–è€…cookieä¸­ï¼›\nå¯¹æœåŠ¡å™¨çš„è¯·æ±‚å¸¦ä¸Šè¿™ä¸ªtokenï¼›\næœåŠ¡å™¨å¯¹JWTè¿›è¡Œè§£ç ï¼Œå¦‚æœtokenæœ‰æ•ˆï¼Œåˆ™å¤„ç†è¯¥è¯·æ±‚ï¼›\nä¸€æ—¦ç”¨æˆ·ç™»å‡ºï¼Œå®¢æˆ·ç«¯é”€æ¯tokenã€‚\n\nä¼˜åŠ¿\n\nåŸºäºtokençš„éªŒè¯æ˜¯æ— çŠ¶æ€çš„ï¼Œè¿™ä¹Ÿè®¸æ˜¯å®ƒç›¸å¯¹cookieæ¥è¯´æœ€å¤§çš„ä¼˜ç‚¹ã€‚åç«¯æœåŠ¡ä¸éœ€è¦è®°å½•tokenã€‚æ¯ä¸ªä»¤ç‰Œéƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒåŒ…æ‹¬æ£€æŸ¥å…¶æœ‰æ•ˆæ€§æ‰€éœ€çš„æ‰€æœ‰æ•°æ®ï¼Œå¹¶é€šè¿‡å£°æ˜ä¼ è¾¾ç”¨æˆ·ä¿¡æ¯ã€‚æœåŠ¡å™¨å”¯ä¸€çš„å·¥ä½œå°±æ˜¯åœ¨æˆåŠŸçš„ç™»é™†è¯·æ±‚ä¸Šç­¾ç½²tokenï¼Œå¹¶éªŒè¯ä¼ å…¥çš„tokenæ˜¯å¦æœ‰æ•ˆã€‚\nå¥½çš„APIå¯ä»¥åŒæ—¶æ”¯æŒæµè§ˆå™¨ï¼ŒiOSå’ŒAndroidç­‰ç§»åŠ¨å¹³å°ã€‚ç„¶è€Œï¼Œåœ¨ç§»åŠ¨å¹³å°ä¸Šï¼Œcookieæ˜¯ä¸è¢«æ”¯æŒçš„ã€‚\nä¸€æ¬¡ç½‘ç»œå¾€è¿”æ—¶é—´ï¼ˆé€šè¿‡æ•°æ®åº“æŸ¥è¯¢sessionä¿¡æ¯ï¼‰æ€»æ¯”åšä¸€æ¬¡HMACSHA256è®¡ç®—çš„TokenéªŒè¯å’Œè§£æè¦è´¹æ—¶å¾—å¤šã€‚\n\næ ¼å¼\nJWT åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šå¤´éƒ¨ã€è½½è·ã€ç­¾åï¼Œé€šè¿‡. è¿æ¥è¿™ä¸‰éƒ¨åˆ†ã€‚\nå¤´éƒ¨é€šå¸¸åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼štokenç±»å‹ï¼ˆJWTï¼‰ï¼Œå’Œä½¿ç”¨åˆ°çš„ç®—æ³•ï¼Œå¦‚HMACã€SHA256æˆ–RSAï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªJWTï¼Œä½¿ç”¨çš„ç­¾åç®—æ³•æ˜¯HS256ã€‚\nå¤´éƒ¨ä¼šé€šè¿‡Base64Urlç¼–ç å½¢æˆJWTçš„ç¬¬ä¸€éƒ¨åˆ†\nç¬¬äºŒéƒ¨åˆ†æ˜¯è½½è·ï¼Œè¦ä¼ é€’å‡ºå»çš„å£°æ˜ï¼Œå…¶ä¸­åŒ…å«äº†å®ä½“ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·ï¼‰å’Œé™„åŠ å…ƒæ•°æ®ã€‚æœ‰ä¸‰ç§ç±»å‹çš„å£°æ˜ï¼š\n\nä¿ç•™å£°æ˜ï¼šè¿™æ˜¯ä¸€ç»„é¢„å®šä¹‰çš„å£°æ˜ï¼Œéå¼ºåˆ¶æ€§ï¼Œç”¨æ¥å¸®åŠ©æ¥æ”¶æ–¹ï¼ˆæœåŠ¡å™¨ï¼‰æ›´å¥½åœ°ç†è§£è¿™ä¸ªJWTã€‚å…¶ä¸­åŒ…æ‹¬ï¼šissï¼ˆissuerï¼Œè¯¥JWTçš„ç­¾å‘è€…ï¼‰ï¼Œexpï¼ˆexpiration timeï¼Œè¿‡æœŸæ—¶é—´ï¼‰ï¼Œsubï¼ˆsubjectï¼Œè¯¥JWTæ‰€é¢å‘çš„ç”¨æˆ·ï¼‰ï¼Œaudï¼ˆaudienceï¼ŒJWTçš„æ¥æ”¶è€…ï¼‰ï¼Œå’Œå¦å¤–ä¸€äº›å£°æ˜\nå…¬å…±å£°æ˜ï¼šè¿™äº›å¯ä»¥ç”¨ä½¿ç”¨JWTçš„äººéšæ„å®šä¹‰ã€‚ä½†æ˜¯ä¸ºäº†é¿å…å†²çªï¼Œåº”åœ¨åœ¨IANA JSON WEBä»¤ç‰Œæ³¨å†Œè¡¨ä¸­å®šä¹‰å®ƒä»¬ï¼Œæˆ–è€…å°†å…¶å®šä¹‰ä¸ºåŒ…å«é˜²å†²çªå‘½åç©ºé—´çš„URIã€‚\nç§æœ‰å£°æ˜ï¼šè¿™äº›æ˜¯ä¸ºäº†åœ¨åŒæ„ä½¿ç”¨å®ƒä»¬çš„å„æ–¹ä¹‹é—´å…±äº«ä¿¡æ¯è€Œåˆ›å»ºçš„è‡ªå®šä¹‰å£°æ˜ã€‚\n\nä¼ è¾“å±‚ï¼ˆTCP / IPï¼‰ï¿¼\nä¸‰æ¬¡ğŸ¤ å››æ¬¡ğŸ™‹TCP ä¸ UDP çš„åŒºåˆ«ç½‘ç»œå±‚IP åè®®æ•°æ®é“¾è·¯å±‚ç‰©ç†å±‚å®‰å…¨CORSCross-Origin Resource Sharingè·¨æ¥æºèµ„æºå…±äº«ï¼Œæ˜¯ä¸€ä»½æµè§ˆå™¨æŠ€æœ¯è§„èŒƒï¼Œæä¾›äº† WEB æœåŠ¡ä»ä¸åŒåŸŸä¼ æ¥æ²™ç›’è„šæœ¬çš„æ–¹æ³•ï¼Œä»¥é¿å¼€æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼Œæ˜¯ JSONP æ¨¡å¼çš„ç°ä»£ç‰ˆã€‚ä¸ JSONP ä¸åŒï¼ŒCORS é™¤äº† GET è¦æ±‚æ–¹æ³•ä»¥å¤–ä¹Ÿæ”¯æŒå…¶ä»–çš„ HTTP è¦æ±‚ã€‚å¦ä¸€æ–¹é¢ï¼ŒJSONP å¯ä»¥åœ¨ä¸æ”¯æŒ CORS çš„è€æ—§æµè§ˆå™¨ä¸Šè¿ä½œã€‚ç°ä»£çš„æµè§ˆå™¨éƒ½æ”¯æŒ CORSã€‚å‡ºäºå®‰å…¨åŸå› ï¼Œæµè§ˆå™¨é™åˆ¶ä»è„šæœ¬å†…å‘èµ·çš„è·¨æºHTTPè¯·æ±‚ã€‚ ä¾‹å¦‚ï¼ŒXMLHttpRequestå’ŒFetch APIéµå¾ªåŒæºç­–ç•¥ã€‚ è¿™æ„å‘³ç€ä½¿ç”¨è¿™äº›APIçš„Webåº”ç”¨ç¨‹åºåªèƒ½ä»åŠ è½½åº”ç”¨ç¨‹åºçš„åŒä¸€ä¸ªåŸŸè¯·æ±‚HTTPèµ„æºï¼Œé™¤éå“åº”æŠ¥æ–‡åŒ…å«äº†æ­£ç¡®CORSå“åº”å¤´ã€‚\nç®€å•è¯·æ±‚å¹¶ä¸ä¼šè§¦å‘ CORS é¢„æ£€å…³äº CORS çš„è¯¦ç»†ä»‹ç»å‚è§ MDN å’Œé˜®ä¸€å³°çš„åšå®¢ã€‚\nCORSæ˜¯W3cå·¥ä½œè‰æ¡ˆï¼Œå®ƒå®šä¹‰äº†åœ¨è·¨åŸŸè®¿é—®èµ„æºæ—¶æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å¦‚ä½•é€šä¿¡ã€‚CORSèƒŒåçš„åŸºæœ¬æ€æƒ³æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨å…è®¸æµè§ˆå™¨å’ŒæœåŠ¡å™¨ç›¸äº’äº†è§£å¯¹æ–¹ï¼Œä»è€Œå†³å®šè¯·æ±‚æˆ–å“åº”æˆåŠŸä¸å¦ã€‚åŒæºç­–ç•¥ï¼šæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒä¹Ÿæœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼›åŒæºæŒ‡çš„æ˜¯ï¼šåŒåè®®ï¼ŒåŒåŸŸåå’ŒåŒç«¯å£ã€‚ç²¾é«“ï¼šè®¤ä¸ºè‡ªä»»ä½•ç«™ç‚¹è£…è½½çš„ä¿¡èµ–å†…å®¹æ˜¯ä¸å®‰å…¨çš„ã€‚å½“è¢«æµè§ˆå™¨åŠä¿¡åŠç–‘çš„è„šæœ¬è¿è¡Œåœ¨æ²™ç®±æ—¶ï¼Œå®ƒä»¬åº”è¯¥åªè¢«å…è®¸è®¿é—®æ¥è‡ªåŒä¸€ç«™ç‚¹çš„èµ„æºï¼Œè€Œä¸æ˜¯é‚£äº›æ¥è‡ªå…¶å®ƒç«™ç‚¹å¯èƒ½æ€€æœ‰æ¶æ„çš„èµ„æºï¼›JSON &amp; JSONP:JSON æ˜¯ä¸€ç§åŸºäºæ–‡æœ¬çš„æ•°æ®äº¤æ¢æ–¹å¼ï¼Œæˆ–è€…å«åšæ•°æ®æè¿°æ ¼å¼ã€‚JSONPæ˜¯èµ„æ–™æ ¼å¼JSONçš„ä¸€ç§â€œä½¿ç”¨æ¨¡å¼â€ï¼Œå¯ä»¥è®©ç½‘é¡µä»åˆ«çš„ç½‘åŸŸè¦èµ„æ–™ï¼Œç”±äºåŒæºç­–ç•¥ï¼Œä¸€èˆ¬æ¥è¯´ä½äºserver1.example.comçš„ç½‘é¡µæ— æ³•ä¸ä¸æ˜¯ server1.example.comçš„æœåŠ¡å™¨æ²Ÿé€šï¼Œè€ŒHTMLçš„scriptå…ƒç´ æ˜¯ä¸€ä¸ªä¾‹å¤–ã€‚åˆ©ç”¨scriptå…ƒç´ çš„è¿™ä¸ªå¼€æ”¾ç­–ç•¥ï¼Œç½‘é¡µå¯ä»¥å¾—åˆ°ä»å…¶ä»–æ¥æºåŠ¨æ€äº§ç”Ÿçš„JSONèµ„æ–™ï¼Œè€Œè¿™ç§ä½¿ç”¨æ¨¡å¼å°±æ˜¯æ‰€è°“çš„JSONP\nè§£å†³æ–¹æ¡ˆä¸»è¦è§£å†³æ€è·¯ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨å…è®¸æµè§ˆå™¨å’ŒæœåŠ¡å™¨ç›¸äº’äº†è§£å¯¹æ–¹ï¼Œä»è€Œå†³å®šè¯·æ±‚æˆ–å“åº”æˆåŠŸä¸å¦.Access-Control-Allow-Origin:æŒ‡å®šæˆæƒè®¿é—®çš„åŸŸAccess-Control-Allow-Methodsï¼šæˆæƒè¯·æ±‚çš„æ–¹æ³•ï¼ˆGET, POST, PUT, DELETEï¼ŒOPTIONSç­‰)\nåç«¯è§£å†³\n\nå¢åŠ ä¸€ä¸ªè¿‡æ»¤å™¨æ¥å¤„ç†é¢„æ£€è¯·æ±‚\nè¿”å›åŒ…å«å“ªäº›ä¸ CORS æœ‰å…³çš„å“åº”å¤´\næˆ–è€…æ˜¯é€šè¿‡ Nginx æ¥æ”¯æŒè·¨åŸŸ\n\nå‰ç«¯è§£å†³\n\nvue å’Œ webpack éƒ½å¯ä»¥é€šè¿‡è°ƒç”¨ http-proxy-middleware è¿™ä¸ªåº“æ¥å®ç°å®¢æˆ·ç«¯ä»£ç†ï¼Œä»è€Œè§£å†³è·¨åŸŸé—®é¢˜ã€‚\n\nXSS æ”»å‡»XSSï¼Œå³ä¸ºï¼ˆCross Site Scriptingï¼‰ï¼Œä¸­æ–‡åä¸ºè·¨ç«™è„šæœ¬,è·¨ç«™è„šæœ¬çš„é‡ç‚¹ä¸åœ¨â€œè·¨ç«™â€ä¸Šï¼Œè€Œåœ¨äºâ€œè„šæœ¬â€ä¸Šã€‚å¤§å¤šæ•°XSSæ”»å‡»çš„ä¸»è¦æ–¹å¼æ˜¯åµŒå…¥ä¸€æ®µè¿œç¨‹æˆ–è€…ç¬¬ä¸‰æ–¹åŸŸä¸Šçš„JSä»£ç ï¼Œå®é™…ä¸Šæ˜¯åœ¨ç›®æ ‡ç½‘ç«™çš„ä½œç”¨åŸŸä¸‹æ‰§è¡Œäº†è¿™æ®µç¬¬ä¸‰æ–¹åŸŸä¸Šçš„jsä»£ç ã€‚\nåå°„å‹XSSï¼ˆéæŒä¹…å‹XSSï¼‰ç‰¹ç‚¹ï¼šå°±åƒé•œå­åå°„ä¸€æ ·ï¼Œæµè§ˆå™¨å‘å°„å«XSSçš„urlï¼ŒæœåŠ¡å™¨å°†å…¶åå°„å›æ¥\n\næµè§ˆå™¨å‘ç”Ÿè¯·æ±‚æ—¶ï¼ŒXSSä»£ç å‡ºç°åœ¨è¯·æ±‚URLä¸­ï¼Œä½œä¸ºå‚æ•°æäº¤åˆ°æœåŠ¡å™¨ï¼Œ\næœåŠ¡å™¨è§£æå¹¶å“åº”ï¼Œå“åº”ç»“æœä¸­åŒ…å«XSSä»£ç ï¼Œ\næœ€åæµè§ˆå™¨è§£æå¹¶æ‰§è¡Œã€‚\n\næ”»å‡»è€…ä¼šå°† XSS è„šæœ¬é€šè¿‡è¯·æ±‚å‚æ•°çš„æ–¹å¼å‘é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ‰§è¡Œåä¼šè¿”å› cookie ä¿¡æ¯ç­‰éšç§ä¿¡æ¯ã€‚ä¸€èˆ¬é»‘å®¢ä¼šæ³¨å…¥ä¸€æ®µç¬¬ä¸‰æ–¹çš„jsä»£ç ï¼Œç„¶åå°†è·å–åˆ°çš„cookieä¿¡æ¯å­˜åˆ°ä»–ä»¬çš„æœåŠ¡å™¨ä¸Šï¼Œæ‹¿åˆ°æˆ‘ä»¬çš„èº«ä»½è®¤è¯åšä¸€äº›è¿æ³•çš„äº‹æƒ…äº†ã€‚\nå­˜å‚¨å‹XSSï¼ˆæŒä¹…å‹XSSï¼‰ç‰¹ç‚¹ï¼šé»‘å®¢å°†XSSä»£ç å‘é€ç»™æœåŠ¡å™¨ï¼Œç„¶åé€šè¿‡æœåŠ¡å™¨æ•£æ’­\n\né»‘å®¢å°†XSSä»£ç å‘é€åˆ°æœåŠ¡å™¨ï¼ˆä¸ç®¡æ˜¯æ•°æ®åº“ã€å†…å­˜è¿˜æ˜¯æ–‡ä»¶ç³»ç»Ÿç­‰ã€‚ï¼‰\nå…¶ä»–äººè¯·æ±‚é¡µé¢çš„æ—¶å€™å°±ä¼šå¸¦ä¸ŠXSSä»£ç äº†ã€‚\n\næ¡ˆä¾‹ï¼šæœ€å…¸å‹çš„å°±æ˜¯ç•™è¨€æ¿XSSã€‚\n\né»‘å®¢æäº¤äº†ä¸€æ¡åŒ…å«XSSä»£ç çš„ç•™è¨€åˆ°æ•°æ®åº“ã€‚\nå½“ç›®æ ‡ç”¨æˆ·æŸ¥è¯¢ç•™è¨€æ—¶ï¼Œé‚£äº›ç•™è¨€çš„å†…å®¹ä¼šä»æœåŠ¡å™¨è§£æä¹‹ååŠ è½½å‡ºæ¥ã€‚\næµè§ˆå™¨å‘ç°æœ‰XSSä»£ç ï¼Œå°±å½“åšæ­£å¸¸çš„HTMLå’ŒJSè§£ææ‰§è¡Œã€‚XSSæ”»å‡»å°±å‘ç”Ÿäº†ã€‚\n\nDOM å‹ XSSç‰¹ç‚¹ï¼šDOM XSSä»£ç ä¸éœ€è¦æœåŠ¡å™¨ç«¯çš„è§£æå“åº”çš„ç›´æ¥å‚ä¸ï¼Œè€Œæ˜¯å®Œå…¨é€šè¿‡æµè§ˆå™¨ç«¯çš„DOMè§£æã€‚\n\næµè§ˆå™¨çš„ä»£ç ä¸­å«æœ‰evalï¼Œnew Functionç­‰å°†å­—ç¬¦ä¸²å†…å®¹æ‰§è¡Œçš„ä»£ç \nåœ¨æ‰§è¡Œçš„å­—ç¬¦ä¸²ä¸­åµŒå…¥å¯ä»¥æ‰§è¡ŒXSSä»£ç å­—ç¬¦ä¸² æ¡ˆä¾‹ï¼š\n\n1234567test.addEventListener('click', function () &#123;  var node = window.eval(txt.value)  window.alert(node)&#125;, false)//txtä¸­çš„ä»£ç å¦‚ä¸‹:&lt;img src='null' onerror='alert(123)' /&gt;\nå±å®³å’Œé˜²å¾¡\né€šè¿‡document.cookieç›—å–cookie\nä½¿ç”¨jsæˆ–cssç ´åé¡µé¢æ­£å¸¸çš„ç»“æ„ä¸æ ·å¼\næµé‡åŠ«æŒï¼ˆé€šè¿‡è®¿é—®æŸæ®µå…·æœ‰window.location.hrefå®šä½åˆ°å…¶ä»–é¡µé¢ï¼‰\nDosæ”»å‡»ï¼šåˆ©ç”¨åˆç†çš„å®¢æˆ·ç«¯è¯·æ±‚æ¥å ç”¨è¿‡å¤šçš„æœåŠ¡å™¨èµ„æºï¼Œä»è€Œä½¿åˆæ³•ç”¨æˆ·æ— æ³•å¾—åˆ°æœåŠ¡å™¨å“åº”ã€‚\nåˆ©ç”¨iframeã€frameã€XMLHttpRequestæˆ–ä¸Šè¿°Flashç­‰æ–¹å¼ï¼Œä»¥ï¼ˆè¢«æ”»å‡»ï¼‰ç”¨æˆ·çš„èº«ä»½æ‰§è¡Œä¸€äº›ç®¡ç†åŠ¨ä½œï¼Œæˆ–æ‰§è¡Œä¸€äº›ä¸€èˆ¬çš„å¦‚å‘å¾®åšã€åŠ å¥½å‹ã€å‘ç§ä¿¡ç­‰æ“ä½œã€‚\nåˆ©ç”¨å¯è¢«æ”»å‡»çš„åŸŸå—åˆ°å…¶ä»–åŸŸä¿¡ä»»çš„ç‰¹ç‚¹ï¼Œä»¥å—ä¿¡ä»»æ¥æºçš„èº«ä»½è¯·æ±‚ä¸€äº›å¹³æ—¶ä¸å…è®¸çš„æ“ä½œï¼Œå¦‚è¿›è¡Œä¸å½“çš„æŠ•ç¥¨æ´»åŠ¨ã€‚\n\nXSSæ”»å‡»å¯ä»¥çœ‹å‡ºï¼Œä¸èƒ½åŸæ ·çš„å°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®ç›´æ¥å­˜åˆ°æœåŠ¡å™¨ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œä¸€äº›å¤„ç†ï¼š\n\nè¿‡æ»¤å±é™©çš„DOMèŠ‚ç‚¹ã€‚å¦‚å…·æœ‰æ‰§è¡Œè„šæœ¬èƒ½åŠ›çš„script, å…·æœ‰æ˜¾ç¤ºå¹¿å‘Šå’Œè‰²æƒ…å›¾ç‰‡çš„img, å…·æœ‰æ”¹å˜æ ·å¼çš„link, style, å…·æœ‰å†…åµŒé¡µé¢çš„iframe, frameç­‰å…ƒç´ èŠ‚ç‚¹ã€‚\nè¿‡æ»¤å±é™©çš„å±æ€§èŠ‚ç‚¹ã€‚å¦‚on-, style, src, hrefç­‰\nå¯¹cookieè®¾ç½®httpOnly,ä½†æ˜¯ä¹Ÿä¼šå¯¼è‡´å‰å°æ— æ³•æ“ä½œcookieï¼Œä¸å¤ªæ¨èã€‚\n\nCSRFCSRFï¼ˆCross-site request forgeryï¼‰ï¼Œä¸­æ–‡åç§°ï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œæ”»å‡»è€…ç›—ç”¨äº†ä½ çš„èº«ä»½ï¼Œä»¥ä½ çš„åä¹‰å‘é€æ¶æ„è¯·æ±‚ã€‚\n\nç‰¹ç‚¹ï¼š\n\nç™»å½•å—ä¿¡ä»»ç½‘ç«™Aï¼Œå¹¶åœ¨æœ¬åœ°ç”ŸæˆCookieã€‚\nåœ¨ä¸ç™»å‡ºå—ä¿¡ä»»ç½‘ç«™Açš„æƒ…å†µä¸‹ï¼Œè®¿é—®å±é™©ç½‘ç«™Bã€‚\nå±é™©ç½‘ç«™ä¼šå‘å—ä¿¡ä»»Açš„ç½‘ç«™å‘é€è¯·æ±‚ï¼ŒåŒæ—¶ä¼šæºå¸¦å—ä¿¡ä»»ç½‘ç«™Aæœ¬åœ°ç”ŸæˆCookie(ç”¨åŒä¸€ä¸ªæµè§ˆå™¨è®¿é—®åŒä¸€ä¸ªåŸŸçš„æ¥å£)\n\nå±å®³å’Œé˜²å¾¡\nç¯¡æ”¹ç›®æ ‡ç½‘ç«™ä¸Šçš„ç”¨æˆ·æ•°æ®ï¼›\nç›—å–ç”¨æˆ·éšç§æ•°æ®ï¼›\nä½œä¸ºå…¶ä»–æ”»å‡»å‘é‡çš„è¾…åŠ©æ”»å‡»æ‰‹æ³•ï¼›\nä¼ æ’­CSRFè •è™«ã€‚\n\né˜²å¾¡\n\néªŒè¯ç ï¼Œå› ä¸ºéªŒè¯ç å¿…é¡»åœ¨å—ä¿¡ä»»çš„ç½‘ç«™ä¸Šå‘é€ç»™æµè§ˆå™¨çš„ï¼Œå¹¶ä¸”ä¼ªé€ çš„ç½‘ç«™å’Œå—ä¿¡ä»»çš„ç½‘ç«™éåŒæºï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•è·å–å—ä¿¡ä»»ç½‘ç«™å‘é€çš„sessionï¼Œæ‰€ä»¥éªŒè¯ç æ˜¯æ²¡æœ‰åŠæ³•ä¼ªé€ çš„ã€‚\nreferï¼Œæ ‡è¯†äº†å½“å‰è¯·æ±‚çš„é¡µé¢çš„æºï¼Œä¼ªé€ ç½‘ç«™å¯ä»¥ç¯¡æ”¹æˆå—ä¿¡ä»»çš„ç½‘ç«™æºï¼Œå¹¶ä¸ä¿é™©\ntokenï¼Œç”±äºå®ƒæ˜¯é€šè¿‡æœåŠ¡çš„å‘é€ç»™å®¢æˆ·ç«¯çš„ä»¤ç‰Œï¼Œå¹¶ä¸”å­˜å‚¨åœ¨æµè§ˆå™¨çš„localstorageä¸­ï¼Œç”±äºåŒæºç­–ç•¥ï¼Œå¹¶ä¸”tokenè¿˜æœ‰æ ¡éªŒè§„åˆ™ï¼Œæ‰€ä»¥tokenå¹¶ä¸èƒ½è½»æ˜“ç¯¡æ”¹ã€‚\n\nHTTPS æ€ä¹ˆé¢„é˜²æ”»å‡»HTTPS = (HTTP+TLS/SSL)\n\nè‡ªå·±å…ˆé—®é—®è‡ªå·±ç‚¹å‡»ä¸€ä¸ª url åˆ°é¡µé¢è¢«æ¸²æŸ“å‡ºæ¥ï¼Œä¸­é—´éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿé¢è¯•å¿…é—®ï¼Œå¾ˆå¤§æ¦‚ç‡æ˜¯ç¬¬ä¸€é—®ï¼Œè¦ä»äº”å±‚ä½“ç³»ç»“æ„å¼€å§‹å¹ï¼Œæ³¨æ„å…¶ä¸­çš„ç”¨è¯ï¼ŒæŠŠæŠ€æœ¯è¯æ±‡æœè‡ªå·±æƒ³å¥½çš„å‘é‡Œå¸¦ï¼Œå¦‚æœ€çŸ­è·¯å¾„ï¼ŒCORSï¼ŒTCP å’Œ UDP çš„åŒºåˆ«ï¼Œæ€»ä¹‹å°±æ˜¯åƒä¸‡ä¸è¦å‡ºç°è‡ªå·±è§£é‡Šä¸å¥½çš„è¯æ±‡ï¼Œé˜²æ­¢ç»™è‡ªå·±æŒ–å‘ã€‚\n\nHTTP å’Œ HTTPS çš„åŒºåˆ«ï¼Ÿ\n\nTCP å’Œ UDP çš„åŒºåˆ«\n\næ¡æ‰‹å’ŒæŒ¥æ‰‹ï¼Œè¯´ä¸€è¯´\n\nå¦‚ä½•è§£å†³è·¨åŸŸ\n\n\nReferenceCookieå’ŒToken - WillieLiuçš„ä¸“æ  - CSDNåšå®¢\næå®šè®¡ç®—æœºç½‘ç»œé¢è¯•ï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº† - æ˜é‡‘\nHTTPï½œGET å’Œ POST åŒºåˆ«ï¼Ÿç½‘ä¸Šå¤šæ•°ç­”æ¡ˆéƒ½æ˜¯é”™çš„ï¼ - ç®€ä¹¦\n99%çš„äººéƒ½ç†è§£é”™äº†HTTPä¸­GETä¸POSTçš„åŒºåˆ«\nå‰ç«¯å¿…é¡»æ‡‚çš„è®¡ç®—æœºç½‘ç»œçŸ¥è¯†â€”(è·¨åŸŸã€ä»£ç†ã€æœ¬åœ°å­˜å‚¨) - æ˜é‡‘\nCORS è·¨åŸŸ å®ç°æ€è·¯åŠç›¸å…³è§£å†³æ–¹æ¡ˆ - sloong - åšå®¢å›­\nWebpack-dev-serverçš„proxyç”¨æ³• - ç®€ä¹¦\n é˜®ä¸€å³°çš„ CORS è¯¦è§£ \nHTTPè®¿é—®æ§åˆ¶ï¼ˆCORSï¼‰ - HTTP | MDN\nCORS(è·¨åŸŸèµ„æºå…±äº«) - spaceway - åšå®¢å›­\n","plink":"https://xkeith.space/post/arc-08/"},{"title":"å¦‚ä½•æ‹¿ä¸‹å‰ç«¯é¢è¯•ï¼ˆåŸºç¡€ç¯‡ä¹‹ MVVMï¼‰","date":"2019-03-23T03:57:18.000Z","updated":"2019-03-23T03:59:39.641Z","content":"\nå®šä¹‰Model-View-ViewModel\nMVVM å…¶å®å°±æ˜¯æä¾› View å’Œ Model çš„åŒå‘ç»‘å®šï¼Œç”±å‰ç«¯æ¶æ„è€Œå…´èµ·ï¼Œä¸ºäº†è§£å†³å¤§å‰ç«¯ä¸­å¯¹ DOM çš„é¢‘ç¹æ“ä½œå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œä¹Ÿè®©å‰ç«¯å¦‚ H5 ç•Œé¢æ‹¥æœ‰äº†æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œç”šè‡³å¯ä»¥ç‹¬ç«‹ä¸æœåŠ¡ç«¯å®Œæˆæ•°æ®æ“ä½œã€‚\nVue.js æ˜¯éƒ¨åˆ†éµå¾ªäº† MVVM æ¶æ„çš„ï¼ˆå®˜æ–¹è¯´æ³•å¯ä¸æ˜¯ä¸€ä¸ªå®Œå…¨éµå¾ª MVVM çš„æ¡†æ¶ï¼‰ï¼Œä¸»æ‰“çš„å°±æ˜¯æ•°æ®é©±åŠ¨çš„æ¶æ„æ–¹æ³•ï¼Œé‡‡ç”¨äº†æ•°æ®åŠ«æŒçš„æ–¹æ³•æ¥ä¸ºæˆ‘ä»¬å®ç°äº† ViewModel ä¸­çš„åŒå‘æ•°æ®ç»‘å®šï¼Œå¯ä»¥è‡ªåŠ¨ä¿æŒè§†å›¾å’Œæ•°æ®çš„ä¸€è‡´æ€§ï¼Œè®©å¼€å‘æ›´åŠ é«˜æ•ˆï¼Œä¾¿æ·ã€‚\nMVVMï¼Œè¯´åˆ°åº•è¿˜æ˜¯ä¸€ç§åˆ†å±‚æ¶æ„ã€‚å®ƒçš„åˆ†å±‚å¦‚ä¸‹ï¼š\n\nModel: åŸŸæ¨¡å‹ï¼Œç”¨äºæŒä¹…åŒ–\nView: ä½œä¸ºè§†å›¾æ¨¡æ¿å­˜åœ¨\nViewModel: ä½œä¸ºè§†å›¾çš„æ¨¡å‹ï¼Œä¸ºè§†å›¾æœåŠ¡\n\n\nä¸ºä»€ä¹ˆä¸ç”¨ MVCæ—¢ç„¶æˆ‘ä»¬æƒ³è¦å‰ç«¯ä¹Ÿæ‹¥æœ‰å®ç°æ•°æ®æ“ä½œä¸šåŠ¡çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆä¸é€‰æ‹©æ›´åŠ æˆç†Ÿçš„ MVC å‘¢ï¼Ÿ\nä¼ ç»Ÿçš„ MVC åœ¨å‰ç«¯å¼€å‘ä¸­ä¼šæš´éœ²ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š\n\nå¼€å‘è€…åœ¨ä»£ç ä¸­å¤§é‡è°ƒç”¨ç›¸åŒçš„ DOM API, å¤„ç†ç¹ç ï¼Œæ“ä½œå†—ä½™ï¼Œä½¿å¾—ä»£ç éš¾ä»¥ç»´æŠ¤ã€‚\nå¤§é‡çš„DOM æ“ä½œä½¿é¡µé¢æ¸²æŸ“æ€§èƒ½é™ä½ï¼ŒåŠ è½½é€Ÿåº¦å˜æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚\nå½“ Model é¢‘ç¹å‘ç”Ÿå˜åŒ–ï¼Œå¼€å‘è€…éœ€è¦ä¸»åŠ¨æ›´æ–°åˆ°View ï¼›å½“ç”¨æˆ·çš„æ“ä½œå¯¼è‡´ Model å‘ç”Ÿå˜åŒ–ï¼Œå¼€å‘è€…åŒæ ·éœ€è¦å°†å˜åŒ–çš„æ•°æ®åŒæ­¥åˆ°Model ä¸­ï¼Œè¿™æ ·çš„å·¥ä½œä¸ä»…ç¹çï¼Œè€Œä¸”å¾ˆéš¾ç»´æŠ¤å¤æ‚å¤šå˜çš„æ•°æ®çŠ¶æ€ã€‚\n\nä¸»è¦çš„é—®é¢˜å®é™…ä¸Šè¿˜æ˜¯ç›´æ¥å¯¹åŸç”Ÿ DOM çš„é¢‘ç¹æ“ä½œå®åœ¨æ˜¯å¤ªç¹çè€Œä¸”æ‹‰ä½æ¸²æŸ“æ€§èƒ½äº†ã€‚\nMVVM å®é™…ä¸Šå°±æ˜¯æŠŠ Model å’Œ View ä¹‹é—´çš„åŒæ­¥é€»è¾‘è‡ªåŠ¨åŒ–äº†ï¼ŒVM ä»£æ›¿äº† MVP ä¸­çš„ Presenterï¼Œè€Œä¸”ä¸åœ¨éœ€è¦æˆ‘ä»¬è¿›è¡Œæ‰‹åŠ¨æ“ä½œï¼Œæ•´ä¸ªå‰ç«¯æ¶æ„çš„é€»è¾‘ç»Ÿç»Ÿäº¤ç»™æ•°æ®æ¥é©±åŠ¨ã€‚\n\nè§†å›¾å¼•æ“è§†å›¾å¼•æ“ï¼šæˆ‘æ˜¯è§†å›¾å¼•æ“ï¼Œæˆ‘ä¸º View å±‚ä½œä¸ºè§†å›¾æ¨¡æ¿æä¾›å¼ºåŠ›æ”¯æŒï¼Œå¼€å‘è€…ï¼Œä½ ä»¬ä¸éœ€è¦æ“ä½œ DOM ï¼Œä¸¢ç»™æˆ‘æ¥åšï¼\næ•°æ®å­˜å–å™¨æ•°æ®å­˜å–å™¨ï¼šæˆ‘æ˜¯æ•°æ®å­˜å–å™¨ï¼Œæˆ‘å¯ä»¥é€šè¿‡Object.defineProperty()API è½»æ¾å®šä¹‰ï¼Œæˆ–é€šè¿‡è‡ªè¡Œå°è£…å­˜å–å‡½æ•°çš„æ–¹å¼æ›²çº¿å®Œæˆã€‚æˆ‘çš„å†…éƒ¨å¾€å¾€å°è£…äº†å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼Œä»¥æ­¤æ¥å®Œæˆå¯¹æ•°æ®çš„ç›‘å¬ã€æ•°æ®å˜æ›´æ—¶é€šçŸ¥æ›´æ–°ã€‚æˆ‘æ˜¯æ•°æ®ç»‘å®šå®ç°çš„åŸºç¡€ã€‚\nç»„ä»¶æœºåˆ¶ç»„ä»¶æœºåˆ¶ï¼šæˆ‘æ˜¯ç»„ä»¶æœºåˆ¶ã€‚æœ‰è¿½æ±‚çš„å¼€å‘è€…å¾€å¾€å¸Œæœ›æŒ‰ç…§é¢å‘æœªæ¥çš„ç»„ä»¶æ ‡å‡† ï¼Web Componentsçš„æ–¹å¼å¼€å‘ï¼Œæˆ‘æ˜¯ä¸ºäº†æ»¡è¶³ä½ çš„è¿½æ±‚è€Œç”Ÿã€‚MVVM æ¡†æ¶æä¾›ç»„ä»¶çš„å®šä¹‰ã€ç»§æ‰¿ã€ç”Ÿå‘½å‘¨æœŸã€ç»„ä»¶é—´é€šä¿¡æœºåˆ¶ï¼Œä¸ºå¼€å‘è€…é¢å‘æœªæ¥å¼€å‘ç‚¹äº®æ˜ç¯ã€‚\n\n\nVue é‡Œå¤´æ˜¯æ€ä¹ˆå®ç°çš„ä¸åŒçš„MVVMæ¡†æ¶ä¸­ï¼Œå®ç°åŒå‘æ•°æ®ç»‘å®šçš„æŠ€æœ¯æœ‰æ‰€ä¸åŒã€‚ç›®å‰ä¸€äº›ä¸»æµçš„å‰ç«¯æ¡†æ¶å®ç°æ•°æ®ç»‘å®šçš„æ–¹å¼å¤§è‡´æœ‰ä»¥ä¸‹å‡ ç§ï¼š\n\næ•°æ®åŠ«æŒ (Vue)\nå‘å¸ƒ-è®¢é˜…æ¨¡å¼ (Knockoutã€Backbone)\nè„å€¼æ£€æŸ¥ (Angular)\n\nVue.js æ˜¯é‡‡ç”¨ Object.defineProperty çš„ getter å’Œ setterï¼Œå¹¶ç»“åˆè§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°æ•°æ®ç»‘å®šçš„ã€‚å½“æŠŠä¸€ä¸ªæ™®é€š Javascript å¯¹è±¡ä¼ ç»™ Vue å®ä¾‹æ¥ä½œä¸ºå®ƒçš„ dataé€‰é¡¹æ—¶ï¼ŒVue å°†éå†å®ƒçš„å±æ€§ï¼Œç”¨Object.definePropertyå°†å®ƒä»¬è½¬ä¸º getter/setterã€‚ç”¨æˆ·çœ‹ä¸åˆ° getter/setterï¼Œä½†æ˜¯åœ¨å†…éƒ¨å®ƒä»¬è®© Vue è¿½è¸ªä¾èµ–ï¼Œåœ¨å±æ€§è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜åŒ–ã€‚\n\nä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“æ‰§è¡Œ new Vue() æ—¶ï¼ŒVue å°±è¿›å…¥äº†åˆå§‹åŒ–é˜¶æ®µï¼Œä¸€æ–¹é¢Vue ä¼šéå† data é€‰é¡¹ä¸­çš„å±æ€§ï¼Œå¹¶ç”¨Object.definePropertyå°†å®ƒä»¬è½¬ä¸º getter/setterï¼Œå®ç°æ•°æ®å˜åŒ–ç›‘å¬åŠŸèƒ½ï¼›å¦ä¸€æ–¹é¢ï¼ŒVue çš„æŒ‡ä»¤ç¼–è¯‘å™¨Compile å¯¹å…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤è¿›è¡Œæ‰«æå’Œè§£æï¼Œåˆå§‹åŒ–è§†å›¾ï¼Œå¹¶è®¢é˜…Watcher æ¥æ›´æ–°è§†å›¾ï¼Œ æ­¤æ—¶Wather ä¼šå°†è‡ªå·±æ·»åŠ åˆ°æ¶ˆæ¯è®¢é˜…å™¨ä¸­(Dep),åˆå§‹åŒ–å®Œæ¯•ã€‚å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒObserver ä¸­çš„ setter æ–¹æ³•è¢«è§¦å‘ï¼Œsetter ä¼šç«‹å³è°ƒç”¨Dep.notify()ï¼ŒDep å¼€å§‹éå†æ‰€æœ‰çš„è®¢é˜…è€…ï¼Œå¹¶è°ƒç”¨è®¢é˜…è€…çš„ update æ–¹æ³•ï¼Œè®¢é˜…è€…æ”¶åˆ°é€šçŸ¥åå¯¹è§†å›¾è¿›è¡Œç›¸åº”çš„æ›´æ–°ã€‚\n\nObserveræ•°æ®ç›‘å¬å™¨ï¼Œèƒ½å¤Ÿå¯¹æ•°æ®å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¿›è¡Œç›‘å¬ï¼Œå¦‚æœ‰å˜åŠ¨å¯æ‹¿åˆ°æœ€æ–°å€¼å¹¶é€šçŸ¥è®¢é˜…è€…ï¼Œå†…éƒ¨é‡‡ç”¨Object.definePropertyçš„getterå’Œsetteræ¥å®ç°ã€‚\nCompileæŒ‡ä»¤è§£æå™¨ï¼Œå®ƒçš„ä½œç”¨å¯¹æ¯ä¸ªå…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤è¿›è¡Œæ‰«æå’Œè§£æï¼Œæ ¹æ®æŒ‡ä»¤æ¨¡æ¿æ›¿æ¢æ•°æ®ï¼Œä»¥åŠç»‘å®šç›¸åº”çš„æ›´æ–°å‡½æ•°ã€‚\nWatcherè®¢é˜…è€…ï¼Œ ä½œä¸ºè¿æ¥ Observer å’Œ Compile çš„æ¡¥æ¢ï¼Œèƒ½å¤Ÿè®¢é˜…å¹¶æ”¶åˆ°æ¯ä¸ªå±æ€§å˜åŠ¨çš„é€šçŸ¥ï¼Œæ‰§è¡ŒæŒ‡ä»¤ç»‘å®šçš„ç›¸åº”å›è°ƒå‡½æ•°ã€‚\nDepæ¶ˆæ¯è®¢é˜…å™¨ï¼Œå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥æ”¶é›†è®¢é˜…è€…ï¼ˆWatcherï¼‰ï¼Œæ•°æ®å˜åŠ¨è§¦å‘notify å‡½æ•°ï¼Œå†è°ƒç”¨è®¢é˜…è€…çš„ update æ–¹æ³•ã€‚\n\nå®é™…ä¸Šå®ç°æ•°æ®åŒå‘ç»‘å®šçš„ä»£ç å¹¶ä¸å¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒä¸‹é¢çš„é“¾æ¥è‡ªå·±è¯•ç€å®ç°ä¸€ä¸‹\nReferenceVue.js å’Œ MVVM - Sweet\u000eoDream - CSDNåšå®¢æµ…æå‰ç«¯å¼€å‘ä¸­çš„ MVC/MVP/MVVM æ¨¡å¼ - æ˜é‡‘ä¸å¥½æ„æ€ï¼è€½è¯¯ä½ çš„ååˆ†é’Ÿï¼Œè®©MVVMåŸç†è¿˜ç»™ä½  - æ˜é‡‘ä»€ä¹ˆæ˜¯MVVM - JrayZhang - SegmentFault æ€å¦\n","plink":"https://xkeith.space/post/arc-07/"},{"title":"æ­£åˆ™è¡¨è¾¾å¼è¯¦è§£ï¼ˆJavaScript æè¿°ï¼‰","date":"2019-03-22T13:15:04.000Z","updated":"2019-04-25T08:38:07.878Z","content":"\nå…ƒå­—ç¬¦\\såŒ¹é…~ä»»æ„çš„ç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦(Tab)ï¼Œæ¢è¡Œç¬¦ï¼Œä¸­æ–‡å…¨è§’ç©ºæ ¼ç­‰~ã€‚\\wåŒ¹é…~å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­—~ã€‚\n\nä¸€äº›ğŸŒ°ï¼š\n1234567\\ba\\w*\\b\tåŒ¹é…ä»¥å­—æ¯aå¼€å¤´çš„å•è¯â€”â€”å…ˆæ˜¯æŸä¸ªå•è¯å¼€å§‹å¤„(\\b)ï¼Œç„¶åæ˜¯å­—æ¯a,ç„¶åæ˜¯ä»»æ„æ•°é‡çš„å­—æ¯æˆ–æ•°å­—(\\w*)ï¼Œæœ€åæ˜¯å•è¯ç»“æŸå¤„(\\b)ã€‚\\d+åŒ¹é…1ä¸ªæˆ–æ›´å¤šè¿ç»­çš„æ•°å­—ã€‚è¿™é‡Œçš„+æ˜¯å’Œ*ç±»ä¼¼çš„å…ƒå­—ç¬¦ï¼Œä¸åŒçš„æ˜¯*åŒ¹é…é‡å¤ä»»æ„æ¬¡(å¯èƒ½æ˜¯0æ¬¡)ï¼Œè€Œ+åˆ™åŒ¹é…é‡å¤1æ¬¡æˆ–æ›´å¤šæ¬¡ã€‚\\b\\w&#123;6&#125;\\båŒ¹é…åˆšå¥½6ä¸ªå­—ç¬¦çš„å•è¯ã€‚\nå…ƒå­—ç¬¦^ï¼ˆå’Œæ•°å­—6åœ¨åŒä¸€ä¸ªé”®ä½ä¸Šçš„ç¬¦å·ï¼‰å’Œ$éƒ½åŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œè¿™å’Œ\\bæœ‰ç‚¹ç±»ä¼¼ã€‚^åŒ¹é…ä½ è¦ç”¨æ¥æŸ¥æ‰¾çš„å­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œ$åŒ¹é…ç»“å°¾ã€‚è¿™ä¸¤ä¸ªä»£ç åœ¨éªŒè¯è¾“å…¥çš„å†…å®¹æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªç½‘ç«™å¦‚æœè¦æ±‚ä½ å¡«å†™çš„QQå·å¿…é¡»ä¸º5ä½åˆ°12ä½æ•°å­—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼š^\\d{5,12}$ã€‚è¿™é‡Œçš„{5,12}å’Œå‰é¢ä»‹ç»è¿‡çš„{2}æ˜¯ç±»ä¼¼çš„ï¼Œåªä¸è¿‡{2}åŒ¹é…~åªèƒ½ä¸å¤šä¸å°‘é‡å¤2æ¬¡~ï¼Œ{5,12}åˆ™æ˜¯~é‡å¤çš„æ¬¡æ•°ä¸èƒ½å°‘äº5æ¬¡ï¼Œä¸èƒ½å¤šäº12æ¬¡~ï¼Œå¦åˆ™éƒ½ä¸åŒ¹é…ã€‚å› ä¸ºä½¿ç”¨äº†^å’Œ$ï¼Œæ‰€ä»¥è¾“å…¥çš„æ•´ä¸ªå­—ç¬¦ä¸²éƒ½è¦ç”¨æ¥å’Œ\\d{5,12}æ¥åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´æ•´ä¸ªè¾“å…¥~å¿…é¡»æ˜¯5åˆ°12ä¸ªæ•°å­—~ï¼Œå› æ­¤å¦‚æœè¾“å…¥çš„QQå·èƒ½åŒ¹é…è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„è¯ï¼Œé‚£å°±ç¬¦åˆè¦æ±‚äº†ã€‚å’Œå¿½ç•¥å¤§å°å†™çš„é€‰é¡¹ç±»ä¼¼ï¼Œæœ‰äº›æ­£åˆ™è¡¨è¾¾å¼å¤„ç†å·¥å…·è¿˜æœ‰ä¸€ä¸ªå¤„ç†å¤šè¡Œçš„é€‰é¡¹ã€‚å¦‚æœé€‰ä¸­äº†è¿™ä¸ªé€‰é¡¹ï¼Œ^å’Œ$çš„æ„ä¹‰å°±å˜æˆäº†~åŒ¹é…è¡Œçš„å¼€å§‹å¤„å’Œç»“æŸå¤„~ã€‚\nå­—ç¬¦è½¬ä¹‰å¦‚æœä½ æƒ³æŸ¥æ‰¾å…ƒå­—ç¬¦æœ¬èº«çš„è¯ï¼Œæ¯”å¦‚ä½ æŸ¥æ‰¾.,æˆ–è€…*,å°±å‡ºç°äº†é—®é¢˜ï¼šä½ æ²¡åŠæ³•æŒ‡å®šå®ƒä»¬ï¼Œå› ä¸ºå®ƒä»¬ä¼šè¢«è§£é‡Šæˆåˆ«çš„æ„æ€ã€‚è¿™æ—¶ä½ å°±å¾—ä½¿ç”¨\\æ¥å–æ¶ˆè¿™äº›å­—ç¬¦çš„ç‰¹æ®Šæ„ä¹‰ã€‚å› æ­¤ï¼Œä½ åº”è¯¥ä½¿ç”¨\\.å’Œ\\*ã€‚å½“ç„¶ï¼Œè¦æŸ¥æ‰¾\\æœ¬èº«ï¼Œä½ ä¹Ÿå¾—ç”¨\\\\.ä¾‹å¦‚ï¼šdeerchao\\.netåŒ¹é…deerchao.netï¼ŒC:\\\\WindowsåŒ¹é…C:\\Windowsã€‚\né‡å¤\nå­—ç¬¦ç±»å­—ç¬¦ç±»ç”¨äºåŒ¹é…æ²¡æœ‰é¢„å®šä¹‰å…ƒå­—ç¬¦çš„å­—ç¬¦é›†åˆã€‚ä½¿ç”¨æ–¹æ‹¬å·æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ç±»ã€‚ä¸¾å‡ ä¸ªğŸŒ°ï¼š\n1234567[aeiou]å°±åŒ¹é…ä»»ä½•ä¸€ä¸ªè‹±æ–‡å…ƒéŸ³å­—æ¯ï¼Œ[.?!]åŒ¹é…æ ‡ç‚¹ç¬¦å·(.æˆ–?æˆ–!)ã€‚[0-9]ä»£è¡¨çš„å«æ„ä¸\\då°±æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼šä¸€ä½æ•°å­—ï¼›åŒç†[a-z0-9A-Z_]ä¹Ÿå®Œå…¨ç­‰åŒäº\\wï¼ˆå¦‚æœåªè€ƒè™‘è‹±æ–‡çš„è¯ï¼‰ã€‚ä¸€ä¸ªæ›´å¤æ‚çš„è¡¨è¾¾å¼ï¼š\\(?0\\d&#123;2&#125;[) -]?\\d&#123;8&#125;ã€‚è¿™ä¸ªè¡¨è¾¾å¼å¯ä»¥åŒ¹é…å‡ ç§æ ¼å¼çš„ç”µè¯å·ç ï¼Œåƒ(010)88886666ï¼Œæˆ–022-22334455ï¼Œæˆ–02912345678ç­‰ã€‚\nåˆ†ææ¡ä»¶åˆ†ææ¡ä»¶ç±»ä¼¼äºé€»è¾‘è¿ç®—ä¸­çš„æˆ–ï¼Œåªè¦æ»¡è¶³ä¸€ç§è§„åˆ™éƒ½åº”åŒ¹é…ã€‚ä½¿ç”¨ | æ¥æŠŠä¸åŒçš„è§„åˆ™åˆ†éš”å¼€ã€‚ä¸¾å‡ ä¸ªğŸŒ°ï¼š\n123456780\\d&#123;2&#125;-\\d&#123;8&#125;|0\\d&#123;3&#125;-\\d&#123;7&#125;è¿™ä¸ªè¡¨è¾¾å¼èƒ½åŒ¹é…ä¸¤ç§ä»¥è¿å­—å·åˆ†éš”çš„ç”µè¯å·ç ï¼šä¸€ç§æ˜¯ä¸‰ä½åŒºå·ï¼Œ8ä½æœ¬åœ°å·(å¦‚010-12345678)ï¼Œä¸€ç§æ˜¯4ä½åŒºå·ï¼Œ7ä½æœ¬åœ°å·(0376-2233445)ã€‚\\(0\\d&#123;2&#125;\\)[- ]?\\d&#123;8&#125;|0\\d&#123;2&#125;[- ]?\\d&#123;8&#125;è¿™ä¸ªè¡¨è¾¾å¼åŒ¹é…3ä½åŒºå·çš„ç”µè¯å·ç ï¼Œå…¶ä¸­åŒºå·å¯ä»¥ç”¨å°æ‹¬å·æ‹¬èµ·æ¥ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ï¼ŒåŒºå·ä¸æœ¬åœ°å·é—´å¯ä»¥ç”¨è¿å­—å·æˆ–ç©ºæ ¼é—´éš”ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰é—´éš”ã€‚ä½ å¯ä»¥è¯•è¯•ç”¨åˆ†ææ¡ä»¶æŠŠè¿™ä¸ªè¡¨è¾¾å¼æ‰©å±•æˆä¹Ÿæ”¯æŒ4ä½åŒºå·çš„ã€‚\\d&#123;5&#125;-\\d&#123;4&#125;|\\d&#123;5&#125;è¿™ä¸ªè¡¨è¾¾å¼ç”¨äºåŒ¹é…ç¾å›½çš„é‚®æ”¿ç¼–ç ã€‚ç¾å›½é‚®ç¼–çš„è§„åˆ™æ˜¯5ä½æ•°å­—ï¼Œæˆ–è€…ç”¨è¿å­—å·é—´éš”çš„9ä½æ•°å­—ã€‚\næœ€åä¸€ä¸ªä¾‹å­èƒ½è¯´æ˜ä¸€ä¸ªé—®é¢˜ï¼šä½¿ç”¨åˆ†ææ¡ä»¶æ—¶ï¼Œè¦æ³¨æ„å„ä¸ªæ¡ä»¶çš„é¡ºåºã€‚å¦‚æœä½ æŠŠå®ƒæ”¹æˆ\\d{5}|\\d{5}-\\d{4}çš„è¯ï¼Œé‚£ä¹ˆå°±åªä¼šåŒ¹é…5ä½çš„é‚®ç¼–(ä»¥åŠ9ä½é‚®ç¼–çš„å‰5ä½)ã€‚åŸå› æ˜¯åŒ¹é…åˆ†ææ¡ä»¶æ—¶ï¼Œå°†ä¼šä»å·¦åˆ°å³åœ°æµ‹è¯•æ¯ä¸ªæ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³äº†æŸä¸ªåˆ†æçš„è¯ï¼Œå°±ä¸ä¼šå»å†ç®¡å…¶å®ƒçš„æ¡ä»¶äº†ã€‚\nåˆ†ç»„ä½¿ç”¨åˆ†ç»„æ¥é‡å¤å¤šä¸ªå­—ç¬¦ã€‚åˆ†ç»„å¯ä»¥è¢«åå‘å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥è¢«éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ç›´æ¥æå–ä½¿ç”¨ã€‚ä½¿ç”¨å°æ‹¬å·æ¥æŒ‡å®šä¸€ä¸ªåˆ†ç»„ã€‚ä¸¾å‡ ä¸ªğŸŒ°ï¼š12345678910(\\d&#123;1,3&#125;\\.)&#123;3&#125;\\d&#123;1,3&#125;æ˜¯ä¸€ä¸ªç®€å•çš„IPåœ°å€åŒ¹é…è¡¨è¾¾å¼ã€‚è¦ç†è§£è¿™ä¸ªè¡¨è¾¾å¼ï¼Œè¯·æŒ‰ä¸‹åˆ—é¡ºåºåˆ†æå®ƒï¼š\\d&#123;1,3&#125;åŒ¹é…1åˆ°3ä½çš„æ•°å­—ï¼Œ(\\d&#123;1,3&#125;\\.)&#123;3&#125;åŒ¹é…ä¸‰ä½æ•°å­—åŠ ä¸Šä¸€ä¸ªè‹±æ–‡å¥å·(è¿™ä¸ªæ•´ä½“ä¹Ÿå°±æ˜¯è¿™ä¸ªåˆ†ç»„)é‡å¤3æ¬¡ï¼Œæœ€åå†åŠ ä¸Šä¸€ä¸ªä¸€åˆ°ä¸‰ä½çš„æ•°å­—(\\d&#123;1,3&#125;)ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå®ƒä¹Ÿå°†åŒ¹é…256.300.888.999è¿™ç§ä¸å¯èƒ½å­˜åœ¨çš„IPåœ°å€ã€‚å¦‚æœèƒ½ä½¿ç”¨ç®—æœ¯æ¯”è¾ƒçš„è¯ï¼Œæˆ–è®¸èƒ½ç®€å•åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­å¹¶ä¸æä¾›å…³äºæ•°å­¦çš„ä»»ä½•åŠŸèƒ½ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨å†—é•¿çš„åˆ†ç»„ï¼Œé€‰æ‹©ï¼Œå­—ç¬¦ç±»æ¥æè¿°ä¸€ä¸ªæ­£ç¡®çš„IPåœ°å€ï¼š((2[0-4]\\d|25[0-5]|[01]?\\d\\d?)\\.)&#123;3&#125;(2[0-4]\\d|25[0-5]|[01]?\\d\\d?)ã€‚\nè¿™é‡Œè¯·å½»åº•ç†è§£ 2[0-4]\\d|25[0-5]|[01]?\\d\\d?\nåä¹‰åä¹‰å…ƒå­—ç¬¦ç”¨æ¥æŸ¥æ‰¾ä¸å±äºå®šä¹‰çš„å­—ç¬¦ç±»çš„å­—ç¬¦ï¼Œå¸¸å¸¸æ˜¯å…ƒå­—ç¬¦çš„å¤§å†™ã€‚\n\nåå‘å¼•ç”¨ä½¿ç”¨å°æ‹¬å·åˆ†ç»„ä¸€ä¸ªè¡¨è¾¾å¼åï¼ŒåŒ¹é…è¿™ä¸ªè¡¨è¾¾å¼çš„æ–‡æœ¬ï¼Œä¹Ÿå°±æ˜¯åˆ†ç»„æ•è·çš„å†…å®¹ï¼Œå¯ä»¥åœ¨è¡¨è¾¾å¼æˆ–å…¶ä»–ç¨‹åºä¸­åšè¿›ä¸€æ­¥çš„å¤„ç†ã€‚é»˜è®¤æ¯ä¸ªåˆ†ç»„æ‹¥æœ‰ä¸€ä¸ªç»„å·ï¼Œä»å·¦å‘å³ï¼Œç¬¬ä¸€ä¸ªåˆ†ç»„ç»„å·ä¸º 1ï¼Œä»¥æ­¤ç±»æ¨ã€‚åå‘å¼•ç”¨å¯ä»¥ç”¨äºé‡å¤æœç´¢å‰é¢æŸä¸ªåˆ†ç»„åŒ¹é…çš„æ–‡æœ¬ï¼Œè€Œä¸ç”¨é‡å†™é‚£äº›å†—é•¿çš„è§„åˆ™ã€‚ä¸¾å‡ ä¸ªğŸŒ°ï¼š\n12345678910\\b(\\w+)\\b\\s+\\1\\bå¯ä»¥ç”¨æ¥åŒ¹é…é‡å¤çš„å•è¯ï¼Œåƒgo go, æˆ–è€…kitty kittyã€‚è¿™ä¸ªè¡¨è¾¾å¼é¦–å…ˆæ˜¯ä¸€ä¸ªå•è¯ï¼Œä¹Ÿå°±æ˜¯å•è¯å¼€å§‹å¤„å’Œç»“æŸå¤„ä¹‹é—´çš„å¤šäºä¸€ä¸ªçš„å­—æ¯æˆ–æ•°å­—(\\b(\\w+)\\b)ï¼Œè¿™ä¸ªå•è¯ä¼šè¢«æ•è·åˆ°ç¼–å·ä¸º1çš„åˆ†ç»„ä¸­ï¼Œç„¶åæ˜¯1ä¸ªæˆ–å‡ ä¸ªç©ºç™½ç¬¦(\\s+)ï¼Œæœ€åæ˜¯åˆ†ç»„1ä¸­æ•è·çš„å†…å®¹ï¼ˆä¹Ÿå°±æ˜¯å‰é¢åŒ¹é…çš„é‚£ä¸ªå•è¯ï¼‰(\\1)ã€‚ä½ ä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šå­è¡¨è¾¾å¼çš„ç»„åã€‚è¦æŒ‡å®šä¸€ä¸ªå­è¡¨è¾¾å¼çš„ç»„åï¼Œè¯·ä½¿ç”¨è¿™æ ·çš„è¯­æ³•ï¼š(?&lt;Word&gt;\\w+)(æˆ–è€…æŠŠå°–æ‹¬å·æ¢æˆ&apos;ä¹Ÿè¡Œï¼š(?&apos;Word&apos;\\w+)),è¿™æ ·å°±æŠŠ\\w+çš„ç»„åæŒ‡å®šä¸ºWordäº†ã€‚è¦åå‘å¼•ç”¨è¿™ä¸ªåˆ†ç»„æ•è·çš„å†…å®¹ï¼Œä½ å¯ä»¥ä½¿ç”¨\\k&lt;Word&gt;,æ‰€ä»¥ä¸Šä¸€ä¸ªä¾‹å­ä¹Ÿå¯ä»¥å†™æˆè¿™æ ·ï¼š\\b(?&lt;Word&gt;\\w+)\\b\\s+\\k&lt;Word&gt;\\bã€‚\n\né›¶å®½æ–­è¨€æ¥ä¸‹æ¥çš„å››ä¸ªæ–­è¨€ç”¨äºæŸ¥æ‰¾åœ¨æŸäº›å†…å®¹ï¼ˆä¸åŒ…æ‹¬è¿™äº›å†…å®¹ï¼‰ä¹‹å‰æˆ–ä¹‹åçš„ä¸œè¥¿ã€‚ä¹‹æ‰€ä»¥å«åšæ–­è¨€ï¼Œæ˜¯å› ä¸ºä»–ä»¬ç»™å‡ºäº†åŒ¹é…ä½ç½®åº”è¯¥æ»¡è¶³çš„æ¡ä»¶ã€‚æ³¨æ„ï¼Œä»€ä¹ˆæ˜¯ä½ç½®åŒ¹é…ï¼Œè¿™äº›å­—ç¬¦å¹¶ä¸åŒ¹é…ä»»ä½•å­—ç¬¦ï¼Œä»–ä»¬åŒ¹é…çš„æ˜¯æ»¡è¶³å“åº”æ¡ä»¶çš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä½ç½®çœ‹æˆæ˜¯ä»»æ„ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´çš„ç©ºå­—ç¬¦ã€‚æ–­è¨€æ˜¯å¾ˆå…¸å‹çš„ç”¨æ¥ä½ç½®åŒ¹é…çš„è¡¨è¾¾å¼ã€‚\nES5 ä¸­å…±æœ‰ 6 ä¸ªé”šå­—ç¬¦^    $    \\b    \\B    (?=p)    (?!p) \næ­£å‘é›¶å®½æ–­è¨€é›¶å®½åº¦æ­£é¢„æµ‹å…ˆè¡Œæ–­è¨€\n(?=exp)\nå®ƒæ–­è¨€è‡ªèº«å‡ºç°çš„ä½ç½®çš„åè¾¹èƒ½åŒ¹é…è¡¨è¾¾å¼ exp ã€‚ä¸¾ä¸ªğŸŒ°ï¼š\n1234\\b\\w+(?=ing\\b)ï¼ŒåŒ¹é…ä»¥ingç»“å°¾çš„å•è¯çš„å‰é¢éƒ¨åˆ†(é™¤äº†ingä»¥å¤–çš„éƒ¨åˆ†)ï¼Œå¦‚æŸ¥æ‰¾I&apos;m singing while you&apos;re dancing.æ—¶ï¼Œå®ƒä¼šåŒ¹é…singå’Œdancã€‚\né›¶å®½åº¦æ­£å›é¡¾åå‘æ–­è¨€\n(?&lt;=exp)\nå®ƒæ–­è¨€è‡ªèº«å‡ºç°çš„ä½ç½®çš„å‰é¢èƒ½åŒ¹é…è¡¨è¾¾å¼ expã€‚ä¸¾ä¸ªğŸŒ°ï¼š\n123(?&lt;=\\bre)\\w+\\bä¼šåŒ¹é…ä»¥reå¼€å¤´çš„å•è¯çš„ååŠéƒ¨åˆ†(é™¤äº†reä»¥å¤–çš„éƒ¨åˆ†)ï¼Œä¾‹å¦‚åœ¨æŸ¥æ‰¾reading a bookæ—¶ï¼Œå®ƒåŒ¹é…adingã€‚\nè´Ÿå‘é›¶å®½æ–­è¨€å‰é¢æˆ‘ä»¬æåˆ°è¿‡æ€ä¹ˆæŸ¥æ‰¾ä¸æ˜¯æŸä¸ªå­—ç¬¦æˆ–ä¸åœ¨æŸä¸ªå­—ç¬¦ç±»é‡Œçš„å­—ç¬¦çš„æ–¹æ³•(åä¹‰)ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³è¦ç¡®ä¿æŸä¸ªå­—ç¬¦æ²¡æœ‰å‡ºç°ï¼Œä½†å¹¶ä¸æƒ³å»åŒ¹é…å®ƒæ—¶æ€ä¹ˆåŠï¼Ÿä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŸ¥æ‰¾è¿™æ ·çš„å•è¯â€”å®ƒé‡Œé¢å‡ºç°äº†å­—æ¯q,ä½†æ˜¯qåé¢è·Ÿçš„ä¸æ˜¯å­—æ¯u,æˆ‘ä»¬å¯ä»¥å°è¯•è¿™æ ·ï¼š\\b\\w*q[^u]\\w*\\båŒ¹é…~åŒ…å«åé¢ä¸æ˜¯å­—æ¯uçš„å­—æ¯qçš„å•è¯~ã€‚ä½†æ˜¯å¦‚æœå¤šåšæµ‹è¯•(æˆ–è€…ä½ æ€ç»´è¶³å¤Ÿæ•é”ï¼Œç›´æ¥å°±è§‚å¯Ÿå‡ºæ¥äº†)ï¼Œä½ ä¼šå‘ç°ï¼Œå¦‚æœqå‡ºç°åœ¨å•è¯çš„ç»“å°¾çš„è¯ï¼ŒåƒIraq,Benqï¼Œè¿™ä¸ªè¡¨è¾¾å¼å°±ä¼šå‡ºé”™ã€‚è¿™æ˜¯å› ä¸º[^u]æ€»è¦åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å¦‚æœqæ˜¯å•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„è¯ï¼Œåé¢çš„[^u]å°†ä¼šåŒ¹é…qåé¢çš„å•è¯åˆ†éš”ç¬¦(å¯èƒ½æ˜¯ç©ºæ ¼ï¼Œæˆ–è€…æ˜¯å¥å·æˆ–å…¶å®ƒçš„ä»€ä¹ˆ)ï¼Œåé¢çš„\\w\\bå°†ä¼šåŒ¹é…ä¸‹ä¸€ä¸ªå•è¯ï¼Œäºæ˜¯`\\b\\wq[^u]\\w\\bå°±èƒ½åŒ¹é…æ•´ä¸ªIraq fightingã€‚**è´Ÿå‘é›¶å®½æ–­è¨€**èƒ½è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒåªåŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œå¹¶ä¸**æ¶ˆè´¹**ä»»ä½•å­—ç¬¦ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š\\b\\wq(?!u)\\w*\\b`ã€‚\né›¶å®½åº¦è´Ÿé¢„æµ‹å…ˆè¡Œæ–­è¨€\n(?!exp)\nå®ƒæ–­è¨€æ­¤ä½ç½®çš„åè¾¹ä¸èƒ½åŒ¹é…è¡¨è¾¾å¼ expä¸¾ä¸ªğŸŒ°ï¼š\n12\\d&#123;3&#125;(?!\\d)åŒ¹é…ä¸‰ä½æ•°å­—ï¼Œè€Œä¸”è¿™ä¸‰ä½æ•°å­—çš„åé¢ä¸èƒ½æ˜¯æ•°å­—ï¼›\\b((?!abc)\\w)+\\båŒ¹é…ä¸åŒ…å«è¿ç»­å­—ç¬¦ä¸²abcçš„å•è¯ã€‚\né›¶å®½åº¦è´Ÿé¢„æµ‹åå‘æ–­è¨€\n(?&lt;!exp)\nå®ƒæ–­è¨€æ­¤ä½ç½®çš„å‰é¢ä¸èƒ½åŒ¹é…è¡¨è¾¾å¼ expä¸¾ä¸ªğŸŒ°ï¼š\n12345678910(?&lt;![a-z])\\d&#123;7&#125;åŒ¹é…~å‰é¢ä¸æ˜¯å°å†™å­—æ¯çš„ä¸ƒä½æ•°å­—~ã€‚ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ï¼š(?&lt;=&lt;(\\w+)&gt;).*(?=&lt;\\/\\1&gt;)åŒ¹é…ä¸åŒ…å«å±æ€§çš„ç®€å•HTMLæ ‡ç­¾å†…é‡Œçš„å†…å®¹ã€‚(?&lt;=&lt;(\\w+)&gt;)æŒ‡å®šäº†è¿™æ ·çš„å‰ç¼€ï¼šè¢«å°–æ‹¬å·æ‹¬èµ·æ¥çš„å•è¯(æ¯”å¦‚å¯èƒ½æ˜¯&lt;b&gt;)ï¼Œç„¶åæ˜¯.(ä»»æ„çš„å­—ç¬¦ä¸²),æœ€åæ˜¯ä¸€ä¸ªåç¼€(?=&lt;\\/\\1&gt;)ã€‚æ³¨æ„åç¼€é‡Œçš„\\/ï¼Œå®ƒç”¨åˆ°äº†å‰é¢æè¿‡çš„å­—ç¬¦è½¬ä¹‰ï¼›\\1åˆ™æ˜¯ä¸€ä¸ªåå‘å¼•ç”¨ï¼Œå¼•ç”¨çš„æ­£æ˜¯æ•è·çš„ç¬¬ä¸€ç»„ï¼Œå‰é¢çš„(\\w+)åŒ¹é…çš„å†…å®¹ï¼Œè¿™æ ·å¦‚æœå‰ç¼€å®é™…ä¸Šæ˜¯&lt;b&gt;çš„è¯ï¼Œåç¼€å°±æ˜¯&lt;/b&gt;äº†ã€‚æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…çš„æ˜¯&lt;b&gt;å’Œ&lt;/b&gt;ä¹‹é—´çš„å†…å®¹(å†æ¬¡æé†’ï¼Œä¸åŒ…æ‹¬å‰ç¼€å’Œåç¼€æœ¬èº«)ã€‚\næ€»ç»“å…¶å®æˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½å‘ç°ä¸€ä¸ªè§„å¾‹ã€‚\n\nå…ˆè¡Œæ–­è¨€çš„è¡¨è¾¾å¼ä¸€èˆ¬æ”¾åœ¨åé¢ï¼Œç”¨æ¥åŒ¹é…çš„å´æ˜¯è¡¨è¾¾å¼å‰çš„å†…å®¹ã€‚\nåå‘æ–­è¨€çš„è¡¨è¾¾å¼ä¸€èˆ¬æ”¾åœ¨å‰é¢ï¼Œç”¨æ¥åŒ¹é…çš„å´æ˜¯è¡¨è¾¾å¼åçš„å†…å®¹ã€‚\n\næ³¨é‡Šå°æ‹¬å·çš„å¦ä¸€ç§ç”¨é€”æ˜¯é€šè¿‡è¯­æ³•(?#comment)æ¥åŒ…å«æ³¨é‡Šã€‚ä¾‹å¦‚ï¼š2[0-4]\\d(?#200-249)|25[0-5](?#250-255)|[01]?\\d\\d?(?#0-199)ã€‚è¦åŒ…å«æ³¨é‡Šçš„è¯ï¼Œæœ€å¥½æ˜¯å¯ç”¨â€œå¿½ç•¥æ¨¡å¼é‡Œçš„ç©ºç™½ç¬¦â€é€‰é¡¹ï¼Œï¼ˆJavaScript æ˜¯ä¸æ”¯æŒè¿™ä¸ªçš„ï¼‰è¿™æ ·åœ¨ç¼–å†™è¡¨è¾¾å¼æ—¶èƒ½ä»»æ„çš„æ·»åŠ ç©ºæ ¼ï¼ŒTabï¼Œæ¢è¡Œï¼Œè€Œå®é™…ä½¿ç”¨æ—¶è¿™äº›éƒ½å°†è¢«å¿½ç•¥ã€‚å¯ç”¨è¿™ä¸ªé€‰é¡¹åï¼Œåœ¨#åé¢åˆ°è¿™ä¸€è¡Œç»“æŸçš„æ‰€æœ‰æ–‡æœ¬éƒ½å°†è¢«å½“æˆæ³¨é‡Šå¿½ç•¥æ‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å‰é¢çš„ä¸€ä¸ªè¡¨è¾¾å¼å†™æˆè¿™æ ·ï¼š\n1234567(?&lt;=    # æ–­è¨€è¦åŒ¹é…çš„æ–‡æœ¬çš„å‰ç¼€&lt;(\\w+)&gt; # æŸ¥æ‰¾å°–æ‹¬å·æ‹¬èµ·æ¥çš„å­—æ¯æˆ–æ•°å­—(å³HTML/XMLæ ‡ç­¾))       # å‰ç¼€ç»“æŸ.*      # åŒ¹é…ä»»æ„æ–‡æœ¬(?=     # æ–­è¨€è¦åŒ¹é…çš„æ–‡æœ¬çš„åç¼€&lt;\\/\\1&gt;  # æŸ¥æ‰¾å°–æ‹¬å·æ‹¬èµ·æ¥çš„å†…å®¹ï¼šå‰é¢æ˜¯ä¸€ä¸ª&quot;/&quot;ï¼Œåé¢æ˜¯å…ˆå‰æ•è·çš„æ ‡ç­¾)       # åç¼€ç»“æŸ\nè´ªå©ªä¸æ‡’æƒ°å½“æ­£åˆ™è¡¨è¾¾å¼ä¸­åŒ…å«èƒ½æ¥å—é‡å¤çš„é™å®šç¬¦æ—¶ï¼Œé€šå¸¸çš„è¡Œä¸ºæ˜¯ï¼ˆåœ¨ä½¿æ•´ä¸ªè¡¨è¾¾å¼èƒ½å¾—åˆ°åŒ¹é…çš„å‰æä¸‹ï¼‰åŒ¹é…å°½å¯èƒ½å¤šçš„å­—ç¬¦ã€‚ä»¥è¿™ä¸ªè¡¨è¾¾å¼ä¸ºä¾‹ï¼ša.*bï¼Œå®ƒå°†ä¼šåŒ¹é…~æœ€é•¿çš„ä»¥aå¼€å§‹ï¼Œä»¥bç»“æŸçš„å­—ç¬¦ä¸²~ã€‚å¦‚æœç”¨å®ƒæ¥æœç´¢aababçš„è¯ï¼Œå®ƒä¼šåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²~aabab~ã€‚è¿™è¢«ç§°ä¸ºè´ªå©ªåŒ¹é…ã€‚æœ‰æ—¶ï¼Œæˆ‘ä»¬æ›´éœ€è¦æ‡’æƒ°åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯åŒ¹é…å°½å¯èƒ½å°‘çš„å­—ç¬¦ã€‚å‰é¢ç»™å‡ºçš„é™å®šç¬¦éƒ½å¯ä»¥è¢«è½¬åŒ–ä¸ºæ‡’æƒ°åŒ¹é…æ¨¡å¼ï¼Œåªè¦åœ¨å®ƒåé¢åŠ ä¸Šä¸€ä¸ªé—®å·?ã€‚è¿™æ ·.*?å°±æ„å‘³ç€~åŒ¹é…ä»»æ„æ•°é‡çš„é‡å¤ï¼Œä½†æ˜¯åœ¨èƒ½ä½¿æ•´ä¸ªåŒ¹é…æˆåŠŸçš„å‰æä¸‹ä½¿ç”¨æœ€å°‘çš„é‡å¤~ã€‚ç°åœ¨çœ‹çœ‹æ‡’æƒ°ç‰ˆçš„ä¾‹å­å§ï¼ša.*?båŒ¹é…~æœ€çŸ­çš„ï¼Œä»¥aå¼€å§‹ï¼Œä»¥bç»“æŸçš„å­—ç¬¦ä¸²~ã€‚å¦‚æœæŠŠå®ƒåº”ç”¨äºaababçš„è¯ï¼Œå®ƒä¼šåŒ¹é…~aabï¼ˆç¬¬ä¸€åˆ°ç¬¬ä¸‰ä¸ªå­—ç¬¦ï¼‰~å’Œ~abï¼ˆç¬¬å››åˆ°ç¬¬äº”ä¸ªå­—ç¬¦ï¼‰~ã€‚\n\nå¹³è¡¡ç»„å’Œé€’å½’åŒ¹é…é€’å½’åŒ¹é…ï¼Œå¯ä»¥ç”¨äºåŒ¹é…åµŒå¥—å…ƒç´ ä¸­çš„æœ€å°å…ƒç´ ï¼Œç”¨æ³•å®åœ¨æ˜¯å¤ªæŠ½è±¡äº†ï¼Œç”¨çš„æ—¶å€™å†æŸ¥å§ã€‚\n\nJavaScript ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼JavaScript æœ‰ä¸ªåŸç”Ÿå¯¹è±¡ï¼Œregexpï¼ŒåŒæ—¶ string çš„éƒ¨åˆ†æ–¹æ³•ä¹Ÿæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚ä½¿ç”¨ /exp/ æ¥åŒ…è£¹è¡¨è¾¾å¼æ¥ç”Ÿæˆä¸€ä¸ª regexp å¯¹è±¡ã€‚æ­£åˆ™è¡¨è¾¾å¼æ ‡è¯†ï¼šg -&gt; å…¨å±€åŒ¹é…ï¼ŒåŒ¹é…å¤šæ¬¡i -&gt; å¤§å°å†™ä¸æ•æ„Ÿm -&gt; å¤šè¡Œï¼Œæ­¤æ—¶çš„ ^ å’Œ $ åŒ¹é…çš„æ˜¯è¡Œç»“æŸç¬¦ã€‚\nJavaScript ä¸­èƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•ï¼š\n\næ¡ˆä¾‹åˆ†æåŒ¹é… 16 è¿›åˆ¶é¢œè‰²å€¼è¦æ±‚åŒ¹é…ï¼š\n1234#ffbbad#Fc01DF#FFF#ffE\nåˆ†æï¼šè¡¨ç¤ºä¸€ä¸ª16è¿›åˆ¶å­—ç¬¦ï¼Œå¯ä»¥ç”¨å­—ç¬¦ç»„[0-9a-fA-F]ã€‚å…¶ä¸­å­—ç¬¦å¯ä»¥å‡ºç°3æˆ–6æ¬¡ï¼Œéœ€è¦æ˜¯ç”¨é‡è¯å’Œåˆ†æ”¯ç»“æ„ã€‚ä½¿ç”¨åˆ†æ”¯ç»“æ„æ—¶ï¼Œéœ€è¦æ³¨æ„é¡ºåºã€‚æ­£åˆ™å¦‚ä¸‹ï¼š\n12var regex = /#([0-9a-fA-F]&#123;6&#125;|[0-9a-fA-F]&#123;3&#125;)/g; var string = \"#ffbbad #Fc01DF #FFF #ffE\"; console.log( string.match(regex) ); // =&gt; [\"#ffbbad\", \"#Fc01DF\", \"#FFF\", \"#ffE\"]\nåŒ¹é…æ—¶é—´è¦æ±‚åŒ¹é… 24 å°æ—¶åˆ¶çš„æ—¶é—´\nå…±4ä½æ•°å­—ï¼Œç¬¬ä¸€ä½æ•°å­—å¯ä»¥ä¸º[0-2]ã€‚å½“ç¬¬1ä½ä¸º2æ—¶ï¼Œç¬¬2ä½å¯ä»¥ä¸º[0-3]ï¼Œå…¶ä»–æƒ…å†µæ—¶ï¼Œç¬¬2ä½ä¸º[0-9]ã€‚ç¬¬3ä½æ•°å­—ä¸º[0-5]ï¼Œç¬¬4ä½ä¸º[0-9]æ­£åˆ™å¦‚ä¸‹ï¼š1var regex = /^([01][0-9]|[2][0-3]):[0-5][0-9]$/; console.log( regex.test(\"23:59\") ); console.log( regex.test(\"02:07\") ); // =&gt; true // =&gt; true\nå¦‚æœä¹Ÿè¦æ±‚åŒ¹é…7:9ï¼Œä¹Ÿå°±æ˜¯è¯´æ—¶åˆ†å‰é¢çš„0å¯ä»¥çœç•¥ã€‚\n1234567var regex = /^(0?[0-9]|1[0-9]|[2][0-3]):(0?[0-9]|[1-5][0-9])$/;console.log( regex.test(\"23:59\") ); console.log( regex.test(\"02:07\") ); console.log( regex.test(\"7:9\") ); // =&gt; true// =&gt; true// =&gt; true\nä¸åŒ¹é…ä»»ä½•ä¸œè¥¿çš„æ­£åˆ™/.^/\nå› ä¸ºæ­¤æ­£åˆ™è¦æ±‚åªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œä½†è¯¥å­—ç¬¦åé¢æ˜¯å¼€å¤´ã€‚\né©¼å³°åŒ–1234567function camelize(str) &#123;\treturn str.replace(/[-_\\s]+(.)?/g, function(match, c) &#123;\t\treturn c ? c.toUpperCase() : '';\t&#125;);&#125;console.log( camelize('-moz-transform') ); // =&gt; \"MozTransform\"\nå…¶ä¸­åˆ†ç»„(.)è¡¨ç¤ºé¦–å­—æ¯ã€‚å•è¯çš„ç•Œå®šæ˜¯ï¼Œå‰é¢çš„å­—ç¬¦å¯ä»¥æ˜¯å¤šä¸ªè¿å­—ç¬¦ã€ä¸‹åˆ’çº¿ä»¥åŠç©ºç™½ç¬¦ã€‚æ­£åˆ™åé¢çš„?çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†åº”å¯¹strå°¾éƒ¨çš„å­—ç¬¦å¯èƒ½ä¸æ˜¯å•è¯å­—ç¬¦ï¼Œæ¯”å¦‚stræ˜¯â€™-moz-transform  â€˜ã€‚\nReferenceæ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹\nJSæ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹ï¼ˆç•¥é•¿ï¼‰ - æ˜é‡‘\n","plink":"https://xkeith.space/post/arc-06/"},{"title":"Vue é«˜çº§ï¼ˆVue Router åŸºç¡€ï¼‰","date":"2019-03-21T14:07:11.000Z","updated":"2019-03-21T14:08:59.763Z","content":"\nåŠ¨æ€è·¯ç”±åŒ¹é…æˆ‘ä»¬ç»å¸¸éœ€è¦æŠŠæŸç§æ¨¡å¼åŒ¹é…åˆ°çš„æ‰€æœ‰è·¯ç”±ï¼Œå…¨éƒ½æ˜ å°„åˆ°åŒä¸ªç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªUserç»„ä»¶ï¼Œå¯¹äºæ‰€æœ‰ ID å„ä¸ç›¸åŒçš„ç”¨æˆ·ï¼Œéƒ½è¦ä½¿ç”¨è¿™ä¸ªç»„ä»¶æ¥æ¸²æŸ“ã€‚\n\nå“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–\nè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ PixelStack ä¸ä¼šåˆ·æ–°ï¼Œæ—©çœ‹äº†è¿™ä¸ªæ—©å°±åˆ·æ–°äº†ã€‚ğŸ˜‚  \n\næé†’ä¸€ä¸‹ï¼Œå½“ä½¿ç”¨è·¯ç”±å‚æ•°æ—¶ï¼Œä¾‹å¦‚ä»/user/fooå¯¼èˆªåˆ°/user/barï¼ŒåŸæ¥çš„ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚å› ä¸ºä¸¤ä¸ªè·¯ç”±éƒ½æ¸²æŸ“åŒä¸ªç»„ä»¶ï¼Œæ¯”èµ·é”€æ¯å†åˆ›å»ºï¼Œå¤ç”¨åˆ™æ˜¾å¾—æ›´åŠ é«˜æ•ˆã€‚ä¸è¿‡ï¼Œè¿™ä¹Ÿæ„å‘³ç€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¼šå†è¢«è°ƒç”¨ã€‚å¤ç”¨ç»„ä»¶æ—¶ï¼Œæƒ³å¯¹è·¯ç”±å‚æ•°çš„å˜åŒ–ä½œå‡ºå“åº”çš„è¯ï¼Œä½ å¯ä»¥ç®€å•åœ° watch (ç›‘æµ‹å˜åŒ–)$routeå¯¹è±¡ï¼š\n12345678const User = &#123;  template: '...',  watch: &#123;    '$route' (to, from) &#123;      // å¯¹è·¯ç”±å˜åŒ–ä½œå‡ºå“åº”...    &#125;  &#125;&#125;\næˆ–è€…ä½¿ç”¨ 2.2 ç‰ˆæœ¬ä¸­å¼•å…¥çš„å¯¼èˆªå®ˆå«\n1234567const User = &#123;  template: '...',  beforeRouteUpdate (to, from, next) &#123;    // react to route changes...    // don't forget to call next()  &#125;&#125;\næ•è·æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”±å¸¸è§„å‚æ•°åªä¼šåŒ¹é…è¢«/åˆ†éš”çš„ URL ç‰‡æ®µä¸­çš„å­—ç¬¦ã€‚å¦‚æœæƒ³åŒ¹é…ä»»æ„è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ (*)ï¼š\nå½“ä½¿ç”¨é€šé…ç¬¦è·¯ç”±æ—¶ï¼Œè¯·ç¡®ä¿è·¯ç”±çš„é¡ºåºæ˜¯æ­£ç¡®çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å«æœ‰é€šé…ç¬¦çš„è·¯ç”±åº”è¯¥æ”¾åœ¨æœ€åã€‚è·¯ç”±{ path: â€˜â€™ }é€šå¸¸ç”¨äºå®¢æˆ·ç«¯ 404 é”™è¯¯ã€‚å¦‚æœä½ ä½¿ç”¨äº†History æ¨¡å¼ï¼Œè¯·ç¡®ä¿ æ­£ç¡®é…ç½®ä½ çš„æœåŠ¡å™¨ ã€‚å½“ä½¿ç”¨ä¸€ä¸ªé€šé…ç¬¦æ—¶ï¼Œ$route.paramså†…ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªåä¸ºpathMatchå‚æ•°ã€‚å®ƒåŒ…å«äº† URL é€šè¿‡é€šé…ç¬¦*è¢«åŒ¹é…çš„éƒ¨åˆ†ï¼š\n123456// ç»™å‡ºä¸€ä¸ªè·¯ç”± &#123; path: '/user-*' &#125;this.$router.push('/user-admin')this.$route.params.pathMatch // 'admin'// ç»™å‡ºä¸€ä¸ªè·¯ç”± &#123; path: '*' &#125;this.$router.push('/non-existing')this.$route.params.pathMatch // '/non-existing'\né«˜çº§åŒ¹é…æ¨¡å¼vue-routerä½¿ç”¨ path-to-regexp ä½œä¸ºè·¯å¾„åŒ¹é…å¼•æ“ï¼Œæ‰€ä»¥æ”¯æŒå¾ˆå¤šé«˜çº§çš„åŒ¹é…æ¨¡å¼ï¼Œä¾‹å¦‚ï¼šå¯é€‰çš„åŠ¨æ€è·¯å¾„å‚æ•°ã€åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œç”šè‡³æ˜¯è‡ªå®šä¹‰æ­£åˆ™åŒ¹é…ã€‚æŸ¥çœ‹å®ƒçš„ æ–‡æ¡£ å­¦ä¹ é«˜é˜¶çš„è·¯å¾„åŒ¹é…ï¼Œè¿˜æœ‰ è¿™ä¸ªä¾‹å­ å±•ç¤ºvue-routeræ€ä¹ˆä½¿ç”¨è¿™ç±»åŒ¹é…ã€‚\nåŒ¹é…ä¼˜å…ˆçº§æœ‰æ—¶å€™ï¼ŒåŒä¸€ä¸ªè·¯å¾„å¯ä»¥åŒ¹é…å¤šä¸ªè·¯ç”±ï¼Œæ­¤æ—¶ï¼ŒåŒ¹é…çš„ä¼˜å…ˆçº§å°±æŒ‰ç…§è·¯ç”±çš„å®šä¹‰é¡ºåºï¼šè°å…ˆå®šä¹‰çš„ï¼Œè°çš„ä¼˜å…ˆçº§å°±æœ€é«˜ã€‚\nåµŒå¥—è·¯ç”±è¦åœ¨åµŒå¥—çš„å‡ºå£ä¸­æ¸²æŸ“ç»„ä»¶ï¼Œéœ€è¦åœ¨VueRouterçš„å‚æ•°ä¸­ä½¿ç”¨childrené…ç½®ï¼š\n1234567891011121314151617181920const router = new VueRouter(&#123;  routes: [    &#123; path: '/user/:id', component: User,      children: [        &#123;          // å½“ /user/:id/profile åŒ¹é…æˆåŠŸï¼Œ          // UserProfile ä¼šè¢«æ¸²æŸ“åœ¨ User çš„ &lt;router-view&gt; ä¸­          path: 'profile',          component: UserProfile        &#125;,        &#123;          // å½“ /user/:id/posts åŒ¹é…æˆåŠŸ          // UserPosts ä¼šè¢«æ¸²æŸ“åœ¨ User çš„ &lt;router-view&gt; ä¸­          path: 'posts',          component: UserPosts        &#125;      ]    &#125;  ]&#125;)\nè¦æ³¨æ„ï¼Œä»¥ / å¼€å¤´çš„åµŒå¥—è·¯å¾„ä¼šè¢«å½“ä½œæ ¹è·¯å¾„ã€‚ è¿™è®©ä½ å……åˆ†çš„ä½¿ç”¨åµŒå¥—ç»„ä»¶è€Œæ— é¡»è®¾ç½®åµŒå¥—çš„è·¯å¾„ã€‚ä½ ä¼šå‘ç°ï¼Œchildrené…ç½®å°±æ˜¯åƒroutesé…ç½®ä¸€æ ·çš„è·¯ç”±é…ç½®æ•°ç»„ï¼Œæ‰€ä»¥å‘¢ï¼Œä½ å¯ä»¥åµŒå¥—å¤šå±‚è·¯ç”±ã€‚æ­¤æ—¶ï¼ŒåŸºäºä¸Šé¢çš„é…ç½®ï¼Œå½“ä½ è®¿é—®/user/fooæ—¶ï¼ŒUserçš„å‡ºå£æ˜¯ä¸ä¼šæ¸²æŸ“ä»»ä½•ä¸œè¥¿ï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰åŒ¹é…åˆ°åˆé€‚çš„å­è·¯ç”±ã€‚å¦‚æœä½ æƒ³è¦æ¸²æŸ“ç‚¹ä»€ä¹ˆï¼Œå¯ä»¥æä¾›ä¸€ä¸ª ç©ºçš„ å­è·¯ç”±ï¼š\n1234567891011121314const router = new VueRouter(&#123;  routes: [    &#123;      path: '/user/:id', component: User,      children: [        // å½“ /user/:id åŒ¹é…æˆåŠŸï¼Œ        // UserHome ä¼šè¢«æ¸²æŸ“åœ¨ User çš„ &lt;router-view&gt; ä¸­        &#123; path: '', component: UserHome &#125;,        // ...å…¶ä»–å­è·¯ç”±      ]    &#125;  ]&#125;)\nç¼–ç¨‹å¼çš„å¯¼èˆªé™¤äº†ä½¿ç”¨  æ ‡ç­¾æ¥å®šä¹‰å¯¼èˆªè¿æ¥ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å€ŸåŠ© router çš„å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡ç¼–å†™ä»£ç æ¥å®ç°ã€‚å¸¸ç”¨çš„æ–¹æ³•æœ‰ä¸‰ä¸ª\nrouter.push(location, onComplete?, onAbort?)\næƒ³è¦å¯¼èˆªåˆ°ä¸åŒçš„ URLï¼Œåˆ™ä½¿ç”¨router.pushæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œæ‰€ä»¥ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®æ—¶ï¼Œåˆ™å›åˆ°ä¹‹å‰çš„ URLã€‚å½“ä½ ç‚¹å‡»æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨å†…éƒ¨è°ƒç”¨ï¼Œæ‰€ä»¥è¯´ï¼Œç‚¹å‡»ç­‰åŒäºè°ƒç”¨router.push(â€¦)ã€‚è¯¥æ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è·¯å¾„ï¼Œæˆ–è€…ä¸€ä¸ªæè¿°åœ°å€çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š\n1234567891011// å­—ç¬¦ä¸²router.push('home')// å¯¹è±¡router.push(&#123; path: 'home' &#125;)// å‘½åçš„è·¯ç”±router.push(&#123; name: 'user', params: &#123; userId: '123' &#125;&#125;)// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=privaterouter.push(&#123; path: 'register', query: &#123; plan: 'private' &#125;&#125;)\næ³¨æ„ï¼šå¦‚æœæä¾›äº†pathï¼Œparamsä¼šè¢«å¿½ç•¥ï¼Œä¸Šè¿°ä¾‹å­ä¸­çš„queryå¹¶ä¸å±äºè¿™ç§æƒ…å†µã€‚å–è€Œä»£ä¹‹çš„æ˜¯ä¸‹é¢ä¾‹å­çš„åšæ³•ï¼Œä½ éœ€è¦æä¾›è·¯ç”±çš„nameæˆ–æ‰‹å†™å®Œæ•´çš„å¸¦æœ‰å‚æ•°çš„pathï¼š\n12345const userId = '123'router.push(&#123; name: 'user', params: &#123; userId &#125;&#125;) // -&gt; /user/123router.push(&#123; path: `/user/$&#123;userId&#125;` &#125;) // -&gt; /user/123// è¿™é‡Œçš„ params ä¸ç”Ÿæ•ˆrouter.push(&#123; path: '/user', params: &#123; userId &#125;&#125;) // -&gt; /user\nåŒæ ·çš„è§„åˆ™ä¹Ÿé€‚ç”¨äºrouter-linkç»„ä»¶çš„toå±æ€§ã€‚åœ¨ 2.2.0+ï¼Œå¯é€‰çš„åœ¨router.pushæˆ–router.replaceä¸­æä¾›onCompleteå’ŒonAbortå›è°ƒä½œä¸ºç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°ã€‚è¿™äº›å›è°ƒå°†ä¼šåœ¨å¯¼èˆªæˆåŠŸå®Œæˆ (åœ¨æ‰€æœ‰çš„å¼‚æ­¥é’©å­è¢«è§£æä¹‹å) æˆ–ç»ˆæ­¢ (å¯¼èˆªåˆ°ç›¸åŒçš„è·¯ç”±ã€æˆ–åœ¨å½“å‰å¯¼èˆªå®Œæˆä¹‹å‰å¯¼èˆªåˆ°å¦ä¸€ä¸ªä¸åŒçš„è·¯ç”±) çš„æ—¶å€™è¿›è¡Œç›¸åº”çš„è°ƒç”¨ã€‚æ³¨æ„ï¼š å¦‚æœç›®çš„åœ°å’Œå½“å‰è·¯ç”±ç›¸åŒï¼Œåªæœ‰å‚æ•°å‘ç”Ÿäº†æ”¹å˜ (æ¯”å¦‚ä»ä¸€ä¸ªç”¨æˆ·èµ„æ–™åˆ°å¦ä¸€ä¸ª/users/1-&gt;/users/2)ï¼Œä½ éœ€è¦ä½¿ç”¨ beforeRouteUpdate æ¥å“åº”è¿™ä¸ªå˜åŒ– (æ¯”å¦‚æŠ“å–ç”¨æˆ·ä¿¡æ¯)ã€‚\nrouter.replace(location, onComplete?, onAbort?)\nè·Ÿrouter.pushå¾ˆåƒï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯ï¼Œå®ƒä¸ä¼šå‘ history æ·»åŠ æ–°è®°å½•ï¼Œè€Œæ˜¯è·Ÿå®ƒçš„æ–¹æ³•åä¸€æ · â€”â€” æ›¿æ¢æ‰å½“å‰çš„ history è®°å½•ã€‚\nrouter.go(n)\nè¿™ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæ„æ€æ˜¯åœ¨ history è®°å½•ä¸­å‘å‰æˆ–è€…åé€€å¤šå°‘æ­¥ï¼Œç±»ä¼¼window.history.go(n)ã€‚\n123456789101112// åœ¨æµè§ˆå™¨è®°å½•ä¸­å‰è¿›ä¸€æ­¥ï¼Œç­‰åŒäº history.forward()router.go(1)// åé€€ä¸€æ­¥è®°å½•ï¼Œç­‰åŒäº history.back()router.go(-1)// å‰è¿› 3 æ­¥è®°å½•router.go(3)// å¦‚æœ history è®°å½•ä¸å¤Ÿç”¨ï¼Œé‚£å°±é»˜é»˜åœ°å¤±è´¥å‘—router.go(-100)router.go(100)\n ä½ ä¹Ÿè®¸æ³¨æ„åˆ°router.push ã€router.replace å’Œrouter.goè·Ÿ window.history.pushStateã€window.history.replaceStateå’Œwindow.history.go  å¥½åƒï¼Œ å®é™…ä¸Šå®ƒä»¬ç¡®å®æ˜¯æ•ˆä»¿window.historyAPI çš„ã€‚å› æ­¤ï¼Œå¦‚æœä½ å·²ç»ç†Ÿæ‚‰Browser History APIs Browser History APIsï¼Œé‚£ä¹ˆåœ¨ Vue Router ä¸­æ“ä½œ history å°±æ˜¯è¶…çº§ç®€å•çš„ã€‚è¿˜æœ‰å€¼å¾—æåŠçš„ï¼ŒVue Router çš„å¯¼èˆªæ–¹æ³• (pushã€replace ã€go ) åœ¨å„ç±»è·¯ç”±æ¨¡å¼ (history ã€hashå’Œabstract ) ä¸‹è¡¨ç°ä¸€è‡´ã€‚\né‡å®šå‘å’Œåˆ«åé‡å®šå‘ä¹Ÿæ˜¯é€šè¿‡routesé…ç½®æ¥å®Œæˆï¼Œä¸‹é¢ä¾‹å­æ˜¯ä»/aé‡å®šå‘åˆ°/bï¼š\n12345678910const router = new VueRouter(&#123;  routes: [    \t&#123; path: '/a', redirect: '/b' &#125;,\t\t&#123; path: '/a', redirect: &#123; name: 'foo' &#125;&#125;,    \t&#123; path: '/a', redirect: to =&gt; &#123;      // æ–¹æ³•æ¥æ”¶ ç›®æ ‡è·¯ç”± ä½œä¸ºå‚æ•°      // return é‡å®šå‘çš„ å­—ç¬¦ä¸²è·¯å¾„/è·¯å¾„å¯¹è±¡    \t&#125;&#125;  ]&#125;)\næ³¨æ„ï¼Œå¯¼èˆªå®ˆå«å¹¶æ²¡æœ‰åº”ç”¨åœ¨è·³è½¬è·¯ç”±ä¸Šï¼Œè€Œä»…ä»…åº”ç”¨åœ¨å…¶ç›®æ ‡ä¸Šï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸º /a è·¯ç”±æ·»åŠ beforeEach æˆ– beforeLeave å®ˆå«å¹¶ä¸ä¼šæœ‰ä»»ä½•æ•ˆæœã€‚\nè·¯ç”±ç»„ä»¶ä¼ å‚åœ¨ç»„ä»¶ä¸­ä½¿ç”¨$routeä¼šä½¿ä¹‹ä¸å…¶å¯¹åº”è·¯ç”±å½¢æˆé«˜åº¦è€¦åˆï¼Œä»è€Œä½¿ç»„ä»¶åªèƒ½åœ¨æŸäº›ç‰¹å®šçš„ URL ä¸Šä½¿ç”¨ï¼Œé™åˆ¶äº†å…¶çµæ´»æ€§ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ props å°†å…¶æ¥è€¦\nå¦‚æœropsè¢«è®¾ç½®ä¸ºtrue ï¼Œroute.params å°†ä¼šè¢«è®¾ç½®ä¸ºç»„ä»¶å±æ€§ã€‚\n12345678910111213141516const User = &#123;  props: ['id'],  template: '&lt;div&gt;User &#123;&#123; id &#125;&#125;&lt;/div&gt;'&#125;const router = new VueRouter(&#123;  routes: [    &#123; path: '/user/:id', component: User, props: true &#125;,    // å¯¹äºåŒ…å«å‘½åè§†å›¾çš„è·¯ç”±ï¼Œä½ å¿…é¡»åˆ†åˆ«ä¸ºæ¯ä¸ªå‘½åè§†å›¾æ·»åŠ  `props` é€‰é¡¹ï¼š    &#123;      path: '/user/:id',      components: &#123; default: User, sidebar: Sidebar &#125;,      props: &#123; default: true, sidebar: false &#125;    &#125;  ]&#125;)\nHTML 5 History æ¨¡å¼\n","plink":"https://xkeith.space/post/arc-05/"},{"title":"TCP or UDP ?","date":"2019-03-20T07:03:45.000Z","updated":"2019-03-20T07:06:12.246Z","content":"\nTCP / IP ç½‘ç»œæ¨¡å‹è®¡ç®—æœºä¸ç½‘ç»œè®¾å¤‡è¦ç›¸äº’é€šä¿¡ï¼ŒåŒæ–¹å°±å¿…é¡»åŸºäºç›¸åŒçš„æ–¹æ³•ã€‚æ¯”å¦‚ï¼Œå¦‚ä½•æ¢æµ‹åˆ°é€šä¿¡ç›®æ ‡ã€ç”±å“ªä¸€è¾¹å…ˆå‘èµ·é€šä¿¡ã€ä½¿ç”¨å“ªç§è¯­è¨€è¿›è¡Œé€šä¿¡ã€æ€æ ·ç»“æŸé€šä¿¡ç­‰è§„åˆ™éƒ½éœ€è¦äº‹å…ˆç¡®å®šã€‚ä¸åŒçš„ç¡¬ä»¶ã€æ“ä½œç³»ç»Ÿä¹‹é—´çš„é€šä¿¡ï¼Œæ‰€æœ‰çš„è¿™ä¸€åˆ‡éƒ½éœ€è¦ä¸€ç§è§„åˆ™ã€‚è€Œæˆ‘ä»¬å°±æŠŠè¿™ç§è§„åˆ™ç§°ä¸ºåè®®ï¼ˆprotocolï¼‰ã€‚\nTCP/IP æ˜¯äº’è”ç½‘ç›¸å…³çš„å„ç±»åè®®æ—çš„æ€»ç§°ï¼Œæ¯”å¦‚ï¼šTCPï¼ŒUDPï¼ŒIPï¼ŒFTPï¼ŒHTTPï¼ŒICMPï¼ŒSMTP ç­‰éƒ½å±äº TCP/IP æ—å†…çš„åè®®ã€‚\nTCP/IPæ¨¡å‹æ˜¯äº’è”ç½‘çš„åŸºç¡€ï¼Œå®ƒæ˜¯ä¸€ç³»åˆ—ç½‘ç»œåè®®çš„æ€»ç§°ã€‚è¿™äº›åè®®å¯ä»¥åˆ’åˆ†ä¸ºå››å±‚ï¼Œåˆ†åˆ«ä¸ºé“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚å’Œåº”ç”¨å±‚ã€‚\n\né“¾è·¯å±‚ï¼šè´Ÿè´£å°è£…å’Œè§£å°è£…IPæŠ¥æ–‡ï¼Œå‘é€å’Œæ¥å—ARP/RARPæŠ¥æ–‡ç­‰ã€‚\nç½‘ç»œå±‚ï¼šè´Ÿè´£è·¯ç”±ä»¥åŠæŠŠåˆ†ç»„æŠ¥æ–‡å‘é€ç»™ç›®æ ‡ç½‘ç»œæˆ–ä¸»æœºã€‚\nä¼ è¾“å±‚ï¼šè´Ÿè´£å¯¹æŠ¥æ–‡è¿›è¡Œåˆ†ç»„å’Œé‡ç»„ï¼Œå¹¶ä»¥TCPæˆ–UDPåè®®æ ¼å¼å°è£…æŠ¥æ–‡ã€‚\nåº”ç”¨å±‚ï¼šè´Ÿè´£å‘ç”¨æˆ·æä¾›åº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚HTTPã€FTPã€Telnetã€DNSã€SMTPç­‰ã€‚\n\nåœ¨ç½‘ç»œä½“ç³»ç»“æ„ä¸­ç½‘ç»œé€šä¿¡çš„å»ºç«‹å¿…é¡»æ˜¯åœ¨é€šä¿¡åŒæ–¹çš„å¯¹ç­‰å±‚è¿›è¡Œï¼Œä¸èƒ½äº¤é”™ã€‚ åœ¨æ•´ä¸ªæ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œæ•°æ®åœ¨å‘é€ç«¯æ—¶ç»è¿‡å„å±‚æ—¶éƒ½è¦é™„åŠ ä¸Šç›¸åº”å±‚çš„åè®®å¤´å’Œåè®®å°¾ï¼ˆä»…æ•°æ®é“¾è·¯å±‚éœ€è¦å°è£…åè®®å°¾ï¼‰éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¦å¯¹æ•°æ®è¿›è¡Œåè®®å°è£…ï¼Œä»¥æ ‡è¯†å¯¹åº”å±‚æ‰€ç”¨çš„é€šä¿¡åè®®ã€‚TCP å’Œ UDP å°±æ˜¯ TCP/IP ä¸­ä¸¤ä¸ªå…·æœ‰ä»£è¡¨æ€§çš„ä¼ è¾“å±‚åè®®ã€‚\nTCPTransmission Control Protocol\nå½“ä¸€å°è®¡ç®—æœºæƒ³è¦ä¸å¦ä¸€å°è®¡ç®—æœºé€šè®¯æ—¶ï¼Œä¸¤å°è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡éœ€è¦ç•…é€šä¸”å¯é ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯æ­£ç¡®æ”¶å‘æ•°æ®ã€‚ä¾‹å¦‚ï¼Œå½“ä½ æƒ³æŸ¥çœ‹ç½‘é¡µæˆ–æŸ¥çœ‹ç”µå­é‚®ä»¶æ—¶ï¼Œå¸Œæœ›å®Œæ•´ä¸”æŒ‰é¡ºåºæŸ¥çœ‹ç½‘é¡µï¼Œè€Œä¸ä¸¢å¤±ä»»ä½•å†…å®¹ã€‚å½“ä½ ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œå¸Œæœ›è·å¾—çš„æ˜¯å®Œæ•´çš„æ–‡ä»¶ï¼Œè€Œä¸ä»…ä»…æ˜¯æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºå¦‚æœæ•°æ®ä¸¢å¤±æˆ–ä¹±åºï¼Œéƒ½ä¸æ˜¯ä½ å¸Œæœ›å¾—åˆ°çš„ç»“æœï¼Œäºæ˜¯å°±ç”¨åˆ°äº†TCPã€‚TCPåè®®å…¨ç§°æ˜¯ä¼ è¾“æ§åˆ¶åè®®æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ï¼Œç”± IETF çš„RFC 793å®šä¹‰ã€‚TCP æ˜¯é¢å‘è¿æ¥çš„ã€å¯é çš„æµåè®®ã€‚æµå°±æ˜¯æŒ‡ä¸é—´æ–­çš„æ•°æ®ç»“æ„ï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆæ’æ°´ç®¡ä¸­çš„æ°´æµã€‚\nè¿æ¥è¿‡ç¨‹ä¸‰æ¬¡æ¡æ‰‹ğŸ¤\n\nç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚è¯¥æŠ¥æ–‡æ®µä¸­åŒ…å«è‡ªèº«çš„æ•°æ®é€šè®¯åˆå§‹åºå·ã€‚è¯·æ±‚å‘é€åï¼Œå®¢æˆ·ç«¯ä¾¿è¿›å…¥ SYN-SENT çŠ¶æ€ã€‚\nç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡ç«¯æ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå¦‚æœåŒæ„è¿æ¥ï¼Œåˆ™ä¼šå‘é€ä¸€ä¸ªåº”ç­”ï¼Œè¯¥åº”ç­”ä¸­ä¹Ÿä¼šåŒ…å«è‡ªèº«çš„æ•°æ®é€šè®¯åˆå§‹åºå·ï¼Œå‘é€å®Œæˆåä¾¿è¿›å…¥ SYN-RECEIVED çŠ¶æ€ã€‚\nç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå½“å®¢æˆ·ç«¯æ”¶åˆ°è¿æ¥åŒæ„çš„åº”ç­”åï¼Œè¿˜è¦å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡ã€‚å®¢æˆ·ç«¯å‘å®Œè¿™ä¸ªæŠ¥æ–‡æ®µåä¾¿è¿›å…¥ ESTABLISHED çŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¿™ä¸ªåº”ç­”åä¹Ÿè¿›å…¥ ESTABLISHED çŠ¶æ€ï¼Œæ­¤æ—¶è¿æ¥å»ºç«‹æˆåŠŸã€‚è¿™é‡Œå¯èƒ½å¤§å®¶ä¼šæœ‰ä¸ªç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆ TCP å»ºç«‹è¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡ï¼Ÿè¿™æ˜¯å› ä¸ºç¬¬ä¸‰æ¬¡æ¡æ‰‹ä¸ºäº†é˜²æ­¢å‡ºç°å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µè¢«æœåŠ¡ç«¯æ¥æ”¶çš„æƒ…å†µï¼Œä»è€Œäº§ç”Ÿé”™è¯¯ã€‚\n\nå››æ¬¡æŒ¥æ‰‹ğŸ™‹â€â™‚ï¸\nTCP æ˜¯å…¨åŒå·¥çš„ï¼Œåœ¨æ–­å¼€è¿æ¥æ—¶ä¸¤ç«¯éƒ½éœ€è¦å‘é€ FIN å’Œ ACKã€‚\n\nç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šè‹¥å®¢æˆ·ç«¯ A è®¤ä¸ºæ•°æ®å‘é€å®Œæˆï¼Œåˆ™å®ƒéœ€è¦å‘æœåŠ¡ç«¯ B å‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚\nç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šB æ”¶åˆ°è¿æ¥é‡Šæ”¾è¯·æ±‚åï¼Œä¼šå‘Šè¯‰åº”ç”¨å±‚è¦é‡Šæ”¾ TCP é“¾æ¥ã€‚ç„¶åä¼šå‘é€ ACK åŒ…ï¼Œå¹¶è¿›å…¥ CLOSE_WAIT çŠ¶æ€ï¼Œæ­¤æ—¶è¡¨æ˜ A åˆ° B çš„è¿æ¥å·²ç»é‡Šæ”¾ï¼Œä¸å†æ¥æ”¶ A å‘çš„æ•°æ®äº†ã€‚ä½†æ˜¯å› ä¸º TCP è¿æ¥æ˜¯åŒå‘çš„ï¼Œæ‰€ä»¥ B ä»æ—§å¯ä»¥å‘é€æ•°æ®ç»™ Aã€‚\nç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šB å¦‚æœæ­¤æ—¶è¿˜æœ‰æ²¡å‘å®Œçš„æ•°æ®ä¼šç»§ç»­å‘é€ï¼Œå®Œæ¯•åä¼šå‘ A å‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ï¼Œç„¶å B ä¾¿è¿›å…¥ LAST-ACK çŠ¶æ€ã€‚\nç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šA æ”¶åˆ°é‡Šæ”¾è¯·æ±‚åï¼Œå‘ B å‘é€ç¡®è®¤åº”ç­”ï¼Œæ­¤æ—¶ A è¿›å…¥ TIME-WAIT çŠ¶æ€ã€‚è¯¥çŠ¶æ€ä¼šæŒç»­ 2MSLï¼ˆæœ€å¤§æ®µç”Ÿå­˜æœŸï¼ŒæŒ‡æŠ¥æ–‡æ®µåœ¨ç½‘ç»œä¸­ç”Ÿå­˜çš„æ—¶é—´ï¼Œè¶…æ—¶ä¼šè¢«æŠ›å¼ƒï¼‰ æ—¶é—´ï¼Œè‹¥è¯¥æ—¶é—´æ®µå†…æ²¡æœ‰ B çš„é‡å‘è¯·æ±‚çš„è¯ï¼Œå°±è¿›å…¥ CLOSED çŠ¶æ€ã€‚å½“ B æ”¶åˆ°ç¡®è®¤åº”ç­”åï¼Œä¹Ÿä¾¿è¿›å…¥ CLOSED çŠ¶æ€ã€‚\n\nç‰¹ç‚¹\né¢å‘è¿æ¥ï¼šé¢å‘è¿æ¥ï¼Œæ˜¯æŒ‡å‘é€æ•°æ®ä¹‹å‰å¿…é¡»åœ¨ä¸¤ç«¯å»ºç«‹è¿æ¥ã€‚å»ºç«‹è¿æ¥çš„æ–¹æ³•æ˜¯â€œä¸‰æ¬¡æ¡æ‰‹â€ï¼Œè¿™æ ·èƒ½å»ºç«‹å¯é çš„è¿æ¥ã€‚å»ºç«‹è¿æ¥ï¼Œæ˜¯ä¸ºæ•°æ®çš„å¯é ä¼ è¾“æ‰“ä¸‹äº†åŸºç¡€ã€‚\nä»…æ”¯æŒå•æ’­ä¼ è¾“ï¼šæ¯æ¡TCPä¼ è¾“è¿æ¥åªèƒ½æœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼Œåªèƒ½è¿›è¡Œç‚¹å¯¹ç‚¹çš„æ•°æ®ä¼ è¾“ï¼Œä¸æ”¯æŒå¤šæ’­å’Œå¹¿æ’­ä¼ è¾“æ–¹å¼ã€‚\né¢å‘å­—èŠ‚æµï¼šTCPä¸åƒUDPä¸€æ ·é‚£æ ·ä¸€ä¸ªä¸ªæŠ¥æ–‡ç‹¬ç«‹åœ°ä¼ è¾“ï¼Œè€Œæ˜¯åœ¨ä¸ä¿ç•™æŠ¥æ–‡è¾¹ç•Œçš„æƒ…å†µä¸‹ä»¥å­—èŠ‚æµæ–¹å¼è¿›è¡Œä¼ è¾“ã€‚\nå¯é ä¼ è¾“ï¼šå¯¹äºå¯é ä¼ è¾“ï¼Œåˆ¤æ–­ä¸¢åŒ…ï¼Œè¯¯ç é çš„æ˜¯TCPçš„æ®µç¼–å·ä»¥åŠç¡®è®¤å·ã€‚TCPä¸ºäº†ä¿è¯æŠ¥æ–‡ä¼ è¾“çš„å¯é ï¼Œå°±ç»™æ¯ä¸ªåŒ…ä¸€ä¸ªåºå·ï¼ŒåŒæ—¶åºå·ä¹Ÿä¿è¯äº†ä¼ é€åˆ°æ¥æ”¶ç«¯å®ä½“çš„åŒ…çš„æŒ‰åºæ¥æ”¶ã€‚ç„¶åæ¥æ”¶ç«¯å®ä½“å¯¹å·²æˆåŠŸæ”¶åˆ°çš„å­—èŠ‚å‘å›ä¸€ä¸ªç›¸åº”çš„ç¡®è®¤(ACK)ï¼›å¦‚æœå‘é€ç«¯å®ä½“åœ¨åˆç†çš„å¾€è¿”æ—¶å»¶(RTT)å†…æœªæ”¶åˆ°ç¡®è®¤ï¼Œé‚£ä¹ˆå¯¹åº”çš„æ•°æ®ï¼ˆå‡è®¾ä¸¢å¤±äº†ï¼‰å°†ä¼šè¢«é‡ä¼ ã€‚\næä¾›æ‹¥å¡æ§åˆ¶ï¼šå½“ç½‘ç»œå‡ºç°æ‹¥å¡çš„æ—¶å€™ï¼ŒTCPèƒ½å¤Ÿå‡å°å‘ç½‘ç»œæ³¨å…¥æ•°æ®çš„é€Ÿç‡å’Œæ•°é‡ï¼Œç¼“è§£æ‹¥å¡ã€‚\nTCPæä¾›å…¨åŒå·¥é€šä¿¡ï¼šTCPå…è®¸é€šä¿¡åŒæ–¹çš„åº”ç”¨ç¨‹åºåœ¨ä»»ä½•æ—¶å€™éƒ½èƒ½å‘é€æ•°æ®ï¼Œå› ä¸ºTCPè¿æ¥çš„ä¸¤ç«¯éƒ½è®¾æœ‰ç¼“å­˜ï¼Œç”¨æ¥ä¸´æ—¶å­˜æ”¾åŒå‘é€šä¿¡çš„æ•°æ®ã€‚å½“ç„¶ï¼ŒTCPå¯ä»¥ç«‹å³å‘é€ä¸€ä¸ªæ•°æ®æ®µï¼Œä¹Ÿå¯ä»¥ç¼“å­˜ä¸€æ®µæ—¶é—´ä»¥ä¾¿ä¸€æ¬¡å‘é€æ›´å¤šçš„æ•°æ®æ®µï¼ˆæœ€å¤§çš„æ•°æ®æ®µå¤§å°å–å†³äºMSSï¼‰ã€‚\n\nUDPUser Datagram Protocolç”¨æˆ·æ•°æ®æŠ¥åè®®\nç‰¹ç‚¹\né¢å‘æ— è¿æ¥\n\nä¸éœ€è¦åƒ TCP ä¸€æ ·é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œæƒ³å‘å°±å‘ï¼Œè€Œä¸”ä¹Ÿä¸å¯¹æ•°æ®æŠ¥æ–‡è¿›è¡Œä»»ä½•å¤„ç†ã€‚\nå…·ä½“æ¥è¯´å°±æ˜¯ï¼š\n\nåœ¨å‘é€ç«¯ï¼Œåº”ç”¨å±‚å°†æ•°æ®ä¼ é€’ç»™ä¼ è¾“å±‚çš„ UDP åè®®ï¼ŒUDP åªä¼šç»™æ•°æ®å¢åŠ ä¸€ä¸ª UDP å¤´æ ‡è¯†ä¸‹æ˜¯ UDP åè®®ï¼Œç„¶åå°±ä¼ é€’ç»™ç½‘ç»œå±‚äº†ï¼›\nåœ¨æ¥æ”¶ç«¯ï¼Œç½‘ç»œå±‚å°†æ•°æ®ä¼ é€’ç»™ä¼ è¾“å±‚ï¼ŒUDP åªå»é™¤ IP æŠ¥æ–‡å¤´å°±ä¼ é€’ç»™åº”ç”¨å±‚ï¼Œä¸ä¼šä»»ä½•æ‹¼æ¥æ“ä½œã€‚\n\n\næœ‰å•æ’­ï¼Œå¤šæ’­ï¼Œå¹¿æ’­çš„åŠŸèƒ½\n\nUDP ä¸æ­¢æ”¯æŒä¸€å¯¹ä¸€çš„ä¼ è¾“ï¼ŒåŒæ ·æ”¯æŒä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤šï¼Œå¤šå¯¹ä¸€ï¼Œä¹Ÿå°±æ˜¯å•æ’­ï¼Œå¹¿æ’­ï¼Œå¤šæ’­ã€‚\n\nUDP æ˜¯é¢å‘æŠ¥æ–‡çš„\n\nUDP ä»…å¯¹æŠ¥æ–‡æ·»åŠ é¦–éƒ¨åå°±å‘ä¸‹äº¤ä»˜ç»™ IP å±‚ï¼ŒUDP å¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œæ—¢ä¸åˆå¹¶ï¼Œä¹Ÿä¸æ‹†åˆ†ï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æŠ¥æ–‡çš„è¾¹ç•Œï¼Œå› æ­¤ï¼Œåº”ç”¨ç¨‹åºå¿…é¡»é€‰æ‹©åˆé€‚å¤§å°çš„æŠ¥æ–‡ã€‚\n\nä¸å¯é æ€§\n\né¦–å…ˆä¸å¯é æ€§å°±ä½“ç°åœ¨æ— è¿æ¥ä¸Šï¼Œæƒ³å‘å°±å‘ï¼Œæ”¶åˆ°ä»€ä¹ˆå°±ä¼ é€’ä»€ä¹ˆï¼Œä¸å¯¹æ•°æ®è¿›è¡Œå¤‡ä»½ï¼Œè€Œä¸”ä¹Ÿä¸åœ¨ä¹å¯¹æ–¹æ˜¯å¦æ­£ç¡®çš„æ”¶åˆ°äº†æ•°æ®ã€‚å…¶æ¬¡ï¼Œç½‘ç»œç¯å¢ƒæ—¶å¥½æ—¶åï¼Œå› ä¸ºUDP æ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œä¸€ç›´ä¼šä»¥æ’å®šçš„é€Ÿåº¦å‘é€æ•°æ®ã€‚å³ä½¿ç½‘ç»œç¯å¢ƒä¸å¥½ï¼Œä¹Ÿä¸ä¼šå¯¹å‘é€é€Ÿç‡è¿›è¡Œè°ƒæ•´ã€‚è¿™æ ·å®ç°çš„å¼Šç«¯å°±æ˜¯åœ¨ç½‘ç»œç¯å¢ƒä¸å¥½çš„æƒ…å†µä¸‹ä¼šå¯¼è‡´ä¸¢åŒ…ï¼Œä½†æ˜¯ä¼˜ç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œåœ¨æŸäº›å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ï¼ˆç”µè¯ä¼šè®®ï¼Œè§†é¢‘ç›´æ’­ï¼‰æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ UDP è€Œä¸æ˜¯ TCPã€‚\n\nå¤´éƒ¨å¼€é”€å°ï¼Œä¼ è¾“æ•°æ®æŠ¥æ–‡æ—¶å¾ˆé«˜æ•ˆ\n\n\nUDP å¤´éƒ¨åŒ…å«äº†ä»¥ä¸‹å‡ ä¸ªæ•°æ®ï¼š\n\nä¸¤ä¸ªåå…­ä½çš„ç«¯å£å·ï¼Œåˆ†åˆ«ä¸ºæºç«¯å£ï¼ˆå¯é€‰å­—æ®µï¼‰å’Œç›®æ ‡ç«¯å£ï¼›\næ•´ä¸ªæ•°æ®æŠ¥æ–‡çš„é•¿åº¦ï¼›\næ•´ä¸ªæ•°æ®æŠ¥æ–‡çš„æ£€éªŒå’Œï¼ˆIPv4 å¯é€‰ å­—æ®µï¼‰ï¼Œè¯¥å­—æ®µç”¨äºå‘ç°å¤´éƒ¨ä¿¡æ¯å’Œæ•°æ®ä¸­çš„é”™è¯¯ã€‚å› æ­¤ UDP çš„å¤´éƒ¨å¼€é”€å°ï¼Œåªæœ‰å…«å­—èŠ‚ï¼Œç›¸æ¯” TCP çš„è‡³å°‘äºŒåå­—èŠ‚è¦å°‘å¾—å¤šï¼Œåœ¨ä¼ è¾“æ•°æ®æŠ¥æ–‡æ—¶æ˜¯å¾ˆé«˜æ•ˆçš„ã€‚\n\nå¯¹æ¯”\n\nTCPå‘ä¸Šå±‚æä¾›é¢å‘è¿æ¥çš„å¯é æœåŠ¡ ï¼ŒUDPå‘ä¸Šå±‚æä¾›æ— è¿æ¥ä¸å¯é æœåŠ¡ã€‚\nè™½ç„¶ UDP å¹¶æ²¡æœ‰ TCP ä¼ è¾“æ¥çš„å‡†ç¡®ï¼Œä½†æ˜¯ä¹Ÿèƒ½åœ¨å¾ˆå¤šå®æ—¶æ€§è¦æ±‚é«˜çš„åœ°æ–¹æœ‰æ‰€ä½œä¸ºã€‚\nå¯¹æ•°æ®å‡†ç¡®æ€§è¦æ±‚é«˜ï¼Œé€Ÿåº¦å¯ä»¥ç›¸å¯¹è¾ƒæ…¢çš„ï¼Œå¯ä»¥é€‰ç”¨TCPã€‚\n\nReferenceTCPå’ŒUDPæ¯”è¾ƒ -  æµªé‡Œè¡ŒèˆŸçš„åšå®¢ - CSDNåšå®¢\n","plink":"https://xkeith.space/post/arc-04/"},{"title":"å¦‚ä½•é€Ÿæˆå‰ç«¯ä¸‰ä»¶å¥— ï¼ˆCSSï¼‰","date":"2019-03-19T15:08:33.000Z","updated":"2019-03-24T02:26:04.933Z","content":"\nå¸¸ç”¨å±æ€§\nå±‚å æ¬¡åºä¸€èˆ¬è€Œè¨€ï¼Œæ‰€æœ‰çš„æ ·å¼ä¼šæ ¹æ®ä¸‹é¢çš„è§„åˆ™å±‚å äºä¸€ä¸ªæ–°çš„è™šæ‹Ÿæ ·å¼è¡¨ä¸­ï¼Œå…¶ä¸­æ•°å­— 4 æ‹¥æœ‰æœ€é«˜çš„ä¼˜å…ˆæƒã€‚\n\næµè§ˆå™¨ç¼ºçœè®¾ç½®\nå¤–éƒ¨æ ·å¼è¡¨\nå†…éƒ¨æ ·å¼è¡¨ï¼ˆä½äº  æ ‡ç­¾å†…éƒ¨ï¼‰\nå†…è”æ ·å¼ï¼ˆåœ¨ HTML å…ƒç´ å†…éƒ¨ï¼‰\n\nå› æ­¤ï¼Œå†…è”æ ·å¼ï¼ˆåœ¨ HTML å…ƒç´ å†…éƒ¨ï¼‰æ‹¥æœ‰æœ€é«˜çš„ä¼˜å…ˆæƒï¼Œè¿™æ„å‘³ç€å®ƒå°†ä¼˜å…ˆäºä»¥ä¸‹çš„æ ·å¼å£°æ˜ï¼š æ ‡ç­¾ä¸­çš„æ ·å¼å£°æ˜ï¼Œå¤–éƒ¨æ ·å¼è¡¨ä¸­çš„æ ·å¼å£°æ˜ï¼Œæˆ–è€…æµè§ˆå™¨ä¸­çš„æ ·å¼å£°æ˜ï¼ˆç¼ºçœå€¼ï¼‰ã€‚\nç›’æ¨¡å‹every element in web design is a rectangular box\nç›’æ¨¡å‹(box model)æ˜¯CSSä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒæ˜¯å…ƒç´ å¤§å°çš„å‘ˆç°æ–¹å¼ã€‚\n\nCSS3ä¸­æ–°å¢äº†ä¸€ç§ç›’æ¨¡å‹è®¡ç®—æ–¹å¼ï¼šbox-sizingç†Ÿæ‚‰ã€‚ç›’æ¨¡å‹é»˜è®¤çš„å€¼æ˜¯content-box, æ–°å¢çš„å€¼æ˜¯padding-boxå’Œborder-boxï¼Œå‡ ç§ç›’æ¨¡å‹è®¡ç®—å…ƒç´ å®½é«˜çš„åŒºåˆ«å¦‚ä¸‹ï¼š\ncontent-boxï¼ˆé»˜è®¤ï¼‰\nå¸ƒå±€æ‰€å å®½åº¦Widthï¼šWidth = width + padding-left + padding-right + border-left + border-rightå¸ƒå±€æ‰€å é«˜åº¦Height:Height = height + padding-top + padding-bottom + border-top + border-bottom\npadding-box\nå¸ƒå±€æ‰€å å®½åº¦Widthï¼šWidth = width(åŒ…å«padding-left + padding-right) + border-top + border-bottomå¸ƒå±€æ‰€å é«˜åº¦Height:Height = height(åŒ…å«padding-top + padding-bottom) + border-top + border-bottom\nborder-box\nå¸ƒå±€æ‰€å å®½åº¦Widthï¼šWidth = width(åŒ…å«padding-left + padding-right + border-left + border-right)å¸ƒå±€æ‰€å é«˜åº¦Height:Height = height(åŒ…å«padding-top + padding-bottom + border-top + border-bottom)\nmarginå åŠ \nå¤–è¾¹è·å åŠ æ˜¯ä¸€ä¸ªç›¸å½“ç®€å•çš„æ¦‚å¿µã€‚ ä½†æ˜¯ï¼Œåœ¨å®è·µä¸­å¯¹ç½‘é¡µè¿›è¡Œå¸ƒå±€æ—¶ï¼Œ å®ƒä¼šé€ æˆè®¸å¤šæ··æ·†ã€‚ ç®€å•çš„è¯´ï¼Œ å½“ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªå‚ç›´è¾¹è·ç›¸é‡æ—¶ï¼Œ å®ƒä»¬å°†å½¢æˆä¸€ä¸ªå¤–è¾¹è·ã€‚è¿™ä¸ªå¤–è¾¹è·çš„é«˜åº¦ç­‰äºä¸¤ä¸ªå‘ç”Ÿå åŠ çš„å¤–è¾¹è·çš„é«˜åº¦ä¸­çš„è¾ƒå¤§è€…ã€‚ä½†æ˜¯æ³¨æ„åªæœ‰æ™®é€šæ–‡æ¡£æµä¸­å—æ¡†çš„å‚ç›´å¤–è¾¹è·æ‰ä¼šå‘ç”Ÿå¤–è¾¹è·å åŠ ã€‚ è¡Œå†…æ¡†ã€ æµ®åŠ¨æ¡†æˆ–ç»å¯¹å®šä½æ¡†ä¹‹é—´çš„å¤–è¾¹è·ä¸ä¼šå åŠ ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œ å‚ç›´å¤–è¾¹è·å åŠ æœ‰ä¸‰ç§æƒ…å†µï¼š\n\nå…ƒç´ è‡ªèº«å åŠ  å½“å…ƒç´ æ²¡æœ‰å†…å®¹ï¼ˆå³ç©ºå…ƒç´ ï¼‰ã€å†…è¾¹è·ã€è¾¹æ¡†æ—¶ï¼Œ å®ƒçš„ä¸Šä¸‹è¾¹è·å°±ç›¸é‡äº†ï¼Œ å³ä¼šäº§ç”Ÿå åŠ ï¼ˆå‚ç›´æ–¹å‘ï¼‰ã€‚ å½“ä¸ºå…ƒç´ æ·»åŠ å†…å®¹ã€ å†…è¾¹è·ã€ è¾¹æ¡†ä»»ä½•ä¸€é¡¹ï¼Œ å°±ä¼šå–æ¶ˆå åŠ ã€‚\nç›¸é‚»å…ƒç´ å åŠ  ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ï¼Œ å¦‚æœå®ƒä»¬çš„ä¸Šä¸‹è¾¹è·ç›¸é‡ï¼Œå³ä¼šäº§ç”Ÿå åŠ ã€‚\nåŒ…å«ï¼ˆçˆ¶å­ï¼‰å…ƒç´ å åŠ  åŒ…å«å…ƒç´ çš„å¤–è¾¹è·éš”ç€ çˆ¶å…ƒç´ çš„å†…è¾¹è·å’Œè¾¹æ¡†ï¼Œ å½“è¿™ä¸¤é¡¹éƒ½ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œ çˆ¶å­å…ƒç´ å‚ç›´å¤–è¾¹è·ç›¸é‚»ï¼Œ äº§ç”Ÿå åŠ ã€‚ æ·»åŠ ä»»ä½•ä¸€é¡¹å³ä¼šå–æ¶ˆå åŠ ã€‚\n\nCSS æ™®é€šæµï¼ˆæ–‡æ¡£æµï¼‰ä»€ä¹ˆæ˜¯æ™®é€šæµï¼Ÿç®€å•è¯´å°±æ˜¯å…ƒç´ æŒ‰ç…§å…¶åœ¨ HTML ä¸­çš„ä½ç½®é¡ºåºå†³å®šæ’å¸ƒçš„è¿‡ç¨‹ã€‚å¹¶ä¸”è¿™ç§è¿‡ç¨‹éµå¾ªæ ‡å‡†çš„æè¿°ã€‚\nä¸€èˆ¬ä½¿ç”¨marginæ˜¯ç”¨æ¥éš”å¼€å…ƒç´ ä¸å…ƒç´ çš„é—´è·ï¼›paddingæ˜¯ç”¨æ¥éš”å¼€å…ƒç´ ä¸å†…å®¹çš„é—´éš”ã€‚marginç”¨äºå¸ƒå±€åˆ†å¼€å…ƒç´ ä½¿å…ƒç´ ä¸å…ƒç´ äº’ä¸ç›¸å¹²ï¼›paddingç”¨äºå…ƒç´ ä¸å†…å®¹ä¹‹é—´çš„é—´éš”ï¼Œè®©å†…å®¹ï¼ˆæ–‡å­—ï¼‰ä¸ï¼ˆåŒ…è£¹ï¼‰å…ƒç´ ä¹‹é—´æœ‰ä¸€æ®µâ€œè·ç¦»â€ã€‚åªè¦ä¸æ˜¯floatå’Œç»å¯¹å®šä½æ–¹å¼å¸ƒå±€çš„ï¼Œéƒ½åœ¨æ™®é€šæµé‡Œé¢ã€‚\nCSS å®šä½æ–¹å¼display å±æ€§æ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰é»˜è®¤çš„displayå±æ€§ï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯ block,inline å’Œ inline-blockï¼Œä¸å¸¸ç”¨çš„æ˜¯ table-cellã€‚æ ¹æ® display å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…ƒç´ åˆ†ä¸ºå—çº§å…ƒç´ (block)å’Œå†…è”çº§å…ƒç´ (inline)ã€‚å®ƒä»¬æœ€å¤§åŒºåˆ«æ˜¯:blockå…ƒç´ å¯ä»¥è®¾ç½®å®½åº¦ï¼Œç‹¬å ä¸€è¡Œã€‚inlineå…ƒç´ å®½åº¦ç”±å†…å®¹å†³å®šï¼Œä¸å…¶ä»–å…ƒç´ å¹¶åˆ—åœ¨ä¸€è¡Œã€‚å¸¸è§çš„blockå±æ€§å…ƒç´ æœ‰ï¼šdiv, h1-h6, ul, li, ol, dl, dd, dtã€‚å¸¸è§çš„inlineå±æ€§å…ƒç´ æœ‰:span, a, emã€‚\nblock\nå®½é«˜å¯ä»¥è‡ªè¡Œè®¾ç½®ï¼Œé»˜è®¤å®½åº¦ç”±çˆ¶å®¹å™¨å†³å®šï¼Œé»˜è®¤é«˜åº¦ç”±å†…å®¹å†³å®šï¼Œè‡ªå·±ç‹¬å ä¸€è¡Œã€‚\ninline\nå®½åº¦å’Œé«˜åº¦éƒ½ç”±å†…å®¹å†³å®šï¼Œä¸å…¶ä»–å…ƒç´ å…±å ä¸€è¡Œ\ninline-block\nå®½åº¦å¯ä»¥è‡ªè¡Œè®¾ç½®ï¼Œç±»ä¼¼blockï¼Œä½†æ˜¯ä¸å…¶ä»–å…ƒç´ å…±å ä¸€è¡Œï¼Œç±»ä¼¼inlineã€‚é•¿ç”¨äºè®¾ç½®å‚ç›´å±…ä¸­ã€‚\ntable-cell\næ­¤å±æ€§æŒ‡è®©æ ‡ç­¾å…ƒç´ ä»¥è¡¨æ ¼å•å…ƒæ ¼çš„å½¢å¼å‘ˆç°ï¼Œå•å…ƒæ ¼æœ‰ä¸€äº›æ¯”è¾ƒç‰¹æ®Šçš„å±æ€§ï¼Œå¯ä»¥è®¾ç½®å…ƒç´ çš„å‚ç›´å±…ä¸­ç­‰ã€‚\nposition å±æ€§å…ƒç´ åœ¨é¡µé¢ä¸­çš„å¸ƒå±€éµå®ˆä¸€å¥—æ–‡æ¡£æµçš„æ–¹å¼ï¼Œé»˜è®¤çš„å®šä½å±æ€§å€¼ä¸ºstaticã€‚å®ƒå…¶å®æ˜¯æœªè¢«è®¾ç½®å®šä½çš„ã€‚å…ƒç´ å¦‚æœè¢«å®šä½äº†ï¼Œé‚£ä¹ˆå®ƒçš„top,left,bottom,rightå€¼å°±ä¼šç”Ÿæ•ˆï¼Œèƒ½è®¾ç½®å®šä½çš„å±æ€§æ˜¯relative,absoluteå’Œfixedã€‚éœ€è¦æ³¨æ„çš„å¦ä¸€ç‚¹æ˜¯è¢«å®šä½çš„å…ƒç´ å±‚æ¬¡(z-index)ä¼šå¾—åˆ°æé«˜ã€‚\nrelativeï¼ˆç›¸å¯¹å®šä½ï¼‰\nè®¾ç½®äº†ç›¸å¯¹å®šä½ä¹‹åï¼Œé€šè¿‡ä¿®æ”¹top,left,bottom,rightå€¼ï¼Œå…ƒç´ ä¼šåœ¨è‡ªèº«æ–‡æ¡£æµæ‰€åœ¨ä½ç½®ä¸Šè¢«ç§»åŠ¨ï¼Œå…¶ä»–çš„å…ƒç´ åˆ™ä¸ä¼šè°ƒæ•´ä½ç½®æ¥å¼¥è¡¥å®ƒåç¦»åå‰©ä¸‹çš„ç©ºéš™ã€‚\nabsoluteï¼ˆç»å¯¹å®šä½ï¼‰\nè®¾ç½®äº†ç»å¯¹å®šä½ä¹‹åï¼Œå…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œå…¶ä»–çš„å…ƒç´ ä¼šè°ƒæ•´ä½ç½®æ¥å¼¥è¡¥å®ƒåç¦»åå‰©ä¸‹çš„ç©ºéš™ã€‚å…ƒç´ åç§»æ˜¯ç›¸å¯¹äºç¦»å®ƒæœ€è¿‘çš„è®¾ç½®äº†å®šä½å±æ€§ï¼ˆpositionå€¼ä¸ä¸ºstaticï¼‰çš„å…ƒç´ ã€‚ä¸”å¦‚æœå…ƒç´ ä¸ºå—çº§å…ƒç´ ï¼ˆdisplayå±æ€§å€¼ä¸ºblock)ï¼Œé‚£ä¹ˆå®ƒçš„å®½åº¦ä¹Ÿä¼šç”±å†…å®¹æ’‘å¼€ã€‚å› ä¸ºï¼šé»˜è®¤æ–‡æ¡£æµä¸­å—çº§å…ƒç´ å¦‚æœæ²¡æœ‰è®¾ç½®å®½åº¦å±æ€§ï¼Œä¼šè‡ªåŠ¨å¡«æ»¡æ•´è¡Œã€‚\nfixed(å›ºå®šå®šä½)\nè®¾ç½®äº†å›ºå®šå®šä½ä¹‹åï¼Œå…ƒç´ ç›¸å¯¹çš„åç§»çš„å‚è€ƒæ˜¯å¯è§†çª—å£ï¼Œå³ä½¿é¡µé¢æ»šåŠ¨ï¼Œå…ƒç´ ä»ç„¶ä¼šåœ¨å›ºå®šä½ç½®ã€‚\nCSS ç›¸å¯¹|ç»å¯¹(relative/absolute)å®šä½ç³»åˆ—\nCSS æµ®åŠ¨ç›¸å…³è¿™ä¹Ÿæ˜¯CSSå®šä½æœºåˆ¶çš„ä¸€ç§ã€‚é¦–å…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼š\n\næ–‡æ¡£æµï¼šæ–‡æ¡£æµæ˜¯æ–‡æ¡£ä¸­å¯æ˜¾ç¤ºå¯¹è±¡åœ¨æ’åˆ—æ—¶æ‰€å ç”¨çš„ä½ç½®ã€‚\næµ®åŠ¨çš„å®šä¹‰ï¼šä½¿å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼ŒæŒ‰ç…§æŒ‡å®šæ–¹å‘å‘ç”Ÿç§»åŠ¨ï¼Œé‡åˆ°çˆ¶çº§è¾¹ç•Œæˆ–è€…ç›¸é‚»çš„æµ®åŠ¨å…ƒç´ åœäº†ä¸‹æ¥ã€‚æµ®åŠ¨çš„å®é™…ç”¨é€”ï¼Œå¯è®¾ç½®æ–‡å­—ç¯ç»•æˆ–ä½¿å…ƒç´ å®½åº¦ç”±å†…å®¹å¡«å……ï¼ˆç±»ä¼¼Inline-block)ã€‚ä½¿ç”¨æµ®åŠ¨éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœæµ®åŠ¨çš„å…ƒç´ é«˜åº¦æ¯”çˆ¶çº§å®¹å™¨è¿˜é«˜ï¼Œé‚£ä¹ˆéœ€è¦è®¾ç½®çˆ¶çº§å®¹å™¨çš„overflowå±æ€§ä¸ºauto,ä½¿å…¶è‡ªåŠ¨æ’‘æ»¡ã€‚\nCSS æµ®åŠ¨ \n\n\nCSS é€‰æ‹©å™¨é€‰æ‹©å™¨æ˜¯åŒ¹é…å…ƒç´ çš„ä¸€ç§æ¨¡å¼ï¼Œä¸åªæ˜¯åœ¨CSSä¸­ï¼ŒJavaScriptå¯¹CSSçš„é€‰æ‹©å™¨ä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œæ¯”å¦‚document.document.querySelectorAllã€‚\nCSS è§£æå™¨HTML ç»è¿‡è§£æç”Ÿæˆ DOM Treeï¼ˆè¿™ä¸ªæˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰ï¼‰ï¼›è€Œåœ¨ CSS è§£æå®Œæ¯•åï¼Œéœ€è¦å°†è§£æçš„ç»“æœä¸ DOM Tree çš„å†…å®¹ä¸€èµ·è¿›è¡Œåˆ†æå»ºç«‹ä¸€æ£µ Render Treeï¼Œæœ€ç»ˆç”¨æ¥è¿›è¡Œç»˜å›¾ã€‚Render Tree ä¸­çš„å…ƒç´ ï¼ˆWebKit ä¸­ç§°ä¸ºã€Œrenderersã€ï¼ŒFirefox ä¸‹ä¸ºã€Œframesã€ï¼‰ä¸ DOM å…ƒç´ ç›¸å¯¹åº”ï¼Œä½†éä¸€ä¸€å¯¹åº”ï¼šä¸€ä¸ª DOM å…ƒç´ å¯èƒ½ä¼šå¯¹åº”å¤šä¸ª rendererï¼Œå¦‚æ–‡æœ¬æŠ˜è¡Œåï¼Œä¸åŒçš„ã€Œè¡Œã€ä¼šæˆä¸º render tree ç§ä¸åŒçš„ rendererã€‚ä¹Ÿæœ‰çš„ DOM å…ƒç´ è¢« Render Tree å®Œå…¨æ— è§†ï¼Œæ¯”å¦‚ display:none çš„å…ƒç´ ã€‚åœ¨å»ºç«‹ Render Tree æ—¶ï¼ˆWebKit ä¸­çš„ã€ŒAttachmentã€è¿‡ç¨‹ï¼‰ï¼Œæµè§ˆå™¨å°±è¦ä¸ºæ¯ä¸ª DOM Tree ä¸­çš„å…ƒç´ æ ¹æ® CSS çš„è§£æç»“æœï¼ˆStyle Rulesï¼‰æ¥ç¡®å®šç”Ÿæˆæ€æ ·çš„ rendererã€‚å¯¹äºæ¯ä¸ª DOM å…ƒç´ ï¼Œå¿…é¡»åœ¨æ‰€æœ‰ Style Rules ä¸­æ‰¾åˆ°ç¬¦åˆçš„ selector å¹¶å°†å¯¹åº”çš„è§„åˆ™è¿›è¡Œåˆå¹¶ã€‚é€‰æ‹©å™¨çš„ã€Œè§£æã€å®é™…æ˜¯åœ¨è¿™é‡Œæ‰§è¡Œçš„ï¼Œåœ¨éå† DOM Tree æ—¶ï¼Œä» Style Rules ä¸­å»å¯»æ‰¾å¯¹åº”çš„ selectorã€‚\nè§£æé¡ºåºCSSåŒ¹é…ä¸æ˜¯ä»å·¦åˆ°å³è¿›è¡ŒæŸ¥æ‰¾ï¼Œè€Œæ˜¯ä»å³åˆ°å·¦è¿›è¡ŒæŸ¥æ‰¾ã€‚å¦‚æœä»å·¦åˆ°å³çš„é¡ºåºï¼Œé‚£ä¹ˆæ¯æ¡é€‰æ‹©å™¨éƒ½éœ€è¦éå†æ•´ä¸ªDOMæ ‘ï¼Œæ€§èƒ½å¾ˆå—å½±å“ã€‚æ‰€è°“é«˜æ•ˆçš„CSSå°±æ˜¯è®©æµè§ˆå™¨åœ¨æŸ¥æ‰¾styleåŒ¹é…çš„å…ƒç´ çš„æ—¶å€™å°½é‡è¿›è¡Œå°‘çš„æŸ¥æ‰¾, æ‰€ä»¥é€‰æ‹©å™¨æœ€å¥½å†™çš„ç®€æ´ä¸€ç‚¹ã€‚\né€‰æ‹©å™¨æƒé‡æƒé‡ï¼Œä¹Ÿå°±æ˜¯é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§ï¼Œæ¯æ¡é€‰æ‹©å™¨çš„è§„åˆ™éƒ½æœ‰å…¶æƒé‡ï¼Œæƒé‡å¤§çš„ä¼šè¦†ç›–æ‰æƒé‡å°çš„ï¼Œå¾ˆå¤šCSSå‡ºç°é—®é¢˜çš„åœºæ™¯ï¼Œéƒ½æ˜¯æŸå¤„å®šä¹‰äº†ä¸€ä¸ªæ›´é«˜æƒé‡çš„è§„åˆ™ï¼Œå¯¼è‡´æ­¤å¤„è§„åˆ™ä¸ç”Ÿæ•ˆã€‚æ ¹æ®æ ·å¼æ‰€åœ¨ä½ç½®ï¼Œå¯¹å…ƒç´ çš„å½±å“ä¹Ÿæœ‰å…³ç³»ï¼šå†…è”æ ·å¼ï¼ˆæ ‡ç­¾å†…styleå½¢å¼ï¼‰ &gt; styleæ ‡ç­¾ &gt; linkæ ‡ç­¾ã€‚å¦å¤–ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯!improtant,å‡¡æ˜¯å±æ€§å€¼ååŠ ä¸Šäº†!importantï¼Œé‚£ä¹ˆå®ƒçš„å€¼ä¸ä¼šè¢«å…¶ä»–å€¼æ›¿æ¢ã€‚\næƒé‡çš„è®¡ç®—\nä¸»è¦çš„è§„åˆ™å°±æ˜¯:idé€‰æ‹©å™¨ &gt; ç±»ï¼Œå±æ€§é€‰æ‹©å™¨å’Œä¼ªç±»é€‰æ‹©å™¨ &gt; å…ƒç´ å’Œä¼ªå…ƒç´ \nåŸºæœ¬é€‰æ‹©å™¨\n\né€šé…ç¬¦é€‰æ‹©å™¨ï¼ˆï¼Šï¼‰\nidé€‰æ‹©å™¨ï¼ˆ#IDï¼‰\nç±»é€‰æ‹©å™¨ï¼ˆ.classNameï¼‰\nå…ƒç´ é€‰æ‹©å™¨(E)\nåä»£é€‰æ‹©å™¨ï¼ˆï¼¥ ï¼¦ï¼‰\nå­å…ƒç´ é€‰æ‹©å™¨(E&gt;F)\nç›¸é‚»å…„å¼Ÿå…ƒç´ é€‰æ‹©å™¨(E + F)\nç¾¤ç»„é€‰æ‹©å™¨ï¼ˆselector1,selector2,â€¦,selectorNï¼‰\n\nå±æ€§é€‰æ‹©å™¨ä½¿ç”¨CSS3å±æ€§é€‰æ‹©å™¨ï¼Œä½ å¯ä»¥åªæŒ‡å®šå…ƒç´ çš„æŸä¸ªå±æ€§ï¼Œæˆ–è€…ä½ è¿˜å¯ä»¥åŒæ—¶æŒ‡å®šå…ƒç´ çš„æŸä¸ªå±æ€§å’Œå…¶å¯¹åº”çš„å±æ€§å€¼ã€‚\n\nE[attr]ï¼šåªä½¿ç”¨å±æ€§åï¼Œä½†æ²¡æœ‰ç¡®å®šä»»ä½•å±æ€§å€¼\nE[attr=â€œvalueâ€]ï¼šæŒ‡å®šå±æ€§åï¼Œå¹¶æŒ‡å®šäº†è¯¥å±æ€§çš„å±æ€§å€¼\nE[attr~=â€œvalueâ€]ï¼šæŒ‡å®šå±æ€§åï¼Œå¹¶ä¸”å…·æœ‰å±æ€§å€¼ï¼Œæ­¤å±æ€§å€¼æ˜¯ä¸€ä¸ªè¯åˆ—è¡¨ï¼Œå¹¶ä¸”ä»¥ç©ºæ ¼éš”å¼€ï¼Œå…¶ä¸­è¯åˆ—è¡¨ä¸­åŒ…å«äº†ä¸€ä¸ªvalueè¯ï¼Œè€Œä¸”ç­‰å·å‰é¢çš„â€œã€œâ€ä¸èƒ½ä¸å†™\nE[attr^=â€œvalueâ€]ï¼šæŒ‡å®šäº†å±æ€§åï¼Œå¹¶ä¸”æœ‰å±æ€§å€¼ï¼Œå±æ€§å€¼æ˜¯ä»¥valueå¼€å¤´çš„ï¼›\nE[attr$=â€œvalueâ€]ï¼šæŒ‡å®šäº†å±æ€§åï¼Œå¹¶ä¸”æœ‰å±æ€§å€¼ï¼Œè€Œä¸”å±æ€§å€¼æ˜¯ä»¥valueç»“æŸçš„ï¼›\nE[attr*=â€œvalueâ€]ï¼šæŒ‡å®šäº†å±æ€§åï¼Œå¹¶ä¸”æœ‰å±æ€§å€¼ï¼Œè€Œä¸”å±å€¼ä¸­åŒ…å«äº†valueï¼›\nE[attr|=â€œvalueâ€]ï¼šæŒ‡å®šäº†å±æ€§åï¼Œå¹¶ä¸”å±æ€§å€¼æ˜¯valueæˆ–è€…ä»¥â€œvalue-â€å¼€å¤´çš„å€¼ï¼ˆæ¯”å¦‚è¯´zh-cnï¼‰;\n\nä¼ªç±»é€‰æ‹©å™¨ä¼ªç±»é€‰æ‹©å™¨çš„å½¢å¼å°±æ˜¯:xxxï¼Œ æ¯”å¦‚:hover, :link, :nthã€‚\nåŠ¨æ€ä¼ªç±»è¿™äº›ä¼ªç±»å¹¶ä¸å­˜åœ¨äºHTMLä¸­,è€Œåªæœ‰å½“ç”¨æˆ·å’Œç½‘ç«™äº¤äº’çš„æ—¶å€™æ‰èƒ½ä½“ç°å‡ºæ¥ï¼ŒåŠ¨æ€ä¼ªç±»åŒ…å«ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯æˆ‘ä»¬åœ¨é“¾æ¥ä¸­å¸¸çœ‹åˆ°çš„é”šç‚¹ä¼ªç±»ï¼Œå¦‚â€:linkâ€,â€:visitedâ€;å¦å¤–ä¸€ç§è¢«ç§°ä½œç”¨æˆ·è¡Œä¸ºä¼ªç±»ï¼Œå¦‚â€œ:hoverâ€,â€:activeâ€å’Œâ€:focusâ€ã€‚å…ˆæ¥çœ‹æœ€å¸¸è§çš„é”šç‚¹ä¼ªç±»ã€‚\n\nhover: ç”¨äºå½“ç”¨æˆ·æŠŠé¼ æ ‡ç§»åŠ¨åˆ°å…ƒç´ ä¸Šé¢æ—¶çš„æ•ˆæœ\nactive: ç”¨äºç”¨æˆ·ç‚¹å‡»å…ƒç´ é‚£ä¸€ä¸‹çš„æ•ˆæœï¼ˆæ­£å‘ç”Ÿåœ¨ç‚¹çš„é‚£ä¸€ä¸‹ï¼Œæ¾å¼€é¼ æ ‡å·¦é”®æ­¤åŠ¨ä½œä¹Ÿå°±å®Œæˆäº†ï¼‰\nfocus: ç”¨äºå…ƒç´ æˆä¸ºç„¦ç‚¹ï¼Œè¿™ä¸ªç»å¸¸ç”¨åœ¨è¡¨å•å…ƒç´ ä¸Š\n\nUIå…ƒç´ çŠ¶æ€ä¼ªç±»\nä¸»è¦æ˜¯é’ˆå¯¹äºHTMLä¸­çš„Formå…ƒç´ æ“ä½œï¼ŒIE8 ä¸æ”¯æŒ :checked, :enabled, :disabed  è¿™ä¸‰ç§é€‰æ‹©å™¨ã€‚\nCSS3çš„:nthé€‰æ‹©å™¨ä¸»è¦æ³¨æ„çš„æ˜¯CSS3æ·»åŠ çš„nthé€‰æ‹©å™¨åœ¨IE8ä¸‹ä¸æ”¯æŒã€‚\n\nfist-child: é€‰æ‹©æŸä¸ªå…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ ï¼›\nlast-child: é€‰æ‹©æŸä¸ªå…ƒç´ çš„æœ€åä¸€ä¸ªå­å…ƒç´ ï¼›\nnth-child(): é€‰æ‹©æŸä¸ªå…ƒç´ çš„ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹å®šçš„å­å…ƒç´ ï¼›\nå…¶ä»–ï¼š å¸¸ç”¨çš„å°±æ˜¯ä¸Šé¢ä¸‰ç§äº†ï¼Œå…¶ä»–è‡ªè¡Œäº†è§£ã€‚\n\n\nCSS å¸ƒå±€\nå›ºå®šå°ºå¯¸å¸ƒå±€å¯ä»¥ä»å›ºå®šå°ºå¯¸å…ˆäº†è§£ï¼Œå…ˆæ„æ€å¥½é¡µé¢çš„ä¸»è¦ç»“æ„ï¼ŒåšåŠ¨ç”»çš„å…ƒç´ ä¸€èˆ¬éœ€è¦ç»å¯¹å®šä½ï¼Œæ–¹ä¾¿æ“ä½œç§»åŠ¨ã€‚\nè‡ªé€‚åº”å¸ƒå±€å“åº”å¼çš„å¸ƒå±€çš„ç»“æ„å…¶å®å°±æ˜¯å¤šä¸ªå›ºå®šå°ºå¯¸çš„ç»„åˆï¼Œå…ƒç´ çš„å®½åº¦ï¼Œå­—ä½“çš„å¤§å°ä¸€èˆ¬ä¼šä»¥åŠåˆ†æ¯”çš„å½¢å¼è®¾ç½®ã€‚é€šè¿‡åª’ä½“æŸ¥è¯¢è¿›è¡Œä¸åŒåˆ†è¾¨ç‡ä¸‹çš„å¸ƒå±€ã€‚\nå¦‚ä½•åªç”¨CSSåšåˆ°å®Œå…¨å±…ä¸­ - æ–‡ç«  - ä¼¯ä¹åœ¨çº¿\nMetameta æ ‡ç­¾æä¾›å…³äº HTML æ–‡æ¡£çš„å…ƒæ•°æ®ã€‚å…ƒæ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œä½†æ˜¯å¯¹äºæœºå™¨æ˜¯å¯è¯»çš„ã€‚å®ƒå¯ç”¨äºæµè§ˆå™¨ï¼ˆå¦‚ä½•æ˜¾ç¤ºå†…å®¹æˆ–é‡æ–°åŠ è½½é¡µé¢ï¼‰ï¼Œæœç´¢å¼•æ“ï¼ˆå…³é”®å­—ï¼‰ï¼Œæˆ–å…¶ä»– web æœåŠ¡ã€‚\n\nBEMBEM (Block, Element, Modifier)\næ˜¯ä¸€ç§åŸºäºç»„ä»¶çš„å¯¹ CSS ç±»åè¿›è¡Œçº¦å®šçš„ Web å¼€å‘æ–¹æ³•ã€‚ä»–é€šè¿‡å®šä¹‰å‘½åç©ºé—´æ¥è§£å†³æƒé‡é—®é¢˜ï¼Œä»è€Œä½¿ CSS æ›´æ˜“äºç»´æŠ¤ã€‚BEM ä½¿ç”¨ Blockã€Elementã€Modifier æ¥è§£é‡Šå…¶ç»“æ„ã€‚Block æ˜¯ä¸€ä¸ªå¯è·¨é¡¹ç›®é‡ç”¨çš„ç‹¬ç«‹ç»„ä»¶ï¼Œä¸”æ˜¯å­ç»„ä»¶ï¼ˆElementï¼‰çš„â€œå‘½åç©ºé—´â€ã€‚Modifier å¯æ ‡ç¤º Block æˆ– Element å¤„äºæŸç§çŠ¶æ€ã€ç»“æ„æˆ–ç‰¹å®šçš„æ ·å¼ã€‚\n\n-ä¸­åˆ’çº¿ ï¼šä»…ä½œä¸ºè¿å­—ç¬¦ä½¿ç”¨ï¼Œè¡¨ç¤ºå¤šä¸ªå•è¯ä¹‹é—´çš„è¿æ¥è®°å·\n__åŒä¸‹åˆ’çº¿ï¼šç”¨æ¥è¿æ¥ Block å’Œ Element\nâ€”åŒä¸­åˆ’çº¿ï¼šæè¿° Block æˆ– Element çš„ä¸€ç§çŠ¶æ€ã€ç»“æ„æˆ–æ ·å¼\n\n1234567891011121314/* block component */.block-name &#123;&#125;/* element */.block-name__element-name &#123;&#125;/* modifier */.block-name__element-name--modifier-name &#123;&#125; &lt;nav class=\"navbar\"&gt;    &lt;a href=\"/\" class=\"navbar__link navbar__link--active\"&gt;&lt;/a&gt;    &lt;a href=\"/\" class=\"navbar__link\"&gt;&lt;/a&gt;&lt;/nav&gt;\nåœ¨ç¤ºä¾‹ä¸­ï¼Œnavbar ä¸º Blockï¼Œnavbar__link æ˜¯ä¸€ä¸ªä¸èƒ½ç‹¬ç«‹ä¸navbar å­˜åœ¨çš„ Elementï¼Œnavbar__link--activeæ˜¯æ ‡æ˜navbar__link ä¸åŒçŠ¶æ€çš„ Modifierã€‚\n\nBEM å®è·µä¸­ä¹Ÿæœ‰ä½¿ç”¨_æ›¿ä»£â€”çš„æƒ…å†µ\nç±»å‘½åéœ€è¦å°½å¯èƒ½çš„ç®€æ˜æ¸…æ™°ã€æ²¡æœ‰äºŒæ„æ€§ï¼Œä¾‹å¦‚errorå°±æ¯”red-textæ›´åŠ æœ‰è¯­ä¹‰ã€‚\nå»ºè®® Block åªèƒ½æœ‰ä¸€å±‚ Element åµŒå¥—ï¼Œä¸” Element ä¸èƒ½ç‹¬ç«‹ Block å­˜åœ¨ã€‚å¦‚ï¼š\n123456789&lt;form class=\"search-form\"&gt;    &lt;div class=\"search-form__content\"&gt;        &lt;input class=\"search-form__input\"&gt;        &lt;!-- é”™è¯¯ï¼šå»ºè®®ä½¿ç”¨ `search-form__button` æˆ– `search-form__content-button` --&gt;        &lt;button class=\"search-form__content__button\"&gt;Search&lt;/button&gt;    &lt;/div&gt;&lt;/form&gt;&lt;!-- é”™è¯¯ï¼šè¯¥ Element åº”æ”¾åœ¨ `search-form` Block ä¸­ --&gt;&lt;i class=\"search-form__icon\"&gt;&lt;/i&gt;\n\nå»ºè®®åŒä¸€ä¸ª Block æˆ– Element ä¸Šä¸èƒ½ä½¿ç”¨ä¸¤ä¸ªä»¥ä¸Šçš„ Modifier å»è¿›è¡Œä¿®é¥°ï¼Œä¸” Modifier éœ€é…åˆ Block æˆ– Element ä½¿ç”¨ï¼Œä¸èƒ½ç‹¬ç«‹å­˜åœ¨ã€‚å¦‚ï¼š\n123456&lt;!-- é”™è¯¯ï¼šç¼ºå°‘ `search-form` Block --&gt;&lt;form class=\"search-form_theme_islands\"&gt;&lt;/form&gt;&lt;!-- é”™è¯¯ï¼šä½¿ç”¨å¤šä¸ª Modifier --&gt;&lt;form class=\"search-form search-form_theme_islands search-form_theme_lite\"&gt;&lt;/form&gt;\n\n\né‚£äº›ä½ ä¸çŸ¥é“çš„å±æ€§margin padding border     \nè¿™äº›å¦‚æœåŒæ—¶è®¾ç½®å››ä¸ªæ–¹å‘ä¸Šçš„å€¼çš„è¯ï¼Œé¡ºåºåº”å½“æ˜¯é¡ºæ—¶é’ˆçš„ã€‚\n\nTBDâ€¦\nReferenceå‰ç«¯å·¥ç¨‹å¸ˆæ‰‹å†Œ Â· GitBook (Legacy)\n","plink":"https://xkeith.space/post/arc-03/"},{"title":"è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„","date":"2019-03-18T14:51:44.000Z","updated":"2019-03-18T15:02:27.795Z","content":"\nè®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„1.1 ç®€ä»‹\nå®šä¹‰\n\nè®¡ç®—æœºç½‘ç»œçš„å„å±‚ + åè®®çš„é›†åˆ\n\nä½œç”¨\n\nå®šä¹‰è¯¥è®¡ç®—æœºç½‘ç»œçš„æ‰€èƒ½å®Œæˆçš„æ‰€æœ‰åŠŸèƒ½\n1.2 ç»“æ„ä»‹ç»ä¸€èˆ¬åˆ†ä¸ºä¸‰ç§ï¼š\n\nOSI ä½“ç³»ç»“æ„ï¼šæ¦‚å¿µæ¸…æ¥šï¼Œç†å¿µå®Œæ•´ï¼Œä½†æ˜¯å¤æ‚ï¼Œä¸å®ç”¨ã€‚\nTCP / IP ä½“ç³»ç»“æ„ï¼šåŒ…å«ä¸€ç³»åˆ—æ„æˆäº’è”ç½‘åŸºç¡€çš„ç½‘ç»œåè®®ï¼Œæ˜¯ Internet çš„æ ¸å¿ƒåè®®ï¼Œè¢«å¹¿æ³›åº”ç”¨äºå±€åŸŸç½‘å’Œå¹¿åŸŸç½‘ã€‚\näº”å±‚ä½“ç³»ç»“æ„ï¼šèåˆäº† OSI ä¸ TCP/ IP çš„ä½“ç³»ç»“æ„ï¼Œç›®çš„æ˜¯å­¦ä¹ å’Œè®²è§£è®¡ç®—æœºåŸç†ã€‚\n\n::ä½ä¸‰å±‚ä¸ºé€šä¿¡å­ç½‘ï¼Œè´Ÿè´£æ•°æ®ä¼ è¾“ã€‚::::é«˜ä¸‰å±‚ä¸ºèµ„æºå­ç½‘ï¼Œç›¸å½“äºè®¡ç®—æœºç³»ç»Ÿï¼Œå®Œæˆæ•°æ®å¤„ç†ã€‚::::ä¼ è¾“å±‚æ‰¿ä¸Šå¯ä¸‹::\nTCP / IP çš„ä½“ç³»ç»“æ„è¯¦ç»†ä»‹ç»\n\nOSI çš„ä½“ç³»ç»“æ„è¯¦ç»†ä»‹ç»\nTCP åè®®Transmission Control Protocol  å³ä¼ è¾“æ§åˆ¶åè®®ã€‚\n\nå±äºä¼ è¾“å±‚é€šä¿¡åè®®åŸºäº TCP çš„åº”ç”¨å±‚åè®®æœ‰ HTTP, SMTP, FTP, Telenet, POP3  \n\nUDP åè®®3.1 å®šä¹‰User Datagram Protocol         å³ç”¨æˆ·æ•°æ®æŠ¥åè®®\n\nå±äºä¼ è¾“å±‚é€šä¿¡åè®®åŸºäº UDP çš„åº”ç”¨å±‚åè®®æœ‰ TFTp, SNMP ä¸ DNS  \n\n3.2 ç‰¹ç‚¹æ— è¿æ¥çš„ï¼Œä¸å¯é çš„ï¼Œé¢å‘æŠ¥æ–‡ï¼Œæ— æ‹¥å¡æ§åˆ¶ï¼Œå…·ä½“ä»‹ç»å¦‚ä¸‹ï¼š\n\n3.3 ä¼˜ç¼ºç‚¹\nä¼˜ç‚¹ï¼šé€Ÿåº¦å¿«\nç¼ºç‚¹ï¼šæ¶ˆæ¯æ˜“ä¸¢å¤±ï¼ˆç‰¹åˆ«æ˜¯ç½‘ç»œè¾ƒå·®çš„æ—¶å€™ï¼‰\n\n3.4 åº”ç”¨åœºæ™¯ï¼ˆå¯¹åº”åº”ç”¨å±‚åè®®ï¼‰è¦æ±‚é€šä¿¡é€Ÿåº¦é«˜\nå¦‚ï¼šåŸŸåè½¬æ¢ï¼šDNS åè®®æ–‡ä»¶ä¼ è¾“ï¼šFTP åè®®ç½‘ç»œç®¡ç†ï¼šSNMP åè®®è¿œç¨‹æ–‡ä»¶æœåŠ¡å™¨ï¼šNFS åè®®\n3.5 æŠ¥æ–‡æ®µæ ¼å¼\nUDP æŠ¥æ–‡æ®µå…±æœ‰ä¸¤ä¸ªå­—æ®µï¼šæ•°æ®å­—æ®µå’Œé¦–éƒ¨å­—æ®µ\nä¸»è¦ä»‹ç»é¦–éƒ¨ï¼ˆ8å­—èŠ‚ï¼Œ4ä¸ªå­—æ®µï¼‰\n\n\n\n3.6 TCP å’Œ UDP çš„åŒºåˆ«\n4. HTTP åè®®4.1 ç®€ä»‹\n5. Socket5.1 ç®€ä»‹å³å¥—æ¥å­—ï¼Œæ˜¯åº”ç”¨å±‚ä¸ TCP / IP åè®®æ—é€šä¿¡çš„ä¸­é—´è½¯ä»¶æŠ½è±¡å±‚ï¼Œè¡¨ç°ä¸ºä¸€ä¸ªå°è£…äº† TCP / IP åè®®æ—çš„ç¼–ç¨‹æ¥å£ API\n\n\nSocket ä¸æ˜¯ä¸€ç§åè®®ï¼Œè€Œæ˜¯ä¸€ä¸ªç¼–ç¨‹è°ƒç”¨æ¥å£ï¼ˆAPI)ï¼Œå±äºä¼ è¾“å±‚ï¼ˆä¸»è¦è§£å†³æ•°æ®å¦‚ä½•åœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼‰\nåœ¨ Android å¹³å°ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡ Socket æ‰èƒ½ä½¿ç”¨ TCP / IP åè®®è¿›è¡Œå¼€å‘\nå¯¹ç”¨æˆ·æ¥è¯´ï¼Œåªéœ€è¦è°ƒç”¨ Socket å»ç»„ç»‡æ•°æ®ï¼Œä»¥ç¬¦åˆåˆ¶å®šçš„åè®®ï¼Œå³å¯é€šä¿¡ã€‚\n\næˆå¯¹å‡ºç°ï¼Œä¸€å¯¹å¥—æ¥å­—ï¼š\n1Socket = &#123;(IP åœ°å€1: PORT ç«¯å£å·), ï¼ˆIP åœ°å€ 2: PORT ç«¯å£å·ï¼‰&#125;\nä¸€ä¸ª Socket å®ä¾‹å”¯ä¸€ä»£è¡¨ä¸€ä¸ªä¸»æœºä¸Šçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„é€šä¿¡é“¾è·¯ã€‚\n5.2 å…¶ä»–çŸ¥è¯†å…³äº Socket çš„åŸç†ã€æœºåˆ¶è¿‡ç¨‹å’Œä½¿ç”¨æ–¹å¼ï¼šAndroidï¼šè¿™æ˜¯ä¸€ä»½å¾ˆè¯¦ç»†çš„Socketä½¿ç”¨æ”»ç•¥ - ç®€ä¹¦\n6. å…¶ä»–çŸ¥è¯†6.1 åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ url åœ°å€  -&gt; æ˜¾ç¤ºä¸»é¡µçš„è¿‡ç¨‹\næ‰“å¼€ä¸€ä¸ªç½‘é¡µæ•´ä¸ªè¿‡ç¨‹ä¸­ä¼šä½¿ç”¨å“ªäº›åè®®  \n\n\n6.2 IP åœ°å€å®šä¹‰é“¾æ¥åœ¨ Internet ä¸­çš„æ¯ä¸€å°ä¸»æœºï¼ˆè·¯ç”±å™¨ï¼‰çš„å…¨çƒå”¯ä¸€çš„æ ‡è¯†ç¬¦\nç»„æˆIP åœ°å€ = 32 ä½ = ç½‘ç»œå· + ä¸»æœºå·ï¼›å³ IP åœ°å€ = {&lt;ç½‘ç»œå·&gt;, &lt;ä¸»æœºå·&gt;}\nå…¶ä¸­ï¼š\n\nç½‘ç»œå·ï¼šæ ‡å¿—ä¸»æœºï¼ˆè·¯ç”±å™¨ï¼‰æ‰€é“¾æ¥åˆ°çš„ç½‘ç»œï¼Œä¸€ä¸ªç½‘ç»œå·åœ¨æ•´ä¸ªå› ç‰¹ç½‘èŒƒå›´å†…å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚\nä¸»æœºå·ï¼šæ ‡å¿—è¯¥ä¸»æœºï¼ˆè·¯ç”±å™¨ï¼‰ã€‚ä¸€ä¸ªä¸»æœºå·åœ¨å®ƒé¢å‰çš„ç½‘ç»œå·æ‰€æŒ‡æ˜çš„ç½‘ç»œèŒƒå›´å†…å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚\n\nä¸åŒç±»å‹çš„ IP åœ°å€ï¼Œå…¶ä¸»æœºå· &amp; ç½‘ç»œå·æ‰€å å­—èŠ‚æ•°ä¸åŒï¼›æ•…ï¼šä¸€ä¸ª IP åœ°å€åœ¨æ•´ä¸ªç½‘ç»œèŒƒå›´å†…æ˜¯å”¯ä¸€çš„ã€‚\nåˆ†ç±»ä¼ ç»Ÿçš„ IP åœ°å€æ˜¯åˆ†ç±»çš„åœ°å€ï¼Œåˆ†ä¸º A, B, C, D, E äº”ç±»åŒºåˆ«åœ¨äºç½‘ç»œå· &amp; ä¸»æœºå·æ‰€å çš„å­—èŠ‚æ•°ä¸åŒã€‚\n\n::åœ¨å„ç±» IP åœ°å€ä¸­ï¼Œæœ‰ä¸€äº› IP åœ°å€ç”¨äºç‰¹æ®Šç”¨é€”ï¼Œä¸èƒ½ç”¨åšä¸»æœº IP åœ°å€::\n\n6.3 ICMP åè®®å®šä¹‰Internet Control Message Protocol     å›½é™…æ§åˆ¶æŠ¥æ–‡åè®®\n\nå±äº IP å±‚åè®®\nICMP æŠ¥æ–‡ä¸æ˜¯é«˜å±‚åè®®ï¼Œè€Œæ˜¯ä½œä¸º IP å±‚æ•°æ®æŠ¥çš„æ•°æ®ï¼ŒåŠ ä¸Šæ•°æ®æŠ¥é¦–éƒ¨ï¼Œç»„æˆ IP æ•°æ®æŠ¥å‘å‡ºå»ã€‚\n\nä½œç”¨æ›´æœ‰æ•ˆçš„è½¬å‘ IP æ•°æ®åŒ… &amp; æé«˜äº¤ä»˜æˆåŠŸçš„æœºä¼šåŒæ—¶å…è®¸ä¸»æœº / è·¯ç”±å™¨æŠ¥å‘Šå·®é”™ &amp; å¼‚å¸¸æƒ…å†µ\nåˆ†ç±»ICMP å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ &amp; ICMP è¯¢é—®æŠ¥æ–‡\nä¸»è¦åº”ç”¨PING ï¼ˆåˆ†ç»„ç½‘é—´æ¢æµ‹ï¼‰ã€Traceroute ï¼ˆè·Ÿè¸ªä¸€ä¸ªåˆ†ç»„ä»æºç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„ï¼ŒåŸç† = ä»æºä¸»æœºå‘ç›®çš„ä¸»æœºå‘é€ä¸€è¿ä¸²çš„ IP æ•°æ®æŠ¥ï¼‰ä¸»è¦ä»‹ç» Ping çš„è¿‡ç¨‹\n6.4 Ping çš„è¿‡ç¨‹å®šä¹‰Packet InterNet Groper        åˆ†ç»„ç½‘é—´æ¢æµ‹\n\næ˜¯ ICMP æŠ¥æ–‡çš„ä¸€ä¸ªé‡è¦åº”ç”¨ï¼šä½¿ç”¨äº† ICMP å›é€è¯·æ±‚ &amp; å›é€å›ç­”æŠ¥æ–‡\næ˜¯åº”ç”¨å±‚ç›´æ¥ä½¿ç”¨ç½‘ç»œå±‚ ICMP çš„ä¸€ä¸ªä¾‹å­ï¼Œæ— éœ€ç»è¿‡ä¼ è¾“å±‚çš„ TCP, UDP\n\nä½œç”¨æµ‹è¯•ä¸¤ä¸ªä¸»æœºçš„è”é€šæ€§\nåŸç†\nå‘ç›®çš„ä¸»æœºå‘é€å¤šä¸ª ICMP å›é€è¯·æ±‚æŠ¥æ–‡\næ ¹æ®ç›®çš„ä¸»æœºè¿”å›çš„ ICMP å›é€å›ç­”æŠ¥æ–‡ä¸­çš„æ—¶é—´æˆ³ï¼Œä»è€Œè®¡ç®—å‡ºå¾€è¿”æ—¶é—´\næœ€ç»ˆçš„æ˜¾ç¤ºç»“æœï¼šå‘é€åˆ°ç›®çš„ä¸»æœºçš„ IP åœ°å€ã€å‘é€ &amp; æ”¶åˆ° &amp; ä¸¢å¤±çš„åˆ†ç»„æ•°ã€å¾€è¿”æ—¶é—´çš„æœ€å° &amp; æœ€å¤§ &amp; å¹³å‡å€¼\n\nè¿‡ç¨‹å‡è®¾æœ‰ä¸¤å°ä¸»æœºï¼šï¼ˆç›®çš„ä¸»æœºï¼‰ PC1ï¼šIP = 192.168.1.1ï¼ˆæºä¸»æœºï¼‰ PC2ï¼šIP = 192.168.1.2\n\n6.5 è·¯ç”±å™¨ä¸äº¤æ¢æœºçš„åŒºåˆ«\n6.6 Cookie ä¸ Session\n\n6.7 Cookie ä¸ Token\nåŸºäº Cookie çš„èº«ä»½éªŒè¯ &amp; éªŒè¯æµç¨‹\n\nåŸºäº Token çš„èº«ä»½éªŒè¯ &amp; éªŒè¯æµç¨‹\n\nReferenceè¿™æ˜¯ä¸€ä»½è¯¦ç»† &amp; æ¸…æ™°çš„è®¡ç®—æœºç½‘ç»œåŸºç¡€ å­¦ä¹ æŒ‡å— - ç®€ä¹¦\n","plink":"https://xkeith.space/post/arc-02/"},{"title":"åŸºäºç®—æ³•çš„ Swift å­¦ä¹ ä¹‹è·¯ï¼ˆæ’åºï¼‰","date":"2019-03-16T15:15:00.000Z","updated":"2019-03-16T17:00:00.008Z","content":"\næ’åºè¿™é‡Œç»™å‡ºäº†å…­å¤§æ’åºçš„ Swift è¯­è¨€å®ç°ï¼Œå¤§éƒ¨åˆ†ä»£ç æ˜¯åŸºäºç®—æ³•4th çš„ JAVA å®ç°ç›´æ¥å®ç°çš„ï¼Œä¹Ÿæœ‰å……åˆ†åˆ©ç”¨ Swift è¯­è¨€ç‰¹æ€§çš„æ›´ä¸ºç®€æ´çš„å®ç°ã€‚ä»£ç ä¸­æ¶‰åŠåˆ°çš„ Swift ç‰¹æ€§ï¼Œæˆ‘é€‰æ‹©ç”¨ç®—æ³•è¿™æ ·ä¸€ç§å®é™…åº”ç”¨æƒ…å†µæ¥ä¸ºå¤§å®¶é˜è¿°ï¼Œæ›´ä¸ºæ˜“æ‡‚å’Œå®ç”¨ã€‚\né€‰æ‹©æ’åº123456789101112131415161718func selectionSort&lt;T: Comparable&gt;(_ array: [T]) -&gt; [T] &#123;    var a = array    let N = a.count    var count = 0    for i in 0..&lt;N &#123;        var min = i        for j in (i + 1)..&lt;N &#123;            if a[j] &lt; a[min] &#123;                min = j                count += 1            &#125;        &#125;        // Array åº“å‡½æ•°ï¼Œäº¤æ¢ä¸¤ä¸ªå…ƒç´         a.swapAt(i, min)    &#125;    print(\"selectionSort cost \\(count)\")    return a&#125;\næœ€ç®€å•çš„æ’åºæ–¹å¼ï¼Œä¸æ–­é€‰æ‹©æœ€å°çš„å…ƒç´ ç§»åˆ°ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤æ˜¯ä¸ªç¨³å®šçš„ç®—æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬è¦å¼ºè°ƒçš„æœ‰ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬åœ¨ä¸‹é¢ç»å¸¸ç”¨åˆ°çš„ Array.swapAt(_ : Int, _ : Int) ï¼ŒSwift ç›´æ¥ä¸ºæˆ‘ä»¬å°è£…å¥½äº†äº¤æ¢æ•°ç»„ä¸¤ä¸ªå…ƒç´ çš„æ–¹æ³•ï¼Œç®€å•è€Œé«˜æ•ˆã€‚æ¥ä¸‹æ¥è¦è¯´çš„å°±æ˜¯ Swift ä¸­çš„æ³›å‹ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä¸ºæ–¹æ³•å®šä¹‰äº†ä¸€ä¸ªæ³›å‹ T å¹¶ä¸”è¦æ±‚è¿™ä¸ªæ³›å‹è¦å®ç° Comparable åè®®ï¼Œè¿™äºç®—å››é‡Œç›´æ¥ä½¿ç”¨ JAVA ä¸­çš„ Comparable è¶…ç±»å·®ä¸å¤šï¼Œä½†æ˜¯æ³›å‹å°±æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™æ˜ç¡®æŒ‡å‡ºè¿™ä¸ªæ³›å‹çš„çœŸæ­£ç±»å‹ï¼Œè¿™ç§é—®é¢˜å¸¸å¸¸å¹¶ä¸ä¼šå‡ºç°åœ¨å‡½æ•°æ³›å‹çš„ä½¿ç”¨ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬æ—¢ç„¶ä¸ºå‡½æ•°å£°æ˜äº†æ³›å‹ï¼Œå°±ä¸€å®šä¼šä¸ºå…¶ä¼ å…¥ç›¸åº”çš„å‚æ•°ï¼ŒSwift ä¼šé€šè¿‡å‚æ•°è‡ªåŠ¨æ¨æ–­å‡ºè¯¥æ³›å‹ã€‚ä½†æ˜¯æˆ‘ä»¬è¦çŸ¥é“ï¼ŒåŒæ ·çš„æ³›å‹å£°æ˜æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥åœ¨ç±»èº«ä¸Šçš„ï¼Œæˆ‘ä»¬åœ¨ JAVA ä¸­ä¸ºä¸€ä¸ªæ³›å‹ç±»å£°æ˜çš„æ—¶å€™è¦æ˜æ˜¾çš„ç»™å‡ºå®é™…ç±»å‹ï¼Œä½†æ˜¯åœ¨ Swift ä¸­ï¼Œæˆ‘ä»¬é™¤äº†è¿™æ ·æ˜¾ç¤ºç»™å‡ºæ³›å‹å¤–ï¼Œå¦‚æœæˆ‘ä»¬çš„æ„é€ æ–¹æ³•é‡Œä¼ å…¥äº†è¯¥ç±»å‹çš„å‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ— éœ€å†é‡å¤å£°æ˜æ³›å‹ï¼ŒSwift ä¼šå¸®æˆ‘ä»¬æ¨æ–­å‡ºè¯¥æ³›å‹ï¼ŒåŒæ—¶å¯¹äºè¿™ä¸ªå¯¹è±¡æœ¬èº«ï¼Œè¯¥æ³›å‹å·²ç»ç¡®å®šï¼Œä¸èƒ½å†æ›´æ”¹äº†ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸€ä¸ªç±»ä¸­ä¸¤ä¸ªæ³›å‹çš„å›°æ‰°ã€‚å…³äº Comparable åè®®ï¼Œä»»ä½•éµå¾ªäº†è¯¥åè®®çš„å˜é‡éƒ½è‡ªåŠ¨æ‹¥æœ‰è¯¥åè®®ä¸­åŒ…å«çš„å‡ ä¸ªæ–¹æ³• &lt; &gt; &lt;= &gt;= ç­‰ï¼Œä¹Ÿå°±è·Ÿå…¶å­—é¢æ„æ€ç›¸åŒï¼Œè¿™æ˜¯ä¸€ä¸ªå¯ä»¥æ¯”è¾ƒçš„å˜é‡ã€‚åŒæ ·çš„åè®®è¿˜æœ‰ Equalable ï¼Œå…¶åŒ…å«çš„æ–¹æ³•æ˜¯ == != `\næ’å…¥æ’åºï¼ˆå†’æ³¡æ’åºï¼‰1234567891011121314func insertionSort&lt;T&gt;(_ array: [T], _ isOrderedBefore: (T, T) -&gt; Bool) -&gt; [T] &#123;    var a = array    var count = 0    for x in 1..&lt;a.count &#123;        var y = x        while y &gt; 0 &amp;&amp; isOrderedBefore(a[y], a[y - 1]) &#123;            a.swapAt(y - 1, y)            count += 1            y -= 1        &#125;    &#125;    print(\"insert cost \\(count)\")    return a&#125;\næ’å…¥æ’åºï¼Œå¾ˆå¤šé«˜çº§æ’åºçš„åŸºç¡€ï¼Œä¹Ÿæ˜¯å¯¹äºå°å‹æ•°ç»„æ’åºæœ€å¿«çš„æ’åºæ–¹æ³•ã€‚å¯¹äºæœ‰åºæ•°ç»„ä¹Ÿæœ‰ç€å¾ˆé«˜çš„æ’åºæ•ˆç‡\nè¿™é‡Œæ¶‰åŠçš„ Swift ç‰¹æ€§åœ¨äºé‚£ä¸ªç‰¹åˆ«é•¿çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯é‚£ä¸ªå‡½æ•°å‚æ•°ã€‚æˆ‘ä»¬çŸ¥é“åœ¨ Swift ä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰ç±»å‹ï¼Œå¯ä»¥ä½œä¸ºè¿”å›å€¼å’Œå‚æ•°ç›´æ¥ä½¿ç”¨ã€‚è¿™ä¸€æ¬¡æˆ‘ä»¬çš„æ³›å‹å¹¶æ²¡æœ‰ç›´æ¥å®ç° Comparable åè®®ï¼Œè€Œæ˜¯ç”¨äº†ä¸€ä¸ªå‡½æ•°ç›´æ¥å°†æ“ä½œç¬¦ &gt; &lt; ç›´æ¥å½“ä½œå‚æ•°ä¼ å…¥ï¼Œå› æ­¤å¯ä»¥é€šè¿‡å‚æ•°æ¥æ§åˆ¶é€’å¢æ’åºå’Œé€’å‡æ’åºï¼Œå…³äº Swift ä¸­çš„æ“ä½œç¬¦ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡é‡è½½ä¸ºå…¶å¢åŠ æ›´å¤šçš„æ–¹æ³•ã€‚\nå¸Œå°”æ’åº12345678910111213141516171819202122232425func shellSort&lt;T&gt; (_ array: [T], _ isOrderedBefore: (T, T) -&gt; Bool) -&gt; [T] &#123;    var a = array    let N = a.count    var h = 1    var count = 0    // é€’å¢åºåˆ—    while h &lt; N / 3 &#123;        h = 3 * h + 1    &#125;    while h &gt;= 1 &#123;        for i in h..&lt;N &#123;            var j = i            while j &gt;= h &amp;&amp; isOrderedBefore(a[j], a[j-h]) &#123;                a.swapAt(j, j-h)                count += 1                //print(a)                j -= h            &#125;        &#125;        h = h / 3    &#125;    print(\"shell cost \\(count)\")    return a&#125;\næ’å…¥æ’åºçš„ä¼˜åŒ–ç‰ˆï¼Œé€šè¿‡é€’å¢åºåˆ—ä½¿å…¶æ€§èƒ½å¤§å¤§æå‡ã€‚\nå½’å¹¶æ’åºè¿™ä¹Ÿæ˜¯ä¸ªç¨³å®šçš„æ’åº\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123class Merge&lt;T: Comparable&gt; &#123;        var aux = [T]()    var data = [T]()    init(_ array: [T]) &#123;        data = array        self.mergeSort(&amp;data, lo: 0, hi: data.count - 1)    &#125;    // ä½¿ç”¨ inout æ¥æ“ä½œå®é™…å‚æ•°    func merge(_ array: inout [T], _ lo: Int, _ mid: Int, _ hi: Int)&#123;        var i = lo        var j = mid + 1        aux = array        for k in lo...hi &#123;            if i &gt; mid &#123;                array[k] = aux[j]                j += 1            &#125;            else if j &gt; hi &#123;                array[k] = aux[i]                i += 1            &#125;            else if aux[j] &lt; aux[i] &#123;                array[k] = aux[j]                j += 1            &#125;            else &#123;                array[k] = aux[i]                i += 1            &#125;        &#125;    &#125;                // merge high to low    func mergeSort(_ array: inout [T], lo: Int, hi: Int)&#123;        if hi &lt;= lo &#123;            return        &#125;                let mid = lo + (hi - lo) / 2        mergeSort(&amp;array, lo: lo, hi: mid)        mergeSort(&amp;array, lo: mid + 1, hi: hi)        merge(&amp;array, lo, mid, hi)    &#125;        // merge low to high    func mergeBU(_ array: [T]) -&gt; [T] &#123;        var a = array        let N = a.count        // å½’å¹¶å­æ•°ç»„å¤§å°        var sz = 1        while sz &lt; N &#123;            var lo = 0            while lo &lt; N - sz &#123;                // ç”¨ N - 1 é˜²æ­¢æ•°ç»„è¶Šç•Œ                merge(&amp;a, lo, lo+sz-1, min(lo+sz+sz-1, N-1))                // å‚ä¸å½’å¹¶çš„æ•°ç»„å¤§å°æ˜¯å­æ•°ç»„çš„ä¸¤å€                lo += sz + sz            &#125;            sz = sz + sz        &#125;        return a    &#125;        // ä¸æ“ä½œåŸæ•°ç»„çš„æ–¹å¼    func merge(leftPile: [T], rightPile: [T]) -&gt; [T] &#123;        // 1        var leftIndex = 0        var rightIndex = 0                // 2        var orderedPile = [T]()        // ä¸ºæ•°ç»„ç”³è¯·å¤‡ç”¨å®¹é‡ï¼Œå‡å°‘é•¿åº¦åŠ¨æ€å˜åŒ–çš„å¼€é”€        orderedPile.reserveCapacity(leftPile.count + rightPile.count)                // 3        // ä¸¤ä¸ªå½’å¹¶çš„æ•°ç»„æœ‰ä¸€ä¸ªç”¨å®Œå°±ä¼šåœæ­¢åˆ¤æ–­        while leftIndex &lt; leftPile.count &amp;&amp; rightIndex &lt; rightPile.count &#123;            if leftPile[leftIndex] &lt; rightPile[rightIndex] &#123;                orderedPile.append(leftPile[leftIndex])                leftIndex += 1            &#125; else if leftPile[leftIndex] &gt; rightPile[rightIndex] &#123;                orderedPile.append(rightPile[rightIndex])                rightIndex += 1            &#125; else &#123;                // å¦‚æœä¸€æ ·å¤§ï¼Œå„æ”¾å…¥å½’å¹¶çš„æ•°ç»„ä¸€æ¬¡                orderedPile.append(leftPile[leftIndex])                leftIndex += 1                orderedPile.append(rightPile[rightIndex])                rightIndex += 1            &#125;        &#125;                // 4        // å³ä¾§æ•°ç»„ç”¨å®Œ        while leftIndex &lt; leftPile.count &#123;            orderedPile.append(leftPile[leftIndex])            leftIndex += 1        &#125;        // å·¦ä¾§æ•°ç»„ç”¨å®Œ        while rightIndex &lt; rightPile.count &#123;            orderedPile.append(rightPile[rightIndex])            rightIndex += 1        &#125;                return orderedPile    &#125;        func mergeSort(_ array: [T]) -&gt; [T] &#123;        // guard æ›´å…³æ³¨çš„æ˜¯ else        guard array.count &gt; 1 else &#123; return array &#125;    // 1                let middleIndex = array.count / 2              // 2                let leftArray = mergeSort(Array(array[0..&lt;middleIndex]))             // 3                let rightArray = mergeSort(Array(array[middleIndex..&lt;array.count]))  // 4                return merge(leftPile: leftArray, rightPile: rightArray)             // 5    &#125;&#125;\næ¶‰åŠåˆ°çš„ Swift ç‰¹æ€§ï¼š\n\nArray.reserveCapacity\ninout å’Œ &amp;\nsubsequence\n\nåœ¨å½’å¹¶æ’åºä¸­ï¼Œæˆ‘ä»¬åœ¨çŸ¥é“éœ€è¦çš„é¢å¤–æ•°ç»„é•¿åº¦çš„æƒ…å†µä¸‹ä½¿ç”¨äº† reserveCapacity è¿™ä¸ªæ–¹æ³•æ¥ä¸ºæ•°ç»„å¢åŠ å¤‡ç”¨å®¹é‡ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ Swift ä¸­çš„æ•°ç»„è·Ÿ js python ç›¸åŒï¼Œéƒ½æ˜¯åŠ¨æ€æ•°ç»„ï¼Œå¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯ä¸éœ€è¦å…³å¿ƒæ•°ç»„å¤§å°çš„ï¼Œä½†æ˜¯é€šè¿‡è¿™ç§äº‹å‰ä¸ºæ•°ç»„å¢åŠ å®¹é‡çš„æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬åœ¨éœ€è¦å¤§é‡ append æ“ä½œçš„æ—¶å€™å‡å°‘ç³»ç»Ÿæ¶ˆè€—ã€‚\ninout å’Œ &amp; ï¼ŒSwift ä¸ JAVA ä¸åŒï¼Œå¯¹äºå¯¹è±¡ç±»å‚æ•°çš„å¤„ç†æ˜¯ç›´æ¥ä¿®æ”¹å…¶åŸå¯¹è±¡ä¿¡æ¯ã€‚Swift ä»ç„¶ç»§æ‰¿äº† C çš„åŸºç¡€ï¼Œå¯¹è±¡å‹å‚æ•°ä¼šå¤åˆ¶ä¸€ä»½åˆ°å‡½æ•°ä¸­ï¼ŒåŒæ—¶ï¼Œè¿™ä¸ªå˜é‡æ˜¯ä¸ª let å‹ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¹¶ä¸èƒ½ç›´æ¥æ“ä½œè¿™ä¸ªå˜é‡ï¼Œå¯¹è¿™ä¸ªå˜é‡çš„æ“ä½œå°±æ›´ä¸å¯èƒ½å½±å“åˆ°å‡½æ•°å¤–ã€‚è¿™æ˜¯ Swift ä¸ºäº†è´¯å½»å…¶å®‰å…¨çš„ç†å¿µçš„æªæ–½ã€‚é‚£ä¹ˆå¯¹äºéœ€è¦ç›´æ¥æ›´æ”¹å®é™…å˜é‡çš„æ“ä½œå‘¢ï¼Œæˆ‘ä»¬å°±è¦ç”¨åˆ° inout å’Œ &amp; è¿™ä¸€å¯¹æ“ä½œç¬¦ï¼Œæœ‰ä¸€ç‚¹åƒ C ä¸­çš„æŒ‡é’ˆï¼Œå¸¦æœ‰ inout çš„å‚æ•°æ‰èƒ½è¢«ç›´æ¥è®¿é—®å’Œä¿®æ”¹ã€‚\nsubsequence ï¼Œåœ¨æœ€åçš„æ–¹æ³•ä¸­æˆ‘ä»¬ç›´æ¥ä½¿ç”¨åŒºé—´è¿ç®—ä½œä¸ºæ•°ç»„çš„ä¸‹æ ‡æ¥è®¿é—®åŒä¸€ä¸ªæ•°ç»„çš„å‰åä¸¤éƒ¨åˆ†ï¼Œä½†æ˜¯æˆ‘ä»¬è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ ·å¾—åˆ°çš„å®é™…ä¸Šå¹¶éæ˜¯ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯ä¸ªéµå®ˆäº† subsequence çš„ç±»å‹ï¼Œè€Œæ•°ç»„ï¼Œä»–å®ç°çš„æ˜¯ sequence åè®®ï¼Œè¿™ä¸¤ä¸ªè¿˜ä¸å¤ªä¸€æ ·ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ä¼ å…¥å‚æ•°çš„æ—¶å€™å°†å…¶è¿›è¡Œäº†ç±»å‹è½¬æ¢ã€‚\nå¿«é€Ÿæ’åº123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138class Quick&lt;T: Comparable&gt; &#123;    var data: [T]        init(_ array: [T]) &#123;        self.data = array        // æ‰“ä¹±ä¸€ä¸ªæ•°ç»„ shuffle, shuffled        // https://developer.apple.com/documentation/swift/array/2994757-shuffled        data.shuffle()        //sort(&amp;data, lo: 0, hi: data.count - 1)        //quick3Sort(&amp;data, lo: 0, hi: data.count - 1)        data = quicksort(data)    &#125;    // æœ€ç»å…¸çš„åˆ‡åˆ†æ–¹å¼ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†    func sort(_ array: inout [T], lo: Int, hi: Int) &#123;        if hi &lt;= lo &#123;            return        &#125;        let j = partition(&amp;array, lo: lo, hi: hi)        sort(&amp;array, lo: lo, hi: j - 1)        sort(&amp;array, lo: j + 1, hi: hi)    &#125;    // æ‰‹å†™ partition å®é™…ä¸Šå¯ä»¥ä½¿ç”¨é«˜çº§æ“ä½œç¬¦ filter æ¥ç›´æ¥å®Œæˆåˆ‡åˆ†    func partition(_ array: inout [T], lo: Int, hi: Int) -&gt; Int &#123;        var i = lo        var j = hi + 1        let v = array[lo]        while true &#123;            i += 1            while array[i] &gt; v &#123;                if i == hi &#123;                    break                &#125;                i += 1            &#125;            j -= 1            while v &gt; array[j] &#123;                if j == lo &#123;                    break                &#125;                j -= 1            &#125;            if i &gt;= j &#123;                break            &#125;            array.swapAt(i, j)        &#125;        array.swapAt(lo, j)        return j    &#125;        // æ›´ç®€æ´çš„å†™æ³•    func quicksortHoare(_ a: inout [T], low: Int, high: Int) &#123;        if low &lt; high &#123;            let p = partitionHoare(&amp;a, low: low, high: high)            quicksortHoare(&amp;a, low: low, high: p)            quicksortHoare(&amp;a, low: p + 1, high: high)        &#125;    &#125;        func partitionHoare(_ a: inout [T], low: Int, high: Int) -&gt; Int &#123;        let pivot = a[low]        var i = low - 1        var j = high + 1                while true &#123;            repeat &#123; j -= 1 &#125; while a[j] &gt; pivot            repeat &#123; i += 1 &#125; while a[i] &lt; pivot                        if i &lt; j &#123;                a.swapAt(i, j)            &#125; else &#123;                return j            &#125;        &#125;    &#125;    // ä¸‰å‘åˆ‡åˆ†    func quick3Sort(_ array: inout [T], lo: Int, hi: Int) &#123;        if hi &lt;= lo &#123;            return        &#125;        var lt = lo, i = lo + 1, gt = hi        let v = array[lo]        while i &lt;= gt &#123;            if array[i] &lt; v &#123;                array.swapAt(lt, i)                lt += 1                i += 1            &#125;            else if v &lt; array[i] &#123;                array.swapAt(i, gt)                gt -= 1            &#125;            else &#123;                i += 1            &#125;        &#125;        quick3Sort(&amp;array, lo: lo, hi: lt - 1)        quick3Sort(&amp;array, lo: gt + 1, hi: hi)    &#125;    // ä¸‰é¡¹åˆ‡åˆ†ï¼Œåˆ©ç”¨é«˜çº§å‡½æ•°ï¼Œæ•ˆç‡å¹¶ä¸å¤ªé«˜    func quicksort&lt;T: Comparable&gt;(_ a: [T]) -&gt; [T] &#123;        guard a.count &gt; 1 else &#123; return a &#125;                //let pivot = a[a.count/2]        let pivot = a[0]        let less = a.filter &#123; $0 &lt; pivot &#125;        let equal = a.filter &#123; $0 == pivot &#125;        let greater = a.filter &#123; $0 &gt; pivot &#125;                return quicksort(less) + equal + quicksort(greater)    &#125;    // ä¸‰å‘åˆ‡åˆ†ï¼Œå–æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†    func partitionLomuto&lt;T: Comparable&gt;(_ a: inout [T], low: Int, high: Int) -&gt; Int &#123;        let pivot = a[high]                var i = low        for j in low..&lt;high &#123;            if a[j] &lt;= pivot &#123;                (a[i], a[j]) = (a[j], a[i])                i += 1            &#125;        &#125;        (a[i], a[high]) = (a[high], a[i])        return i    &#125;        func quicksortLomuto&lt;T: Comparable&gt;(_ a: inout [T], low: Int, high: Int) &#123;        if low &lt; high &#123;            let p = partitionLomuto(&amp;a, low: low, high: high)            quicksortLomuto(&amp;a, low: low, high: p - 1)            quicksortLomuto(&amp;a, low: p + 1, high: high)        &#125;    &#125;    &#125;\nå¤©ä¸‹ç¬¬ä¸€çš„å¿«æ’\næ¶‰åŠåˆ°çš„ Swift ç‰¹æ€§ï¼šæœ‰å‡ ä¸ªæ•°ç»„é«˜çº§æ“ä½œï¼š\n\nshuffle()\nfilter\n\nshuffle å’Œ shuffled ï¼Œæ±‚æ±‚ä½ ä»¬ä¸è¦å†ğŸ¦å‡ æŠŠæ‰‹å†™é‚£äº›é¬¼éšæœºæ‰“ä¹±ç®—æ³•äº†ï¼Œäººå®¶å†™çš„å¥½å¥½çš„ï¼Œä¸€ä¸ªç›´æ¥æ“ä½œæ•°ç»„ï¼Œä¸€ä¸ªè¿”å›æ‰“ä¹±åçš„æ•°ç»„ã€‚\nfilter è¿™æ˜¯ä¸ª Swift 4.2+ å¢åŠ çš„æ–°æ–¹æ³•ï¼Œç”¨äºç›´æ¥é€‰å‡ºæ•°ç»„ä¸­ç¬¦åˆæŸä¸€ç±»æ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›å€¼æ˜¯ä¸ªæ•°ç»„ï¼Œç”¨åœ¨å¿«æ’é‡Œç®€ç›´çˆ½åˆ°é£èµ·ï¼Œä½†æ˜¯åº”è¯¥æ˜¯ç°åœ¨çš„ oj éƒ½è¿˜ä¸æ”¯æŒè¿™ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªæ–¹æ³•å’Œ reduce ï¼Œ map éƒ½å¯èƒ½æ˜¯é¢è¯•ä¸­çš„é‡ç‚¹ã€‚\nå †æ’åº123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990// å †å’Œä¼˜å…ˆé˜Ÿåˆ—class Heap&lt;T: Comparable&gt; &#123;    var data = [T]()    var N = 0    init(size: Int) &#123;        data.reserveCapacity(size + 1)    &#125;        func insert(new: T) &#123;        N += 1        data.append(new)        swim(N)    &#125;    // å¤§å…ƒç´ ä¸Šæµ®    func swim(_ k: Int) &#123;        var k = k        while k &gt; 1 &amp;&amp; data[k/2] &lt; data[k] &#123;            // å¤§èŠ‚ç‚¹ä¸æ–­ä¸Šæµ®            data.swapAt(k/2, k)            k = k / 2        &#125;    &#125;        // å°å…ƒç´ ä¸‹æ²‰    func sink(_ k: Int) &#123;        var k = k        while 2*k &lt;= N &#123;            var j = 2 * k            if j &lt; N &amp;&amp; data[j] &lt; data[j+1] &#123;                // å·¦èŠ‚ç‚¹æ˜¯è¾ƒå°çš„èŠ‚ç‚¹,é€‰æ‹©å³èŠ‚ç‚¹ä½œä¸ºæ–°çš„æ ¹ç»“ç‚¹                j += 1            &#125;            // å¦‚æœå½“å‰ k å·èŠ‚ç‚¹å°äºå…¶çˆ¶èŠ‚ç‚¹ï¼Œä¸‹æ²‰            guard data[k] &lt; data[j] else &#123; break &#125;            data.swapAt(k, j)            k = j        &#125;    &#125;        func delMax() -&gt; T &#123;        data.swapAt(1, N)        let max = data.remove(at: N)        N -= 1        sink(1)        return max    &#125;&#125;class heapSort &#123;        func sort(_ array: inout [Int]) &#123;        var N = array.count - 1        for k in stride(from: N/2, through: 1, by: -1) &#123;            sink(&amp;array, k, N)        &#125;                while N &gt; 1 &#123;            array.swapAt(1, N)            N -= 1            sink(&amp;array, 1, N)        &#125;    &#125;        // å¤§å…ƒç´ ä¸Šæµ®    func swim(_ data: inout [Int], _ k: Int, _ N: Int) &#123;        var k = k        while k &gt; 1 &amp;&amp; data[k/2] &lt; data[k] &#123;            // å¤§èŠ‚ç‚¹ä¸æ–­ä¸Šæµ®            data.swapAt(k/2, k)            k = k / 2        &#125;    &#125;        // å°å…ƒç´ ä¸‹æ²‰    func sink(_ data: inout [Int], _ k: Int, _ N: Int) &#123;        var k = k        while 2*k &lt;= N &#123;            var j = 2 * k            if j &lt; N &amp;&amp; data[j] &lt; data[j+1] &#123;                // å·¦èŠ‚ç‚¹æ˜¯è¾ƒå°çš„èŠ‚ç‚¹,é€‰æ‹©å³èŠ‚ç‚¹ä½œä¸ºæ–°çš„æ ¹ç»“ç‚¹                j += 1            &#125;            // å¦‚æœå½“å‰ k å·èŠ‚ç‚¹å°äºå…¶çˆ¶èŠ‚ç‚¹ï¼Œä¸‹æ²‰            guard data[k] &lt; data[j] else &#123; break &#125;            data.swapAt(k, j)            k = j        &#125;    &#125;&#125;\nå †æ’åºæ²¡å•¥çš„ï¼ŒåŸºæœ¬éƒ½è¯´å®Œäº†ã€‚éœ€è¦æ³¨æ„çš„å°±æ˜¯è¿™é‡Œçš„ for å¾ªç¯å’Œ python çš„ç›¸åŒï¼Œä¸èƒ½å¸¦ä»€ä¹ˆæ“ä½œï¼ŒåŒæ—¶å€’åºçš„è¯ï¼Œå¯ä»¥ç”¨ reserve æˆ–è€…æ˜¯ stride å°†æ­¥é•¿è®¾å®šä¸º -1ã€‚\nReferenceæ€»ç»“ Swift ä¸­éšæœºæ•°çš„ä½¿ç”¨ -  CocoaChina è‹¹æœå¼€å‘ä¸­æ–‡ç«™ - æœ€çƒ­çš„iPhoneå¼€å‘ç¤¾åŒº æœ€çƒ­çš„è‹¹æœå¼€å‘ç¤¾åŒº æœ€çƒ­çš„iPadå¼€å‘ç¤¾åŒº\n","thumbnail":"https://xkeith.space/static/halo-frontend/images/thumbnail/thumbnail-5.jpg","plink":"https://xkeith.space/post/åŸºäºç®—æ³•çš„ Swift å­¦ä¹ ä¹‹è·¯ï¼ˆæ’åºï¼‰/"},{"title":"å¦‚ä½•é€Ÿæˆå‰ç«¯ä¸‰ä»¶å¥— ï¼ˆHTMLï¼‰","date":"2019-03-16T13:46:00.000Z","updated":"2019-03-16T11:00:00.005Z","content":"\nHTMLé‚£äº›ä½ ä¸çŸ¥é“çš„æ ‡ç­¾&lt;body bgcolor=&quot;yellow&quot;&gt;\nèƒŒæ™¯é¢œè‰²ç”¨ bgcolor\n&lt;a href=â€œmailto:xxx@yyyâ€&gt;\nå‘é‚®ä»¶ç”¨ mailto\n&lt;a href=&quot;url&quot; target=&quot;_blank&quot;&gt;\næ–°çª—å£ç”¨ _blank\n&lt;td align=&quot;left&quot;&gt;\nå•å…ƒæ ¼å¯¹å…¶ç”¨ align\n&lt;select&gt;  &lt;textarea&gt;\nè¿™ä¸ªä¸ç”¨ input\n&lt;body background=&quot;background.gif&quot;&gt;\nèƒŒæ™¯å›¾ç‰‡ç”¨ background\n&lt;hr /&gt;\næ°´å¹³åˆ†å‰²çº¿ç”¨ hr\næµè§ˆå™¨ä¼šè‡ªåŠ¨åœ°åœ¨æ®µè½çš„å‰åæ·»åŠ ç©ºè¡Œã€‚ï¼ˆ&lt;p&gt;æ˜¯å—çº§å…ƒç´ ï¼‰\n åº”è¯¥é¿å…ä½¿ç”¨ä¸‹é¢è¿™äº›æ ‡ç­¾å’Œå±æ€§ï¼š&lt;center&gt;                    å®šä¹‰å±…ä¸­çš„å†…å®¹ã€‚&lt;font&gt; å’Œ &lt;basefont&gt;            å®šä¹‰ HTML å­—ä½“ã€‚&lt;s&gt; å’Œ &lt;strike&gt;            å®šä¹‰åˆ é™¤çº¿æ–‡æœ¬&lt;u&gt;                            å®šä¹‰ä¸‹åˆ’çº¿æ–‡æœ¬align                        å®šä¹‰æ–‡æœ¬çš„å¯¹é½æ–¹å¼bgcolor                        å®šä¹‰èƒŒæ™¯é¢œè‰²color                        å®šä¹‰æ–‡æœ¬é¢œè‰²\nstyle=â€œtext-align:centerâ€\nè¿™æ ·å±…ä¸­æœ€å¸…\n&lt;sub&gt; &amp; &lt; sup&gt;\næ–‡å­—ä¸‹æ ‡å’Œä¸Šæ ‡\n&lt;bdo dir=&quot;rtl&quot;&gt; Here is some Hebrew text &lt;/bdo&gt;\nå€’åºè¾“å‡ºæ–‡æœ¬\n12345678&lt;blockquote&gt;è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚è¿™æ˜¯é•¿çš„å¼•ç”¨ã€‚&lt;/blockquote&gt;è¿™æ˜¯çŸ­çš„å¼•ç”¨ï¼š&lt;q&gt;è¿™æ˜¯çŸ­çš„å¼•ç”¨ã€‚&lt;/q&gt;\n&lt;abbr&gt; æœ‰ä¸‹åˆ’çº¿ï¼Œ &lt;dfn&gt; æ˜¯æ–œä½“\n::&lt;img&gt; çš„ title æ˜¯é¼ æ ‡æ‚¬æµ®æ˜¾ç¤ºçš„æ–‡å­— , alt æ˜¯å›¾ç‰‡å‡ºä¸æ¥çš„æ—¶å€™æ˜¾ç¤ºçš„æ–‡å­—::\n1234è¿™æ˜¯é‚®ä»¶é“¾æ¥ï¼š&lt;a href=\"mailto:someone@microsoft.com?subject=Hello%20again\"&gt;å‘é€é‚®ä»¶&lt;/a&gt;&lt;/p&gt;&lt;a href=\"mailto:someone@microsoft.com?cc=someoneelse@microsoft.com&amp;bcc=andsomeoneelse2@microsoft.com&amp;subject=Summer%20Party&amp;body=You%20are%20invited%20to%20a%20big%20summer%20party!\"&gt;å‘é€é‚®ä»¶ï¼&lt;/a&gt;\nä½¿ç”¨ %20 æ¥ä»£æ›¿å•è¯ä¹‹é—´çš„ç©ºæ ¼\n&lt;tr&gt; æ¥æ¢è¡Œ &lt;td&gt; æ¥å®šä¹‰ä¸€ä¸ªå•å…ƒæ ¼ åœ¨ &lt;th&gt; ä¸­ä½¿ç”¨ colspan æˆ– rowspan æ¥è·¨è¶Šåˆ—æˆ–è¡Œ\nå¦‚ä½•åº”ä»˜è€å¼çš„æµè§ˆå™¨å¦‚æœæµè§ˆå™¨å‹æ ¹æ²¡æ³•è¯†åˆ«&lt;script&gt; æ ‡ç­¾ï¼Œé‚£ä¹ˆ &lt;script&gt;æ ‡ç­¾æ‰€åŒ…å«çš„å†…å®¹å°†ä»¥æ–‡æœ¬æ–¹å¼æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œä½ åº”è¯¥å°†è„šæœ¬éšè—åœ¨æ³¨é‡Šæ ‡ç­¾å½“ä¸­ã€‚é‚£äº›è€çš„æµè§ˆå™¨ï¼ˆæ— æ³•è¯†åˆ« &lt;script&gt;æ ‡ç­¾çš„æµè§ˆå™¨ï¼‰å°†å¿½ç•¥è¿™äº›æ³¨é‡Šï¼Œæ‰€ä»¥ä¸ä¼šå°†æ ‡ç­¾çš„å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ä¸Šã€‚è€Œé‚£äº›æ–°çš„æµè§ˆå™¨å°†è¯»æ‡‚è¿™äº›è„šæœ¬å¹¶æ‰§è¡Œå®ƒä»¬ï¼Œå³ä½¿ä»£ç è¢«åµŒå¥—åœ¨æ³¨é‡Šæ ‡ç­¾å†…ã€‚\n12345&lt;script type=&quot;text/javascript&quot;&gt;&lt;!--document.write(&quot;Hello World!&quot;)//--&gt;&lt;/script&gt;\nURL ç¼–ç ä½¿ç”¨ â€œ%â€ å…¶åè·Ÿéšä¸¤ä½çš„åå…­è¿›åˆ¶æ•°æ¥æ›¿æ¢é ASCII å­—ç¬¦ã€‚URL ä¸èƒ½åŒ…å«ç©ºæ ¼ã€‚URL ç¼–ç é€šå¸¸ä½¿ç”¨ + æ¥æ›¿æ¢ç©ºæ ¼ã€‚\næç¤ºï¼šä»…ä»…æœ‰ 16 ç§é¢œè‰²åè¢« W3C çš„ HTML4.0 æ ‡å‡†æ‰€æ”¯æŒã€‚å®ƒä»¬æ˜¯ï¼šaqua, black, blue, fuchsia, gray, green, lime, maroon, navy, olive, purple, red, silver, teal, white, yellowã€‚\nHTML ä¹Ÿæœ‰å¤šä¸ªä¸åŒçš„ç‰ˆæœ¬ï¼Œåªæœ‰å®Œå…¨æ˜ç™½é¡µé¢ä¸­ä½¿ç”¨çš„ç¡®åˆ‡ HTML ç‰ˆæœ¬ï¼Œæµè§ˆå™¨æ‰èƒ½å®Œå…¨æ­£ç¡®åœ°æ˜¾ç¤ºå‡º HTML é¡µé¢ã€‚è¿™å°±æ˜¯ &lt;!DOCTYPE&gt; çš„ç”¨å¤„ã€‚&lt;!DOCTYPE&gt; ä¸æ˜¯ HTML æ ‡ç­¾ã€‚å®ƒä¸ºæµè§ˆå™¨æä¾›ä¸€é¡¹ä¿¡æ¯ï¼ˆå£°æ˜ï¼‰ï¼Œå³ HTML æ˜¯ç”¨ä»€ä¹ˆç‰ˆæœ¬ç¼–å†™çš„ã€‚\n&lt;!DOCTYPE html&gt;     æ˜¯ HTML5 çš„å£°æ˜\nåœ¨ &lt;input&gt; ä¸­ä½¿ç”¨ readonly æ¥è§„å®šè¾“å…¥å­—æ®µä¸ºåªè¯» ç­‰åŒäº readonly=&quot;readonly&quot; \ndisabledå±æ€§è§„å®šè¾“å…¥å­—æ®µæ˜¯ç¦ç”¨çš„ã€‚è¢«ç¦ç”¨çš„å…ƒç´ æ˜¯ä¸å¯ç”¨å’Œä¸å¯ç‚¹å‡»çš„ã€‚è¢«ç¦ç”¨çš„å…ƒç´ ä¸ä¼šè¢«æäº¤ã€‚\nè¯­ä¹‰å…ƒç´ æ¸…æ¥šåœ°å‘æµè§ˆå™¨å’Œå¼€å‘è€…æè¿°å…¶æ„ä¹‰ã€‚éè¯­ä¹‰å…ƒç´ çš„ä¾‹å­ï¼š&lt;div&gt; å’Œ &lt;span&gt; - æ— æ³•æä¾›å…³äºå…¶å†…å®¹çš„ä¿¡æ¯ã€‚è¯­ä¹‰å…ƒç´ çš„ä¾‹å­ï¼š&lt;form&gt;ã€&lt;table&gt; ä»¥åŠ &lt;img&gt; - æ¸…æ™°åœ°å®šä¹‰å…¶å†…å®¹ã€‚\né‚£äº›ä½ å¿…é¡»è¦çŸ¥é“çš„ä¸œè¥¿\nGET å’Œ POST çš„åŒºåˆ«\n\nå¤§å¤šæ•° web æœåŠ¡å™¨ï¼ˆApacheã€Unixï¼‰å¯¹æ–‡ä»¶åçš„å¤§å°å†™æ•æ„Ÿï¼šä¸èƒ½ä»¥ london.jpg è®¿é—® London.jpgã€‚å…¶ä»– web æœåŠ¡å™¨ï¼ˆå¾®è½¯ï¼ŒIISï¼‰å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼šèƒ½å¤Ÿä»¥ london.jpg æˆ– London.jpg è®¿é—® London.jpgã€‚å¦‚æœä½¿ç”¨æ··åˆå¤§å°å†™ï¼Œé‚£ä¹ˆæ‚¨å¿…é¡»ä¿æŒé«˜åº¦çš„ä¸€è‡´æ€§ã€‚å¦‚æœæ‚¨ä»å¯¹å¤§å°å†™ä¸æ•æ„Ÿçš„æœåŠ¡å™¨è½¬åˆ°ä¸€å°å¯¹å¤§å°å†™æ•æ„Ÿçš„æœåŠ¡å™¨ä¸Šï¼Œè¿™äº›å°é”™è¯¯å°†ç ´åæ‚¨çš„ç½‘ç«™ã€‚ä¸ºäº†é¿å…è¿™äº›é—®é¢˜ï¼Œè¯·å§‹ç»ˆä½¿ç”¨å°å†™æ–‡ä»¶åï¼ˆå¦‚æœå¯ä»¥çš„è¯ï¼‰ã€‚\nHTML5HTML5 æ–°å…ƒç´ \nHTML5 å¢åŠ äº†å¦‚ä¸‹è¡¨å•å…ƒç´ ï¼š\n\ndatalist\nkeygen\noutput\n\nInternet Explorer çš„é—®é¢˜ä¸Šè¿°æ–¹æ¡ˆå¯ç”¨äºæ‰€æœ‰æ–°çš„ HTML5 å…ƒç´ ï¼Œä½†æ˜¯ï¼šæ³¨æ„ï¼šInternet Explorer 8 ä»¥åŠæ›´æ—©çš„ç‰ˆæœ¬ï¼Œä¸å…è®¸å¯¹æœªçŸ¥å…ƒç´ æ·»åŠ æ ·å¼ã€‚å¹¸è¿çš„æ˜¯ï¼ŒSjoerd Visscher åˆ›é€ äº† â€œHTML5 Enabling JavaScriptâ€,â€the shivâ€ï¼š\n\n\n123&lt;!--[if lt IE 9]&gt;  &lt;script src=&quot;http://html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;&lt;![endif]--&gt;\nè¿™æ®µæ³¨é‡Šä¼šè¢« IE 9 ä»¥ä¸‹çš„æµè§ˆå™¨ç†è§£ï¼Œå¹¶é€šè¿‡è¿™ä¸ªè„šæœ¬æ–‡ä»¶ç†è§£ HTML5 é‡Œé¢æ–°å¢çš„æ ‡è®°ã€‚\n\n\nCanvas and SVG\nSVG æ˜¯ä¸€ç§ä½¿ç”¨ XML æè¿° 2D å›¾å½¢çš„è¯­è¨€ã€‚SVG åŸºäº XMLï¼Œè¿™æ„å‘³ç€ SVG DOM ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å¯ç”¨çš„ã€‚æ‚¨å¯ä»¥ä¸ºæŸä¸ªå…ƒç´ é™„åŠ  JavaScript äº‹ä»¶å¤„ç†å™¨ã€‚åœ¨ SVG ä¸­ï¼Œæ¯ä¸ªè¢«ç»˜åˆ¶çš„å›¾å½¢å‡è¢«è§†ä¸ºå¯¹è±¡ã€‚å¦‚æœ SVG å¯¹è±¡çš„å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆæµè§ˆå™¨èƒ½å¤Ÿè‡ªåŠ¨é‡ç°å›¾å½¢ã€‚\nCanvas é€šè¿‡ JavaScript æ¥ç»˜åˆ¶ 2D å›¾å½¢ã€‚Canvas æ˜¯é€åƒç´ è¿›è¡Œæ¸²æŸ“çš„ã€‚åœ¨ canvas ä¸­ï¼Œä¸€æ—¦å›¾å½¢è¢«ç»˜åˆ¶å®Œæˆï¼Œå®ƒå°±ä¸ä¼šç»§ç»­å¾—åˆ°æµè§ˆå™¨çš„å…³æ³¨ã€‚å¦‚æœå…¶ä½ç½®å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆæ•´ä¸ªåœºæ™¯ä¹Ÿéœ€è¦é‡æ–°ç»˜åˆ¶ï¼ŒåŒ…æ‹¬ä»»ä½•æˆ–è®¸å·²è¢«å›¾å½¢è¦†ç›–çš„å¯¹è±¡ã€‚\nCanvasä¾èµ–åˆ†è¾¨ç‡\n\nä¸æ”¯æŒäº‹ä»¶å¤„ç†å™¨\nå¼±çš„æ–‡æœ¬æ¸²æŸ“èƒ½åŠ›\nèƒ½å¤Ÿä»¥ .png æˆ– .jpg æ ¼å¼ä¿å­˜ç»“æœå›¾åƒ\næœ€é€‚åˆå›¾åƒå¯†é›†å‹çš„æ¸¸æˆï¼Œå…¶ä¸­çš„è®¸å¤šå¯¹è±¡ä¼šè¢«é¢‘ç¹é‡ç»˜\n\nSVGä¸ä¾èµ–åˆ†è¾¨ç‡\n\næ”¯æŒäº‹ä»¶å¤„ç†å™¨\næœ€é€‚åˆå¸¦æœ‰å¤§å‹æ¸²æŸ“åŒºåŸŸçš„åº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚è°·æ­Œåœ°å›¾ï¼‰\nå¤æ‚åº¦é«˜ä¼šå‡æ…¢æ¸²æŸ“é€Ÿåº¦ï¼ˆä»»ä½•è¿‡åº¦ä½¿ç”¨ DOM çš„åº”ç”¨éƒ½ä¸å¿«ï¼‰\nä¸é€‚åˆæ¸¸æˆåº”ç”¨\n\n\n","thumbnail":"https://xkeith.space/static/halo-frontend/images/thumbnail/thumbnail-8.jpg","plink":"https://xkeith.space/post/å¦‚ä½•é€Ÿæˆå‰ç«¯ä¸‰ä»¶å¥— ï¼ˆHTMLï¼‰/"},{"title":"iOS é¢è¯•å‡†å¤‡","date":"2019-03-15T17:53:03.478Z","updated":"2019-03-15T22:00:00.039Z","content":"\nåŸºç¡€\nå¯é€‰é¡¹å’Œå¯é€‰é“¾\nå­—ç¬¦ä¸²\né—­åŒ… (å¾ªç¯å¼•ç”¨)\nweak\nGCD\nruntime\nUIControler\n\nè¯­è¨€å’Œæ ¸å¿ƒåŸç†\nSocket \nTCP / IP\n\nxcode å’Œå„ç§å·¥å…·\nCarthage\ncocoapods\n\n\nSwift package manger\n\n\nReactNative\n\n\ncocoa æ¡†æ¶\n\né¡¹ç›®\npixel app\necho app\nAlgorithm \n\nReferenceBeijingIamback - ç®€ä¹¦\n","thumbnail":"https://xkeith.me/static/halo-frontend/images/thumbnail/thumbnail-5.jpg","plink":"https://xkeith.space/post/iOS é¢è¯•å‡†å¤‡/"},{"title":"åŸºäºç®—æ³•çš„ Swift å­¦ä¹ ä¹‹è·¯ï¼ˆcocoapod å’Œ Carthageï¼‰","date":"2019-03-14T01:40:00.000Z","updated":"2019-03-16T03:00:00.021Z","content":"\nä¸ºå•¥è¦ç”¨åŒ…ç®¡ç†å·¥å…·æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šç”¨åˆ°ï¼ˆä¾èµ–äºï¼‰å…¶ä»–ç¬¬ä¸‰æ–¹åº“ï¼Œè¿™äº›åº“æˆ–æ¡†æ¶è¿˜æœ‰å¯èƒ½ä¾èµ–äºå…¶ä»–åº“æˆ–è€…æ¡†æ¶ï¼Œæ‰‹åŠ¨ç®¡ç†è¿™äº›åº“æˆ–è€…æ¡†æ¶éå¸¸éº»çƒ¦ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸‹è½½è¿™äº›åº“æˆ–è€…æ¡†æ¶ï¼Œç„¶åè¿˜è¦è€ƒè™‘ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨å¯¼å…¥ä¸€äº›ä¾èµ–åŒ…(ps:æƒ³æƒ³å°±å¤Ÿäº†)ï¼Œè¿˜å¥½æœ‰CocoaPodså’ŒCarthageå·¥å…·ç®¡ç†é¡¹ç›®ä¾èµ–å…³ç³»ã€‚\nCocoaPodsCocoaPodsæ”¯æŒé¡¹ç›®ä¸­é‡‡ç”¨Objective-Cæˆ–swiftè¯­è¨€ã€‚::CocoaPodsä¼šå°†ç¬¬ä¸‰æ–¹åº“çš„æºä»£ç ç¼–è¯‘ä¸ºé™æ€åº“.aæ–‡ä»¶æˆ–è€…é™æ€æ¡†æ¶.frameworkæ–‡ä»¶çš„å½¢å¼ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼Œå»ºç«‹ä¾èµ–å…³ç³»ã€‚::\næ›´æ¢ Ruby æº123456gem sources -l (æŸ¥çœ‹å½“å‰rubyçš„æº)gem sources --add https://gems.ruby-china.org/ gem sources --remove https://rubygems.org/ gem sources -lsudo gem install cocoapodspod set\nåŸºæœ¬ä½¿ç”¨pod init  æ¥æ–°å»º podfile\nç¼–è¾‘é¡¹ç›®è·¯å¾„ä¸‹çš„ Podfile ï¼Œå¯ä»¥é€šè¿‡å®˜ç½‘æ£€ç´¢ä¾èµ–åŒ…æˆ–è€…ä½¿ç”¨ pod search å‘½ä»¤ã€‚cocoapods æ˜¯ä¸­å¿ƒåŒ–çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå› æ­¤æœ‰äº›æ²¡æœ‰æ”¶å½•åœ¨ cocoapods ä¸­çš„ä¾èµ–å°†ä¸èƒ½ä»ä¸­å¿ƒåº“ç›´æ¥å¼•å…¥ï¼ˆå¦‚ GitHub ä¸Šçš„éƒ¨åˆ†å¼€æºé¡¹ç›®ï¼‰ï¼Œå¯¹äºè¿™ç§ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰‹åŠ¨æ ‡æ³¨åŸé“¾æ¥çš„æ–¹å¼å¼•å…¥ï¼š\npod â€˜PNChartSwiftâ€™,:git =&gt; &#39;git url&#39;\næ³¨æ„äº‹é¡¹123~&gt;3.0  è¡¨ç¤ºå¤§äºç­‰äº3.0ç‰ˆæœ¬ï¼Œå°äºä¸‹ä¸€ä¸ªä¸»ç‰ˆæœ¬ï¼Œå³4.0ç‰ˆæœ¬&gt;=3.0  è¡¨ç¤ºå¤§äºç­‰äº3.0ç‰ˆæœ¬==3.0  è¡¨ç¤ºç­‰äº3.0ç‰ˆæœ¬\nã€€ã€€Podfileæœ¬è´¨ä¸Šæ˜¯ç”¨æ¥æè¿°Xcodeå·¥ç¨‹ä¸­çš„targetsç”¨çš„ã€‚å¦‚æœæˆ‘ä»¬ä¸æ˜¾å¼æŒ‡å®šPodfileå¯¹åº”çš„targetï¼ŒCocoaPodsä¼šåˆ›å»ºä¸€ä¸ªåç§°ä¸ºdefaultçš„éšå¼targetï¼Œä¼šå’Œæˆ‘ä»¬å·¥ç¨‹ä¸­çš„ç¬¬ä¸€ä¸ªtargetç›¸å¯¹åº”ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœåœ¨Podfileä¸­æ²¡æœ‰æŒ‡å®štargetï¼Œé‚£ä¹ˆåªæœ‰å·¥ç¨‹é‡Œçš„ç¬¬ä¸€ä¸ªtargetèƒ½å¤Ÿä½¿ç”¨Podfileä¸­æè¿°çš„Podsä¾èµ–åº“ã€‚ã€€ã€€å¦‚æœæƒ³åœ¨ä¸€ä¸ªPodfileä¸­åŒæ—¶æè¿°projectä¸­çš„å¤šä¸ªtargetï¼Œæ ¹æ®éœ€æ±‚çš„ä¸åŒï¼Œå¯ä»¥æœ‰ä¸åŒçš„å®ç°æ–¹å¼ã€‚ç°åœ¨çš„projectä¸­åŒ…å«çš„targetæœ‰ï¼šCocoapodsTestã€CocoapodsTestTestsã€CocoapodsTestUITestsã€‚\nå¦‚æœå¼•å…¥ä¾èµ–çš„æ—¶å€™ä¸æ˜¾ç¤ºæ ‡ç¤ºä¾èµ–åº“ç‰ˆæœ¬ï¼Œè¡¨ç¤ºæ¯æ¬¡éƒ½è·å–æœ€æ–°ç‰ˆæœ¬\nç§»é™¤æˆ–ä¿®æ”¹åº“åï¼Œæ‰§è¡Œpod update   æ¥è®©æ›´æ”¹ç”Ÿæ•ˆ\nPodfile.lock æ–‡ä»¶æ‰§è¡Œå®Œpod installä¹‹åï¼Œä¼šç”Ÿæˆä¸€ä¸ªPodfile.lockæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ç”¨äºä¿å­˜å·²ç»å®‰è£…çš„Podsä¾èµ–åº“çš„ç‰ˆæœ¬ã€‚\nPodfile.lockæ–‡ä»¶æœ€å¤§å¾—ç”¨å¤„åœ¨äºå¤šäººå¼€å‘ã€‚å¯¹äºæ²¡æœ‰åœ¨Podfileä¸­æŒ‡å®šPodsä¾èµ–åº“ç‰ˆæœ¬çš„å†™æ³•ï¼Œå¦‚ä¸‹ï¼špod â€˜Reachabilityâ€™è¯¥å¥è¯ç”¨äºè·å–å½“å‰Reachabilityè¿™ä¸ªPodsä¾èµ–åº“çš„æœ€æ–°ç‰ˆæœ¬ã€‚å½“å›¢é˜Ÿä¸­çš„æŸä¸ªäººæ‰§è¡Œå®Œpod installå‘½ä»¤åï¼Œç”Ÿæˆçš„Podfile.lockæ–‡ä»¶å°±è®°å½•ä¸‹äº†å½“æ—¶æœ€æ–°Podsä¾èµ–åº“çš„ç‰ˆæœ¬ï¼Œè¿™æ—¶å›¢é˜Ÿä¸­çš„å…¶å®ƒäººcheckä¸‹æ¥è¿™ä»½åŒ…å« Podfile.lockæ–‡ä»¶çš„å·¥ç¨‹ä»¥åï¼Œå†å»æ‰§è¡Œpod installå‘½ä»¤æ—¶ï¼Œè·å–ä¸‹æ¥çš„Podsä¾èµ–åº“çš„ç‰ˆæœ¬å°±å’Œæœ€å¼€å§‹ç”¨æˆ·è·å–åˆ°çš„ç‰ˆæœ¬ä¸€è‡´ã€‚å¦‚æœæ²¡æœ‰Podfile.lockæ–‡ä»¶ï¼Œåç»­æ‰€æœ‰ç”¨æˆ·æ‰§è¡Œpod installå‘½ä»¤éƒ½ä¼šè·å–æœ€æ–°ç‰ˆæœ¬çš„Reachabilityï¼Œè¿™å°±æœ‰å¯èƒ½é€ æˆåŒä¸€ä¸ªå›¢é˜Ÿä½¿ç”¨çš„ä¾èµ–åº“ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œè¿™å¯¹å›¢é˜Ÿåä½œæ¥è¯´ç»å¯¹æ˜¯ä¸ªç¾éš¾ï¼åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœå›¢é˜Ÿæƒ³ä½¿ç”¨å½“å‰æœ€æ–°ç‰ˆæœ¬çš„SBJsonä¾èµ–åº“ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š\n\næ›´æ”¹Podfileï¼Œä½¿å…¶æŒ‡å‘æœ€æ–°ç‰ˆæœ¬çš„Reachabilityä¾èµ–åº“ï¼›\næ‰§è¡Œpod updateå‘½ä»¤ï¼›é‰´äºPodfile.lockæ–‡ä»¶å¯¹å›¢é˜Ÿåä½œå¦‚æ­¤é‡è¦ï¼Œæˆ‘ä»¬å»ºè®®å°†å®ƒæ·»åŠ åˆ°ç‰ˆæœ¬ç®¡ç†ä¸­ã€‚\n\nCarthageCocoaPodså·²ç»æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„å·¥å…·äº†ï¼Œæˆ‘ä»¬è¿˜æœ‰å¦å¤–ä¸€ä¸ªé€‰æ‹©â€”â€”Carthage,å®ƒæ˜¯ä¸€ä¸ªè½»é‡çº§çš„é¡¹ç›®ä¾èµ–ç®¡ç†å·¥å…·ã€‚Carthageä¸»å¼ â€œ::å»ä¸­å¿ƒåŒ–::â€å’Œâ€œ::éä¾µå…¥æ€§::â€ã€‚CocoaPodsæ­å»ºäº†ä¸€ä¸ªä¸­å¿ƒåº“ï¼Œç¬¬ä¸‰æ–¹åº“è¢«æ”¶å…¥åˆ°è¯¥ä¸­å¿ƒåº“ï¼Œæ‰€ä»¥æ²¡æœ‰æ”¶å½•çš„ç¬¬ä¸‰æ–¹åº“æ˜¯ä¸èƒ½ä½¿ç”¨CocoaPodsç®¡ç†çš„ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€ä¸­å¿ƒåŒ–â€œæ€æƒ³ã€‚è€ŒCarthageæ²¡æœ‰è¿™æ ·çš„ä¸­å¿ƒåº“ï¼Œ::ç¬¬ä¸‰æ–¹åº“åŸºæœ¬ä¸Šéƒ½æ˜¯ä»GitHubæˆ–è€…ç§æœ‰gitåº“ä¸­ä¸‹è½½çš„ï¼Œè¿™å°±æ˜¯â€œå»ä¸­å¿ƒåŒ–â€::ã€‚å¦å¤–ï¼ŒCocoaPodsä¸‹è½½ç¬¬ä¸‰æ–¹åº“åï¼Œä¼šå°†å…¶ç¼–è¯‘æˆé™æ€é“¾æ¥åº“æˆ–è€…åŠ¨æ€æ¡†æ¶æ–‡ä»¶ï¼Œè¿™ç§åšæ³•ä¼šä¿®æ”¹Xcodeé¡¹ç›®å±æ€§é…ç½®ä¾èµ–å…³ç³»ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€ä¾µå…¥æ€§â€œã€‚è€ŒCarthageä¸‹è½½æˆåŠŸåï¼Œä¼šå°†ç¬¬ä¸‰æ–¹åº“ç¼–è¯‘ä¸º::åŠ¨æ€æ¡†æ¶::ï¼Œç”±å¼€å‘äººå‘˜è‡ªå·±é…ç½®ä¾èµ–å…³ç³»ï¼Œ::Carthageä¸ä¼šä¿®æ”¹Xcodeé¡¹ç›®å±æ€§::ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€éä¾µå…¥æ€§â€œã€‚\nåŸºæœ¬ä½¿ç”¨\nåˆ›å»ºXcodeå·¥ç¨‹å¹¶åˆ‡æ¢åˆ°è¯¥å·¥ç¨‹è·¯å¾„\nåˆ›å»ºä¸€ä¸ªCartfileï¼Œå°†ä½ æƒ³è¦ä½¿ç”¨çš„æ¡†æ¶åˆ—åœ¨é‡Œé¢github â€œAFNetworking/AFNetworkingâ€ ~&gt; 3.0github â€œrs/SDWebImageâ€github â€œgithub urlâ€\nè¿è¡Œcarthage updateï¼Œå°†è·å–ä¾èµ–æ–‡ä»¶åˆ°ä¸€ä¸ªCarthage.checkoutæ–‡ä»¶å¤¹ï¼Œç„¶åç¼–è¯‘æ¯ä¸ªä¾èµ–\nåœ¨ä½ çš„åº”ç”¨ç¨‹åºtargetçš„Generalè®¾ç½®æ ‡ç­¾ä¸­çš„Embedded BinariesåŒºåŸŸï¼Œå°†æ¡†æ¶ä»Carthage.buildæ–‡ä»¶å¤¹æ‹–æ‹½è¿›å»ã€‚\n\næ³¨æ„äº‹é¡¹Carthageç¼–è¯‘ä½ çš„ä¾èµ–ï¼Œå¹¶æä¾›æ¡†æ¶çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½†ä½ ä»ç„¶ä¿ç•™å¯¹é¡¹ç›®çš„ç»“æ„å’Œè®¾ç½®çš„å®Œæ•´æ§åˆ¶ã€‚Carthageä¸ä¼šè‡ªåŠ¨çš„ä¿®æ”¹ä½ çš„é¡¹ç›®æ–‡ä»¶æˆ–ç¼–è¯‘è®¾ç½®ã€‚Carthageåªæ­£å¼æ”¯æŒåŠ¨æ€æ¡†æ¶ï¼ŒåŠ¨æ€æ¡†æ¶èƒ½å¤Ÿåœ¨ä»»ä½•ç‰ˆæœ¬çš„OS Xä¸Šä½¿ç”¨ï¼Œä½†åªèƒ½åœ¨iOS 8åŠä»¥ä¸Šç‰ˆæœ¬ä½¿ç”¨ã€‚\nCocoaPods å’Œ Carthage çš„åŒºåˆ«\nCarthageåªæ”¯æŒiOS 8åŠä»¥ä¸Šç‰ˆæœ¬ä½¿ç”¨ã€‚\né¦–å…ˆï¼ŒCocoaPodsé»˜è®¤ä¼šè‡ªåŠ¨åˆ›å»ºå¹¶æ›´æ–°ä½ çš„åº”ç”¨ç¨‹åºå’Œæ‰€æœ‰ä¾èµ–çš„Xcode workspaceã€‚Carthageä½¿ç”¨xcodebuildæ¥ç¼–è¯‘æ¡†æ¶çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½†å¦‚ä½•é›†æˆå®ƒä»¬å°†äº¤ç”±ç”¨æˆ·è‡ªå·±åˆ¤æ–­ã€‚CocoaPodsçš„æ–¹æ³•æ›´æ˜“äºä½¿ç”¨ï¼Œä½†Carthageæ›´çµæ´»å¹¶ä¸”æ˜¯éä¾µå…¥æ€§çš„ã€‚\nCocoaPodsçš„ç›®æ ‡åœ¨å®ƒçš„READMEæ–‡ä»¶æè¿°å¦‚ä¸‹ï¼šâ€¦ä¸ºæé«˜ç¬¬ä¸‰æ–¹å¼€æºåº“çš„å¯è§æ€§å’Œå‚ä¸åº¦ï¼Œåˆ›å»ºä¸€ä¸ªæ›´ä¸­å¿ƒåŒ–çš„ç”Ÿæ€ç³»ç»Ÿã€‚ä¸ä¹‹å¯¹ç…§ï¼ŒCarthageåˆ›å»ºçš„æ˜¯å»ä¸­å¿ƒåŒ–çš„ä¾èµ–ç®¡ç†å™¨ã€‚å®ƒæ²¡æœ‰æ€»é¡¹ç›®çš„åˆ—è¡¨ï¼Œè¿™èƒ½å¤Ÿå‡å°‘ç»´æŠ¤å·¥ä½œå¹¶ä¸”é¿å…ä»»ä½•ä¸­å¿ƒåŒ–å¸¦æ¥çš„é—®é¢˜ï¼ˆå¦‚ä¸­å¤®æœåŠ¡å™¨å®•æœºï¼‰ã€‚ä¸è¿‡ï¼Œè¿™æ ·ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œå°±æ˜¯é¡¹ç›®çš„å‘ç°å°†æ›´å›°éš¾ï¼Œç”¨æˆ·å°†ä¾èµ–äºGithubçš„è¶‹åŠ¿é¡µé¢æˆ–è€…ç±»ä¼¼çš„ä»£ç åº“æ¥å¯»æ‰¾é¡¹ç›®ã€‚\nCocoaPodsé¡¹ç›®åŒæ—¶è¿˜å¿…é¡»åŒ…å«ä¸€ä¸ªpodspecæ–‡ä»¶ï¼Œé‡Œé¢æ˜¯é¡¹ç›®çš„ä¸€äº›å…ƒæ•°æ®ï¼Œä»¥åŠç¡®å®šé¡¹ç›®çš„ç¼–è¯‘æ–¹å¼ã€‚Carthageä½¿ç”¨xcodebuildæ¥ç¼–è¯‘ä¾èµ–ï¼Œè€Œä¸æ˜¯å°†ä»–ä»¬é›†æˆè¿›ä¸€ä¸ªworkspaceï¼Œå› æ­¤æ— éœ€ç±»ä¼¼çš„è®¾å®šæ–‡ä»¶ã€‚ä¸è¿‡ä¾èµ–éœ€è¦åŒ…å«è‡ªå·±çš„Xcodeå·¥ç¨‹æ–‡ä»¶æ¥æè¿°å¦‚ä½•ç¼–è¯‘ã€‚\næœ€åï¼Œæˆ‘ä»¬åˆ›å»ºCarthageçš„åŸå› æ˜¯æƒ³è¦ä¸€ç§å°½å¯èƒ½ç®€å•çš„å·¥å…·â€”â€”ä¸€ä¸ªåªå…³å¿ƒæœ¬èŒå·¥ä½œçš„ä¾èµ–ç®¡ç†å™¨ï¼Œè€Œä¸æ˜¯å–ä»£éƒ¨åˆ†Xcodeçš„åŠŸèƒ½ï¼Œæˆ–è€…éœ€è¦è®©æ¡†æ¶ä½œè€…åšä¸€äº›é¢å¤–çš„å·¥ä½œã€‚CocoaPodsæä¾›çš„ä¸€äº›ç‰¹æ€§å¾ˆæ£’ï¼Œä½†ç”±äºé™„åŠ çš„å¤æ‚æ€§ï¼Œå®ƒä»¬å°†ä¸ä¼šè¢«åŒ…å«åœ¨Carthageå½“ä¸­ã€‚\n\nReference https://www.jianshu.com/p/6c4b1b4a69c5iOS cocoapods ä½¿ç”¨ä»¥åŠç‰ˆæœ¬æ›´æ–° - chrisbin - åšå®¢å›­CocoaPodså’ŒCarthageæµ…æ(æ–°) - ç®€ä¹¦\n","thumbnail":"https://xkeith.me/static/halo-frontend/images/thumbnail/thumbnail-9.jpg","plink":"https://xkeith.space/post/arc-01/"},{"title":"About ME","date":"2019-03-17T12:51:09.000Z","updated":"2019-07-18T14:34:08.008Z","content":"keith\n\nè¿™é‡Œæ˜¯ keith ğŸ¤’ ï¼Œç›®å‰å°±è¯»äºå¤§è¿æµ·äº‹å¤§å­¦ã€‚\nè¶…çº§å–œæ¬¢æµ·è±¹ï¼ï¼ï¼\næ­£åœ¨å¤‡æˆ˜ç§‹æ‹›â€¦ç›®æ ‡æ˜¯ JIKEï¼Œ BAT ï¼Œè¿˜æœ‰å¤´æ¡å’Œå…¶ä»–æœ‰æ¿€æƒ…çš„åœ°æ–¹\nç›®å‰çš„ä¸»è¦ç ”å‘æ–¹å‘æ˜¯ å‰ç«¯å’Œ iOS\næ— æ¯”çƒ­çˆ± Swift ğŸ¶ å’Œ JavaScript è¿˜æœ‰ Python \nç›®å‰å›½å†…çš„ Swift ç¤¾åŒºåŸºæœ¬æ˜¯é ğŸ®ä»¬çš„åšå®¢æ’‘èµ·æ¥çš„ï¼Œå¸Œæœ›æˆ‘ä¹Ÿèƒ½ä¸º Swift ç¤¾åŒºæ·»ç –åŠ ç“¦\nå¸Œæœ›åŠ å…¥å³å‚ï¼Œé‡åˆ°æ›´å¤šçš„ Swift å¤§ğŸ‚\nå¥½çš„äº§å“è‡ªæœ‰ä¸‡é’§ä¹‹åŠ›ï¼Œå¸Œæœ›æˆ‘èƒ½ä¸æµäºä¸–ä¿—\næœŸå¾…ä»»ä½•æ–¹é¢çš„äº¤æµå’Œæ²Ÿé€š\nè¦é¦–å…ˆåšä¸ªæœ‰è¶£çš„çµé­‚ï¼\n\n\n","plink":"https://xkeith.space/about/"}]