{"title":"Airbnb JavaScript Style Guide","date":"2019-06-14T10:35:18.000Z","link":"post/arc-26","tags":["code_style"],"categories":["前端"],"updated":"2019-06-23T14:09:45.288Z","content":"<blockquote>\n<p>自律即自由<br><a id=\"more\"></a></p>\n</blockquote>\n<h2 id=\"1-Reference\">1.Reference<a href=\"post/arc-26#1-Reference\"></a></h2><h3 id=\"1-1-Use-const-for-all-of-your-references-avoid-using-var\">1.1 Use <code>const</code> for all of your references; avoid using <code>var</code><a href=\"post/arc-26#1-1-Use-const-for-all-of-your-references-avoid-using-var\"></a></h3><p>为所有对象使用 <code>const</code> 同时不要使用 <code>var</code> 来声明任何变量。<br>使用具有块级作用域的 <code>let</code> 而不要继续使用 <code>var</code>，它具有令人疑惑的函数作用域。</p>\n<h2 id=\"2-Objects\">2.Objects<a href=\"post/arc-26#2-Objects\"></a></h2><h3 id=\"2-1-Use-the-literal-syntax-for-object-creation\">2.1 Use the literal syntax for object creation<a href=\"post/arc-26#2-1-Use-the-literal-syntax-for-object-creation\"></a></h3><p>直接使用字面量来创建对象。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> item = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> item = &#123;&#125;;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-2-Use-computed-property-names-when-creating-objects-with-dynamic-property-names\">2.2 Use computed property names when creating objects with dynamic property names.<a href=\"post/arc-26#2-2-Use-computed-property-names-when-creating-objects-with-dynamic-property-names\"></a></h3><p>使用计算属性当创建对象时需要动态属性名的情况，这可以使你的对象属性都在同一个位置定义。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getKey</span>(<span class=\"params\">k</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">`a key named <span class=\"subst\">$&#123;k&#125;</span>`</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  id: <span class=\"number\">5</span>,</span><br><span class=\"line\">  name: <span class=\"string\">'San Francisco'</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">obj[getKey(<span class=\"string\">'enabled'</span>)] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  id: <span class=\"number\">5</span>,</span><br><span class=\"line\">  name: <span class=\"string\">'San Francisco'</span>,</span><br><span class=\"line\">  [getKey(<span class=\"string\">'enabled'</span>)]: <span class=\"literal\">true</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-3-Use-object-method-shorthand\">2.3 Use object method shorthand.<a href=\"post/arc-26#2-3-Use-object-method-shorthand\"></a></h3><p>使用 ES6 新增的对象方法简写形式。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> atom = &#123;</span><br><span class=\"line\">  value: <span class=\"number\">1</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  addValue: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> atom.value + value;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> atom = &#123;</span><br><span class=\"line\">  value: <span class=\"number\">1</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  addValue(value) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> atom.value + value;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-4-Use-property-value-shorthand\">2.4 Use property value shorthand<a href=\"post/arc-26#2-4-Use-property-value-shorthand\"></a></h3><p>使用 ES6 新增的对象属性简写形式。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> lukeSkywalker = <span class=\"string\">'Luke Skywalker'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  lukeSkywalker: lukeSkywalker,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  lukeSkywalker,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-5-Group-your-shorthand-properities-at-the-beginning-of-your-object-declaration\">2.5 Group your shorthand properities at the beginning of your object declaration<a href=\"post/arc-26#2-5-Group-your-shorthand-properities-at-the-beginning-of-your-object-declaration\"></a></h3><p>把使用简写模式的属性放到其他属性的前面，这样可以让简写属性一目了然。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> anakinSkywalker = <span class=\"string\">'Anakin Skywalker'</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> lukeSkywalker = <span class=\"string\">'Luke Skywalker'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  episodeOne: <span class=\"number\">1</span>,</span><br><span class=\"line\">  twoJediWalkIntoACantina: <span class=\"number\">2</span>,</span><br><span class=\"line\">  lukeSkywalker,</span><br><span class=\"line\">  episodeThree: <span class=\"number\">3</span>,</span><br><span class=\"line\">  mayTheFourth: <span class=\"number\">4</span>,</span><br><span class=\"line\">  anakinSkywalker,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  lukeSkywalker,</span><br><span class=\"line\">  anakinSkywalker,</span><br><span class=\"line\">  episodeOne: <span class=\"number\">1</span>,</span><br><span class=\"line\">  twoJediWalkIntoACantina: <span class=\"number\">2</span>,</span><br><span class=\"line\">  episodeThree: <span class=\"number\">3</span>,</span><br><span class=\"line\">  mayTheFourth: <span class=\"number\">4</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-6-Only-quote-properties-that-are-invalid-identifiers\">2.6 Only quote properties that are invalid identifiers<a href=\"post/arc-26#2-6-Only-quote-properties-that-are-invalid-identifiers\"></a></h3><p>只有当属性名非法的时候才使用引号。这样会增强可读性，改善编辑器的高亮效果，也可以更容易的被 JavaScript 引擎优化。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> bad = &#123;</span><br><span class=\"line\">  <span class=\"string\">'foo'</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">  <span class=\"string\">'bar'</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">  <span class=\"string\">'data-blah'</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> good = &#123;</span><br><span class=\"line\">  foo: <span class=\"number\">3</span>,</span><br><span class=\"line\">  bar: <span class=\"number\">4</span>,</span><br><span class=\"line\">  <span class=\"string\">'data-blah'</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Reference\">Reference<a href=\"post/arc-26#Reference\"></a></h2><p><a href=\"https://github.com/airbnb/javascript\" target=\"_blank\" rel=\"noopener\">GitHub - airbnb/javascript: JavaScript Style Guide</a></p>\n","next":{"title":"踏破 CSS","link":"post/arc-25"},"plink":"https://xkeith.space/post/arc-26/","toc":[{"title":"1.Reference","id":"1-Reference","index":"1","children":[{"title":"1.1 Use <code>const</code> for all of your references; avoid using <code>var</code>","id":"1-1-Use-const-for-all-of-your-references-avoid-using-var","index":"1.1"}]},{"title":"2.Objects","id":"2-Objects","index":"2","children":[{"title":"2.1 Use the literal syntax for object creation","id":"2-1-Use-the-literal-syntax-for-object-creation","index":"2.1"},{"title":"2.2 Use computed property names when creating objects with dynamic property names.","id":"2-2-Use-computed-property-names-when-creating-objects-with-dynamic-property-names","index":"2.2"},{"title":"2.3 Use object method shorthand.","id":"2-3-Use-object-method-shorthand","index":"2.3"},{"title":"2.4 Use property value shorthand","id":"2-4-Use-property-value-shorthand","index":"2.4"},{"title":"2.5 Group your shorthand properities at the beginning of your object declaration","id":"2-5-Group-your-shorthand-properities-at-the-beginning-of-your-object-declaration","index":"2.5"},{"title":"2.6 Only quote properties that are invalid identifiers","id":"2-6-Only-quote-properties-that-are-invalid-identifiers","index":"2.6"}]},{"title":"Reference","id":"Reference","index":"3"}]}